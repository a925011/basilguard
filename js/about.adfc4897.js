(self["webpackChunkbasilguard"]=self["webpackChunkbasilguard"]||[]).push([[594],{4111:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return l}});var n=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[e("p",[t._v("本产品是一个专为实验室植物养殖研究开发的智能温湿度监测系统，")]),e("p",[t._v("确保植物生长的环境条件，实时监测温度以及土壤湿度，")]),e("p",[t._v("使研究者可以随时从网页观测数据，")]),e("p",[t._v("以便于更好更便利的了解并掌握植物生长情况。")]),e("p",[t._v("当温湿度偏离设定的阈值，系统会进行自动报警，并进行显示。")]),e("p",[t._v("在进行不同植物检测时可以选择不同阈值，方便实验者进行检测。")])])])}],r=i(1656),a={},s=(0,r.A)(a,n,o,!1,null,null,null),l=s.exports},6304:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return l}});var n=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"guanyuwomen"},[e("div",{staticClass:"text-content"},[e("h2",[t._v("帮助中心")]),e("p",[t._v("欢迎来到我们的罗勒生长监测系统帮助中心。")]),e("p",[t._v("在这里，您可以找到使用我们网站和系统时可能需要的所有信息和指导。")]),e("p",[t._v("如果您在使用过程中遇到任何问题，或者有任何疑问，以下是一些常见问题的解答。")]),e("h3",[t._v("# 查看数据")]),e("h4",[t._v("—> 查看数据—> 温度监测数据/湿度监测数据")]),e("p",[t._v("进入页面后，您可以在首页看到罗勒生长环境的实时温/湿度数据。")]),e("p",[t._v("这些数据通过W601开发板实时收集并更新。您还可以查看过去一段时间内的环境数据记录。")]),e("p",[t._v("这有助于您分析罗勒生长环境的变化趋势。")]),e("h4",[t._v("—> echart")]),e("p",[t._v("在“echart”页面,您可以查看温湿度的数据折线图,直观的查看温湿度变化趋势。")]),e("h3",[t._v("# 报警与订阅")]),e("h4",[t._v("—> 报警与订阅")]),e("p",[t._v("您可以在“阈值更改”页面中设置温湿度的报警阈值。一旦实际数据超过这些阈值，")]),e("p",[t._v("系统将通过电子邮件或短信通知您。")]),e("h3",[t._v("# 植物介绍")]),e("h4",[t._v("—> 更多—> 植物介绍—关于罗勒")]),e("p",[t._v("在此页面，您可以了解到关于罗勒的详细信息，包括罗勒的品种介绍、特点、用途等。")]),e("h3",[t._v("# 阈值更改")]),e("h4",[t._v("—> 更多—> 阈值更改")]),e("p",[t._v("在此页面，您可以根据罗勒的生长阶段和环境需求，随时调整温湿度的报警阈值。")]),e("h3",[t._v("# 关于我们")]),e("h4",[t._v("—> 更多—> 关于我们")]),e("p",[t._v("在“关于我们”页面，您可以了解到我们团队的背景、使命和git init愿景。")]),e("p",[t._v("如果您需要进一步的帮助或有合作意向，可以通过页面提供的联系方式与我们联系。")]),e("h3",[t._v("# 最后")]),e("p",[t._v("如果您在帮助中心找不到答案，或者需要进一步的帮助，请通过以下方式联系我们：")]),e("p",[t._v("- 邮箱:3406669656@qq.com")]),e("p",[t._v("- 电话:18622410335")]),e("p",[t._v("- 地址:天津市西青区天津师范大学德邻公寓10号楼217")]),e("p",[t._v("我们期待您的反馈，以便我们不断改进服务，更好地满足您的需求。")])])])}],r=i(1656),a={},s=(0,r.A)(a,n,o,!1,null,"1c34f759",null),l=s.exports},5473:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return f}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"excel1"},[e("UI",{attrs:{msg:"查看设备详情"}})],1)},o=[],r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("温度监测数据")]),e("table",[t._m(0),e("tbody",t._l(t.devices,(function(i,n){return e("tr",{key:n},[e("td"),e("td",[t._v(t._s(i.监测编号))]),e("td",[t._v(t._s(i.温度水平))]),e("td",[t._v(t._s(i.监测时间))]),e("td")])})),0)])])},a=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td"),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测编号")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("温度水平")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测时间")]),e("td")])])}],s={data(){return{devices:[],temperatureDevices:[],humidityDevices:[]}},async created(){try{const t=await fetch("http://127.0.0.1:5000/devices"),e=await t.json();this.devices=e}catch(t){console.error("Error fetching data:",t)}}},l=s,h=i(1656),u=(0,h.A)(l,r,a,!1,null,"56cfbbf2",null),c=u.exports,d={name:"DataView",components:{UI:c}},p=d,g=(0,h.A)(p,n,o,!1,null,null,null),f=g.exports},2499:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return tR}});var n=function(){var t=this,e=t._self._c;return e("div",{ref:"chart",staticStyle:{width:"600px",height:"400px"}})},o=[],r=i(3421),a=i(9109),s=i(6666),l=i(5915),h=i(7355),u=i(8026),c=i(3976),d=i(3442),p=[],g={registerPreprocessor:r.lP,registerProcessor:r.qg,registerPostInit:r.cf,registerPostUpdate:r.tb,registerUpdateLifecycle:r.xV,registerAction:r.OH,registerCoordinateSystem:r.pX,registerLayout:r.Oh,registerVisual:r.AF,registerTransform:r.iY,registerLoading:r.Ej,registerMap:r.mz,registerImpl:c.m,PRIORITY:r.FQ,ComponentModel:l.A,ComponentView:a.A,SeriesModel:h.A,ChartView:s.A,registerComponentModel:function(t){l.A.registerClass(t)},registerComponentView:function(t){a.A.registerClass(t)},registerSeriesModel:function(t){h.A.registerClass(t)},registerChartView:function(t){s.A.registerClass(t)},registerSubTypeDefaulter:function(t,e){l.A.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){(0,d.fI)(t,e)}};function f(t){(0,u.cy)(t)?(0,u.__)(t,(function(t){f(t)})):(0,u.qh)(p,t)>=0||(p.push(t),(0,u.Tn)(t)&&(t={install:t}),t.install(g))}var m=i(8170),y=i(9308),v=i(5638),x=i(9622),_=i(4326),b=i(2836),w=i(6346),M=i(5070),S=i(9195),I=i(8717),A=i(1589),C=i(9259),T=i(5587),D=i(3509),L=i(4833),k=2*Math.PI,P=I.A.CMD,O=["top","right","bottom","left"];function N(t,e,i,n,o){var r=i.width,a=i.height;switch(t){case"top":n.set(i.x+r/2,i.y-e),o.set(0,-1);break;case"bottom":n.set(i.x+r/2,i.y+a+e),o.set(0,1);break;case"left":n.set(i.x-e,i.y+a/2),o.set(-1,0);break;case"right":n.set(i.x+r+e,i.y+a/2),o.set(1,0);break}}function R(t,e,i,n,o,r,a,s,l){a-=t,s-=e;var h=Math.sqrt(a*a+s*s);a/=h,s/=h;var u=a*i+t,c=s*i+e;if(Math.abs(n-o)%k<1e-4)return l[0]=u,l[1]=c,h-i;if(r){var d=n;n=(0,A.n)(o),o=(0,A.n)(d)}else n=(0,A.n)(n),o=(0,A.n)(o);n>o&&(o+=k);var p=Math.atan2(s,a);if(p<0&&(p+=k),p>=n&&p<=o||p+k>=n&&p+k<=o)return l[0]=u,l[1]=c,h-i;var g=i*Math.cos(n)+t,f=i*Math.sin(n)+e,m=i*Math.cos(o)+t,y=i*Math.sin(o)+e,v=(g-a)*(g-a)+(f-s)*(f-s),x=(m-a)*(m-a)+(y-s)*(y-s);return v<x?(l[0]=g,l[1]=f,Math.sqrt(v)):(l[0]=m,l[1]=y,Math.sqrt(x))}function E(t,e,i,n,o,r,a,s){var l=o-t,h=r-e,u=i-t,c=n-e,d=Math.sqrt(u*u+c*c);u/=d,c/=d;var p=l*u+h*c,g=p/d;s&&(g=Math.min(Math.max(g,0),1)),g*=d;var f=a[0]=t+g*u,m=a[1]=e+g*c;return Math.sqrt((f-o)*(f-o)+(m-r)*(m-r))}function z(t,e,i,n,o,r,a){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n);var s=t+i,l=e+n,h=a[0]=Math.min(Math.max(o,t),s),u=a[1]=Math.min(Math.max(r,e),l);return Math.sqrt((h-o)*(h-o)+(u-r)*(u-r))}var V=[];function B(t,e,i){var n=z(e.x,e.y,e.width,e.height,t.x,t.y,V);return i.set(V[0],V[1]),n}function F(t,e,i){for(var n,o,r=0,a=0,s=0,l=0,h=1/0,u=e.data,c=t.x,d=t.y,p=0;p<u.length;){var g=u[p++];1===p&&(r=u[p],a=u[p+1],s=r,l=a);var f=h;switch(g){case P.M:s=u[p++],l=u[p++],r=s,a=l;break;case P.L:f=E(r,a,u[p],u[p+1],c,d,V,!0),r=u[p++],a=u[p++];break;case P.C:f=(0,C.Et)(r,a,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],c,d,V),r=u[p++],a=u[p++];break;case P.Q:f=(0,C.kh)(r,a,u[p++],u[p++],u[p],u[p+1],c,d,V),r=u[p++],a=u[p++];break;case P.A:var m=u[p++],y=u[p++],v=u[p++],x=u[p++],_=u[p++],b=u[p++];p+=1;var w=!!(1-u[p++]);n=Math.cos(_)*v+m,o=Math.sin(_)*x+y,p<=1&&(s=n,l=o);var M=(c-m)*x/v+m;f=R(m,y,x,_,_+b,w,M,d,V),r=Math.cos(_+b)*v+m,a=Math.sin(_+b)*x+y;break;case P.R:s=r=u[p++],l=a=u[p++];var S=u[p++],I=u[p++];f=z(s,l,S,I,c,d,V);break;case P.Z:f=E(r,a,s,l,c,d,V,!0),r=s,a=l;break}f<h&&(h=f,i.set(V[0],V[1]))}return h}var W=new w.A,G=new w.A,H=new w.A,X=new w.A,j=new w.A;function Y(t,e){if(t){var i=t.getTextGuideLine(),n=t.getTextContent();if(n&&i){var o=t.textGuideLineConfig||{},r=[[0,0],[0,0],[0,0]],a=o.candidates||O,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,h=o.anchor,u=t.getComputedTransform(),c=u&&(0,T.B8)([],u),d=e.get("length2")||0;h&&H.copy(h);for(var p=0;p<a.length;p++){var g=a[p];N(g,0,s,W,X),w.A.scaleAndAdd(G,W,X,d),G.transform(c);var f=t.getBoundingRect(),m=h?h.distance(G):t instanceof M.Ay?F(G,t.path,H):B(G,f,H);m<l&&(l=m,G.transform(u),H.transform(u),H.toArray(r[0]),G.toArray(r[1]),W.toArray(r[2]))}Z(r,e.get("minTurnAngle")),i.setShape({points:r})}}}var $=[],U=new w.A;function Z(t,e){if(e<=180&&e>0){e=e/180*Math.PI,W.fromArray(t[0]),G.fromArray(t[1]),H.fromArray(t[2]),w.A.sub(X,W,G),w.A.sub(j,H,G);var i=X.len(),n=j.len();if(!(i<.001||n<.001)){X.scale(1/i),j.scale(1/n);var o=X.dot(j),r=Math.cos(e);if(r<o){var a=E(G.x,G.y,H.x,H.y,W.x,W.y,$,!1);U.fromArray($),U.scaleAndAdd(j,a/Math.tan(Math.PI-e));var s=H.x!==G.x?(U.x-G.x)/(H.x-G.x):(U.y-G.y)/(H.y-G.y);if(isNaN(s))return;s<0?w.A.copy(U,G):s>1&&w.A.copy(U,H),U.toArray(t[1])}}}}function q(t,e,i){if(i<=180&&i>0){i=i/180*Math.PI,W.fromArray(t[0]),G.fromArray(t[1]),H.fromArray(t[2]),w.A.sub(X,G,W),w.A.sub(j,H,G);var n=X.len(),o=j.len();if(!(n<.001||o<.001)){X.scale(1/n),j.scale(1/o);var r=X.dot(e),a=Math.cos(i);if(r<a){var s=E(G.x,G.y,H.x,H.y,W.x,W.y,$,!1);U.fromArray($);var l=Math.PI/2,h=Math.acos(j.dot(e)),u=l+h-i;if(u>=l)w.A.copy(U,H);else{U.scaleAndAdd(j,s/Math.tan(Math.PI/2-u));var c=H.x!==G.x?(U.x-G.x)/(H.x-G.x):(U.y-G.y)/(H.y-G.y);if(isNaN(c))return;c<0?w.A.copy(U,G):c>1&&w.A.copy(U,H)}U.toArray(t[1])}}}}function K(t,e,i,n){var o="normal"===i,r=o?t:t.ensureState(i);r.ignore=e;var a=n.get("smooth");a&&!0===a&&(a=.3),r.shape=r.shape||{},a>0&&(r.shape.smooth=a);var s=n.getModel("lineStyle").getLineStyle();o?t.useStyle(s):r.style=s}function J(t,e){var i=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),i>0&&n.length>=3){var o=D.xg(n[0],n[1]),r=D.xg(n[1],n[2]);if(!o||!r)return t.lineTo(n[1][0],n[1][1]),void t.lineTo(n[2][0],n[2][1]);var a=Math.min(o,r)*i,s=D.Cc([],n[1],n[0],a/o),l=D.Cc([],n[1],n[2],a/r),h=D.Cc([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],h[0],h[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var u=1;u<n.length;u++)t.lineTo(n[u][0],n[u][1])}function Q(t,e,i){var n=t.getTextGuideLine(),o=t.getTextContent();if(o){for(var r=e.normal,a=r.get("show"),s=o.ignore,l=0;l<L.wV.length;l++){var h=L.wV[l],c=e[h],d="normal"===h;if(c){var p=c.get("show"),g=d?s:(0,u.bZ)(o.states[h]&&o.states[h].ignore,s);if(g||!(0,u.bZ)(p,a)){var f=d?n:n&&n.states[h];f&&(f.ignore=!0),n&&K(n,!0,h,c);continue}n||(n=new S.A,t.setTextGuideLine(n),d||!s&&a||K(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),K(n,!1,h,c)}}if(n){(0,u.NT)(n.style,i),n.style.fill=null;var m=r.get("showAbove"),y=t.textGuideLineConfig=t.textGuideLineConfig||{};y.showAbove=m||!1,n.buildPath=J}}else n&&t.removeTextGuideLine()}function tt(t,e){e=e||"labelLine";for(var i={normal:t.getModel(e)},n=0;n<L.BV.length;n++){var o=L.BV[n];i[o]=t.getModel([o,e])}return i}var et=i(4716);function it(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n.defaultAttr.ignore){var o=n.label,r=o.getComputedTransform(),a=o.getBoundingRect(),s=!r||r[1]<1e-5&&r[2]<1e-5,l=o.style.margin||0,h=a.clone();h.applyTransform(r),h.x-=l/2,h.y-=l/2,h.width+=l,h.height+=l;var u=s?new et.A(a,r):null;e.push({label:o,labelLine:n.labelLine,rect:h,localRect:a,obb:u,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:r})}}return e}function nt(t,e,i,n,o,r){var a=t.length;if(!(a<2)){t.sort((function(t,i){return t.rect[e]-i.rect[e]}));for(var s,l=0,h=!1,u=[],c=0,d=0;d<a;d++){var p=t[d],g=p.rect;s=g[e]-l,s<0&&(g[e]-=s,p.label[e]-=s,h=!0);var f=Math.max(-s,0);u.push(f),c+=f,l=g[e]+g[i]}c>0&&r&&w(-c/a,0,a);var m,y,v=t[0],x=t[a-1];return _(),m<0&&M(-m,.8),y<0&&M(y,.8),_(),b(m,y,1),b(y,m,-1),_(),m<0&&S(-m),y<0&&S(y),h}function _(){m=v.rect[e]-n,y=o-x.rect[e]-x.rect[i]}function b(t,e,i){if(t<0){var n=Math.min(e,-t);if(n>0){w(n*i,0,a);var o=n+t;o<0&&M(-o*i,1)}else M(-t*i,1)}}function w(i,n,o){0!==i&&(h=!0);for(var r=n;r<o;r++){var a=t[r],s=a.rect;s[e]+=i,a.label[e]+=i}}function M(n,o){for(var r=[],s=0,l=1;l<a;l++){var h=t[l-1].rect,u=Math.max(t[l].rect[e]-h[e]-h[i],0);r.push(u),s+=u}if(s){var c=Math.min(Math.abs(n)/s,o);if(n>0)for(l=0;l<a-1;l++){var d=r[l]*c;w(d,0,l+1)}else for(l=a-1;l>0;l--){d=r[l-1]*c;w(-d,l,a)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);for(var i=Math.ceil(t/(a-1)),n=0;n<a-1;n++)if(e>0?w(i,0,n+1):w(-i,a-n-1,a),t-=i,t<=0)return}}function ot(t,e,i,n){return nt(t,"x","width",e,i,n)}function rt(t,e,i,n){return nt(t,"y","height",e,i,n)}function at(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var i=new y.A(0,0,0,0);function n(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var o=0;o<t.length;o++){var r=t[o],a=r.axisAligned,s=r.localRect,l=r.transform,h=r.label,u=r.labelLine;i.copy(r.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var c=r.obb,d=!1,p=0;p<e.length;p++){var g=e[p];if(i.intersect(g.rect)){if(a&&g.axisAligned){d=!0;break}if(g.obb||(g.obb=new et.A(g.localRect,g.transform)),c||(c=new et.A(s,l)),c.intersect(g.obb)){d=!0;break}}}d?(n(h),u&&n(u)):(h.attr("ignore",r.defaultAttr.ignore),u&&u.attr("ignore",r.defaultAttr.labelGuideIgnore),e.push(r))}}var st=i(9632);function lt(t){if(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].slice());return e}}function ht(t,e){var i=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:lt(n&&n.shape.points)}}var ut=["align","verticalAlign","width","height","fontSize"],ct=new b.Ay,dt=(0,m.$r)(),pt=(0,m.$r)();function gt(t,e,i){for(var n=0;n<i.length;n++){var o=i[n];null!=e[o]&&(t[o]=e[o])}}var ft=["x","y","rotation"],mt=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,i,n,o){var r=n.style,a=n.__hostTarget,s=a.textConfig||{},l=n.getComputedTransform(),h=n.getBoundingRect().plain();y.A.applyTransform(h,h,l),l?ct.setLocalTransform(l):(ct.x=ct.y=ct.rotation=ct.originX=ct.originY=0,ct.scaleX=ct.scaleY=1),ct.rotation=(0,A.n)(ct.rotation);var u,c=n.__hostTarget;if(c){u=c.getBoundingRect().plain();var d=c.getComputedTransform();y.A.applyTransform(u,u,d)}var p=u&&c.getTextGuideLine();this._labelList.push({label:n,labelLine:p,seriesModel:i,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:h,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:p&&p.ignore,x:ct.x,y:ct.y,scaleX:ct.scaleX,scaleY:ct.scaleY,rotation:ct.rotation,style:{x:r.x,y:r.y,align:r.align,verticalAlign:r.verticalAlign,width:r.width,height:r.height,fontSize:r.fontSize},cursor:n.cursor,attachedPos:s.position,attachedRot:s.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,n=i.get("labelLayout");((0,u.Tn)(n)||(0,u.HP)(n).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var o=t.getTextContent(),r=(0,x.z)(t);o&&!o.disableLabelLayout&&e._addLabel(r.dataIndex,r.dataType,i,o,n)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function n(t,e){return function(){Y(t,e)}}for(var o=0;o<this._labelList.length;o++){var r=this._labelList[o],a=r.label,s=a.__hostTarget,l=r.defaultAttr,h=void 0;h=(0,u.Tn)(r.layoutOption)?r.layoutOption(ht(r,s)):r.layoutOption,h=h||{},r.computedLayoutOption=h;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:l.attachedPos,rotation:null!=h.rotate?h.rotate*c:l.attachedRot,offset:[h.dx||0,h.dy||0]});var d=!1;if(null!=h.x?(a.x=(0,_.lo)(h.x,e),a.setStyle("x",0),d=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=h.y?(a.y=(0,_.lo)(h.y,i),a.setStyle("y",0),d=!0):(a.y=l.y,a.setStyle("y",l.style.y)),h.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:h.labelLinePoints}),d=!1)}var g=dt(a);g.needsUpdateLabelLine=d,a.rotation=null!=h.rotate?h.rotate*c:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var f=0;f<ut.length;f++){var m=ut[f];a.setStyle(m,null!=h[m]?h[m]:l.style[m])}if(h.draggable){if(a.draggable=!0,a.cursor="move",s){var y=r.seriesModel;if(null!=r.dataIndex){var v=r.seriesModel.getData(r.dataType);y=v.getItemModel(r.dataIndex)}a.on("drag",n(s,y.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),i=t.getHeight(),n=it(this._labelList),o=(0,u.pb)(n,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),r=(0,u.pb)(n,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));ot(o,0,e),rt(r,0,i);var a=(0,u.pb)(n,(function(t){return t.layoutOption.hideOverlap}));at(a)},t.prototype.processLabelsOverall=function(){var t=this;(0,u.__)(this._chartViewList,(function(e){var i=e.__model,n=e.ignoreLabelLineUpdate,o=i.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var r=!n,a=e.getTextContent();!r&&a&&(r=dt(a).needsUpdateLabelLine),r&&t._updateLabelLine(e,i),o&&t._animateLabels(e,i)}))}))},t.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),n=(0,x.z)(t),o=n.dataIndex;if(i&&null!=o){var r=e.getData(n.dataType),a=r.getItemModel(o),s={},l=r.getItemVisual(o,"style");if(l){var h=r.getVisual("drawType");s.stroke=l[h]}var u=a.getModel("labelLine");Q(t,tt(a),s),Y(t,u)}},t.prototype._animateLabels=function(t,e){var i=t.getTextContent(),n=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!(0,v.LR)(t))){var o=dt(i),r=o.oldLayout,a=(0,x.z)(t),s=a.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},h=e.getData(a.dataType);if(r){i.attr(r);var c=t.prevStates;c&&((0,u.qh)(c,"select")>=0&&i.attr(o.oldLayoutSelect),(0,u.qh)(c,"emphasis")>=0&&i.attr(o.oldLayoutEmphasis)),(0,v.oi)(i,l,e,s)}else if(i.attr(l),!(0,st.Lu)(i).valueAnimation){var d=(0,u.bZ)(i.style.opacity,1);i.style.opacity=0,(0,v.LW)(i,{style:{opacity:d}},e,s)}if(o.oldLayout=l,i.states.select){var p=o.oldLayoutSelect={};gt(p,l,ft),gt(p,i.states.select,ft)}if(i.states.emphasis){var g=o.oldLayoutEmphasis={};gt(g,l,ft),gt(g,i.states.emphasis,ft)}(0,st.xb)(i,s,h,e,e)}if(n&&!n.ignore&&!n.invisible){o=pt(n),r=o.oldLayout;var f={points:n.shape.points};r?(n.attr({shape:r}),(0,v.oi)(n,{shape:f},e)):(n.setShape(f),n.style.strokePercent=0,(0,v.LW)(n,{style:{strokePercent:1}},e)),o.oldLayout=f}},t}(),yt=mt,vt=(0,m.$r)();function xt(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,i){var n=vt(e).labelManager;n||(n=vt(e).labelManager=new yt),n.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,i){var n=vt(e).labelManager;i.updatedSeries.forEach((function(t){n.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),n.updateLayoutConfig(e),n.layout(e),n.processLabelsOverall()}))}f(xt);var _t=i(3098),bt=i(5727),wt=i(7861),Mt=i(3479),St=i(9571),It=i(6448),At=i(9741);function Ct(t,e,i){var n=At.yh.createCanvas(),o=e.getWidth(),r=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=r+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*i,n.height=r*i,n}var Tt=function(t){function e(e,i,n){var o,r=t.call(this)||this;r.motionBlur=!1,r.lastFrameAlpha=.7,r.dpr=1,r.virtual=!1,r.config={},r.incremental=!1,r.zlevel=0,r.maxRepaintRectCount=5,r.__dirty=!0,r.__firstTimePaint=!0,r.__used=!1,r.__drawIndex=0,r.__startIndex=0,r.__endIndex=0,r.__prevStartIndex=null,r.__prevEndIndex=null,n=n||_t.Y5,"string"===typeof e?o=Ct(e,i,n):u.Gv(e)&&(o=e,e=o.id),r.id=e,r.dom=o;var a=o.style;return a&&(u.iq(o),o.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),r.painter=i,r.dpr=n,r}return(0,bt.C6)(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Ct("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,r=[],a=this.maxRepaintRectCount,s=!1,l=new y.A(0,0,0,0);function h(t){if(t.isFinite()&&!t.isZero())if(0===r.length){var e=new y.A(0,0,0,0);e.copy(t),r.push(e)}else{for(var i=!1,n=1/0,o=0,h=0;h<r.length;++h){var u=r[h];if(u.intersect(t)){var c=new y.A(0,0,0,0);c.copy(u),c.union(t),r[h]=c,i=!0;break}if(s){l.copy(t),l.union(u);var d=t.width*t.height,p=u.width*u.height,g=l.width*l.height,f=g-d-p;f<n&&(n=f,o=h)}}if(s&&(r[o].union(t),i=!0),!i){e=new y.A(0,0,0,0);e.copy(t),r.push(e)}s||(s=r.length>=a)}}for(var u=this.__startIndex;u<this.__endIndex;++u){var c=t[u];if(c){var d=c.shouldBePainted(i,n,!0,!0),p=c.__isRendered&&(c.__dirty&It.M||!d)?c.getPrevPaintRect():null;p&&h(p);var g=d&&(c.__dirty&It.M||!c.__isRendered)?c.getPaintRect():null;g&&h(g)}}for(u=this.__prevStartIndex;u<this.__prevEndIndex;++u){c=e[u],d=c&&c.shouldBePainted(i,n,!0,!0);if(c&&(!d||!c.__zr)&&c.__isRendered){p=c.getPrevPaintRect();p&&h(p)}}do{o=!1;for(u=0;u<r.length;)if(r[u].isZero())r.splice(u,1);else{for(var f=u+1;f<r.length;)r[u].intersect(r[f])?(o=!0,r[u].union(r[f]),r.splice(f,1)):f++;u++}}while(o);return this._paintRects=r,r},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var i=this.dpr,n=this.dom,o=n.style,r=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),n.width=t*i,n.height=e*i,r&&(r.width=t*i,r.height=e*i,1!==i&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,e,i){var n=this.dom,o=this.ctx,r=n.width,a=n.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,h=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,r/h,a/h));var d=this.domBack;function p(t,i,n,r){if(o.clearRect(t,i,n,r),e&&"transparent"!==e){var a=void 0;if(u.C7(e)){var p=e.global||e.__width===n&&e.__height===r;a=p&&e.__canvasGradient||(0,Mt.Ff)(o,e,{x:0,y:0,width:n,height:r}),e.__canvasGradient=a,e.__width=n,e.__height=r}else u.HE(e)&&(e.scaleX=e.scaleX||h,e.scaleY=e.scaleY||h,a=(0,St.ZQ)(o,e,{dirty:function(){c.setUnpainted(),c.painter.refresh()}}));o.save(),o.fillStyle=a||e,o.fillRect(t,i,n,r),o.restore()}s&&(o.save(),o.globalAlpha=l,o.drawImage(d,t,i,n,r),o.restore())}!i||s?p(0,0,r,a):i.length&&u.__(i,(function(t){p(t.x*h,t.y*h,t.width*h,t.height*h)}))},e}(wt.A),Dt=Tt,Lt=i(5825),kt=i(8123),Pt=1e5,Ot=314159,Nt=.01,Rt=.001;function Et(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function zt(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}var Vt=function(){function t(t,e,i,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=u.X$({},i||{}),this.dpr=i.devicePixelRatio||_t.Y5,this._singleCanvas=o,this.root=t;var r=t.style;r&&(u.iq(t),t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(o){var l=t,h=l.width,c=l.height;null!=i.width&&(h=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,l.width=h*this.dpr,l.height=c*this.dpr,this._width=h,this._height=c;var d=new Dt(l,this,this.dpr);d.__builtin__=!0,d.initContext(),s[Ot]=d,d.zlevel=Ot,a.push(Ot),this._domRoot=t}else{this._width=(0,Mt.YC)(t,0,i),this._height=(0,Mt.YC)(t,1,i);var p=this._domRoot=zt(this._width,this._height);t.appendChild(p)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<n.length;o++){var r=n[o],a=this._layers[r];if(!a.__builtin__&&a.refresh){var s=0===o?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var n,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},r=0;r<e;r++){var a=t[r];a.__inHover&&(i||(i=this._hoverlayer=this.getLayer(Pt)),n||(n=i.ctx,n.save()),(0,St.V$)(n,a,o,r===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(Pt)},t.prototype.paintOne=function(t,e){(0,St.Xi)(t,e)},t.prototype._paintList=function(t,e,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),r=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),r)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;(0,Lt.A)((function(){s._paintList(t,e,i,n)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(Ot).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},t.prototype._doPaintList=function(t,e,i){for(var n=this,o=[],r=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||i)&&o.push(l)}for(var h=!0,c=!1,d=function(a){var s,l=o[a],u=l.ctx,d=r&&l.createRepaintRects(t,e,p._width,p._height),g=i?l.__startIndex:l.__drawIndex,f=!i&&l.incremental&&Date.now,m=f&&Date.now(),y=l.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,y,d);else if(g===l.__startIndex){var v=t[g];v.incremental&&v.notClear&&!i||l.clear(!1,y,d)}-1===g&&(console.error("For some unknown reason. drawIndex is -1"),g=l.__startIndex);var x=function(e){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(s=g;s<l.__endIndex;s++){var o=t[s];if(o.__inHover&&(c=!0),n._doPaintEl(o,l,r,e,i,s===l.__endIndex-1),f){var a=Date.now()-m;if(a>15)break}}i.prevElClipPaths&&u.restore()};if(d)if(0===d.length)s=l.__endIndex;else for(var _=p.dpr,b=0;b<d.length;++b){var w=d[b];u.save(),u.beginPath(),u.rect(w.x*_,w.y*_,w.width*_,w.height*_),u.clip(),x(w),u.restore()}else u.save(),x(),u.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(h=!1)},p=this,g=0;g<o.length;g++)d(g);return kt.A.wxa&&u.__(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:h,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,i,n,o,r){var a=e.ctx;if(i){var s=t.getPaintRect();(!n||s&&s.intersect(n))&&((0,St.V$)(a,t,o,r),t.setPrevPaintRect(s))}else(0,St.V$)(a,t,o,r)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Ot);var i=this._layers[t];return i||(i=new Dt("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?u.h1(i,this._layerConfig[t],!0):this._layerConfig[t-Nt]&&u.h1(i,this._layerConfig[t-Nt],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,r=this._domRoot,a=null,s=-1;if(!i[t]&&Et(e)){if(o>0&&t>n[0]){for(s=0;s<o-1;s++)if(n[s]<t&&n[s+1]>t)break;a=i[n[s]]}if(n.splice(s+1,0,t),i[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?r.insertBefore(e.dom,l.nextSibling):r.appendChild(e.dom)}else r.firstChild?r.insertBefore(e.dom,r.firstChild):r.appendChild(e.dom);e.painter||(e.painter=this)}},t.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var o=i[n];t.call(e,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var o=i[n],r=this._layers[o];r.__builtin__&&t.call(e,r,o)}},t.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var o=i[n],r=this._layers[o];r.__builtin__||t.call(e,r,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){var n=t[i];if(n.zlevel!==t[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var o,r,a=null,s=0;for(r=0;r<t.length;r++){n=t[r];var l=n.zlevel,h=void 0;o!==l&&(o=l,s=0),n.incremental?(h=this.getLayer(l+Rt,this._needsManuallyCompositing),h.incremental=!0,s=1):h=this.getLayer(l+(s>0?Nt:0),this._needsManuallyCompositing),h.__builtin__||u.vV("ZLevel "+l+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==r&&(h.__dirty=!0),h.__startIndex=r,h.incremental?h.__drawIndex=-1:h.__drawIndex=r,e(r),a=h),n.__dirty&It.M&&!n.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,u.__(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?u.h1(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];if(o===t||o===t+Nt){var r=this._layers[o];u.h1(r,i[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(u.qh(i,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts,o=this.root;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=(0,Mt.YC)(o,0,n),e=(0,Mt.YC)(o,1,n),i.style.display="",this._width!==t||e!==this._height){for(var r in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Ot).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Ot].dom;var e=new Dt("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,o=e.dom.height;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,o):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())}))}else for(var r={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var h=a[s];(0,St.V$)(i,h,r,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}(),Bt=Vt;function Ft(t){t.registerPainter("canvas",Bt)}var Wt=i(3455),Gt=i(540),Ht=i(5558),Xt=i(9845),jt=Math.sin,Yt=Math.cos,$t=Math.PI,Ut=2*Math.PI,Zt=180/$t,qt=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,i,n,o,r){this._add("C",t,e,i,n,o,r)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._add("Q",t,e,i,n)},t.prototype.arc=function(t,e,i,n,o,r){this.ellipse(t,e,i,i,0,n,o,r)},t.prototype.ellipse=function(t,e,i,n,o,r,a,s){var l=a-r,h=!s,u=Math.abs(l),c=(0,Wt.Cv)(u-Ut)||(h?l>=Ut:-l>=Ut),d=l>0?l%Ut:l%Ut+Ut,p=!1;p=!!c||!(0,Wt.Cv)(u)&&d>=$t===!!h;var g=t+i*Yt(r),f=e+n*jt(r);this._start&&this._add("M",g,f);var m=Math.round(o*Zt);if(c){var y=1/this._p,v=(h?1:-1)*(Ut-y);this._add("A",i,n,m,1,+h,t+i*Yt(r+v),e+n*jt(r+v)),y>.01&&this._add("A",i,n,m,0,+h,g,f)}else{var x=t+i*Yt(a),_=e+n*jt(a);this._add("A",i,n,m,+p,+h,x,_)}},t.prototype.rect=function(t,e,i,n){this._add("M",t,e),this._add("l",i,0),this._add("l",0,n),this._add("l",-i,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,i,n,o,r,a,s,l){for(var h=[],u=this._p,c=1;c<arguments.length;c++){var d=arguments[c];if(isNaN(d))return void(this._invalid=!0);h.push(Math.round(d*u)/u)}this._d.push(t+h.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Kt=qt,Jt=i(6050),Qt="none",te=Math.round;function ee(t){var e=t.fill;return null!=e&&e!==Qt}function ie(t){var e=t.stroke;return null!=e&&e!==Qt}var ne=["lineCap","miterLimit","lineJoin"],oe=(0,u.Tj)(ne,(function(t){return"stroke-"+t.toLowerCase()}));function re(t,e,i,n){var o=null==e.opacity?1:e.opacity;if(i instanceof Gt.Ay)t("opacity",o);else{if(ee(e)){var r=(0,Wt.$2)(e.fill);t("fill",r.color);var a=null!=e.fillOpacity?e.fillOpacity*r.opacity*o:r.opacity*o;(n||a<1)&&t("fill-opacity",a)}else t("fill",Qt);if(ie(e)){var s=(0,Wt.$2)(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?i.getLineScale():1,h=l?(e.lineWidth||0)/l:0,u=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*o:s.opacity*o,c=e.strokeFirst;if((n||1!==h)&&t("stroke-width",h),(n||c)&&t("paint-order",c?"stroke":"fill"),(n||u<1)&&t("stroke-opacity",u),e.lineDash){var d=(0,Jt.V)(i),p=d[0],g=d[1];p&&(g=te(g||0),t("stroke-dasharray",p.join(",")),(g||n)&&t("stroke-dashoffset",g))}else n&&t("stroke-dasharray",Qt);for(var f=0;f<ne.length;f++){var m=ne[f];if(n||e[m]!==M.MW[m]){var y=e[m]||M.MW[m];y&&t(oe[f],y)}}}else n&&t("stroke",Qt)}}var ae=i(4265),se="http://www.w3.org/2000/svg",le="http://www.w3.org/1999/xlink",he="http://www.w3.org/2000/xmlns/",ue="http://www.w3.org/XML/1998/namespace",ce="ecmeta_";function de(t){return document.createElementNS(se,t)}function pe(t,e,i,n,o){return{tag:t,attrs:i||{},children:n,text:o,key:e}}function ge(t,e){var i=[];if(e)for(var n in e){var o=e[n],r=n;!1!==o&&(!0!==o&&null!=o&&(r+='="'+o+'"'),i.push(r))}return"<"+t+" "+i.join(" ")+">"}function fe(t){return"</"+t+">"}function me(t,e){e=e||{};var i=e.newline?"\n":"";function n(t){var e=t.children,o=t.tag,r=t.attrs,a=t.text;return ge(o,r)+("style"!==o?(0,ae.Me)(a):a||"")+(e?""+i+(0,u.Tj)(e,(function(t){return n(t)})).join(i)+i:"")+fe(o)}return n(t)}function ye(t,e,i){i=i||{};var n=i.newline?"\n":"",o=" {"+n,r=n+"}",a=(0,u.Tj)((0,u.HP)(t),(function(e){return e+o+(0,u.Tj)((0,u.HP)(t[e]),(function(i){return i+":"+t[e][i]+";"})).join(n)+r})).join(n),s=(0,u.Tj)((0,u.HP)(e),(function(t){return"@keyframes "+t+o+(0,u.Tj)((0,u.HP)(e[t]),(function(i){return i+o+(0,u.Tj)((0,u.HP)(e[t][i]),(function(n){var o=e[t][i][n];return"d"===n&&(o='path("'+o+'")'),n+":"+o+";"})).join(n)+r})).join(n)+r})).join(n);return a||s?["<![CDATA[",a,s,"]]>"].join(n):""}function ve(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function xe(t,e,i,n){return pe("svg","root",{width:t,height:e,xmlns:se,"xmlns:xlink":le,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+t+" "+e},i)}var _e=i(2191),be=i(2591),we=i(6320),Me=0;function Se(){return Me++}var Ie={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ae="transform-origin";function Ce(t,e,i){var n=(0,u.X$)({},t.shape);(0,u.X$)(n,e),t.buildPath(i,n);var o=new Kt;return o.reset((0,Wt.MD)(t)),i.rebuildPath(o,1),o.generateStr(),o.getStr()}function Te(t,e){var i=e.originX,n=e.originY;(i||n)&&(t[Ae]=i+"px "+n+"px")}var De={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Le(t,e){var i=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[i]=t,i}function ke(t,e,i){var n,o,r=t.shape.paths,a={};if((0,u.__)(r,(function(t){var e=ve(i.zrId);e.animation=!0,Oe(t,{},e,!0);var r=e.cssAnims,s=e.cssNodes,l=(0,u.HP)(r),h=l.length;if(h){o=l[h-1];var c=r[o];for(var d in c){var p=c[d];a[d]=a[d]||{d:""},a[d].d+=p.d||""}for(var g in s){var f=s[g].animation;f.indexOf(o)>=0&&(n=f)}}})),n){e.d=!1;var s=Le(a,i);return n.replace(o,s)}}function Pe(t){return(0,u.Kg)(t)?Ie[t]?"cubic-bezier("+Ie[t]+")":(0,we.w)(t)?t:"":""}function Oe(t,e,i,n){var o=t.animators,r=o.length,a=[];if(t instanceof be.A){var s=ke(t,e,i);if(s)a.push(s);else if(!r)return}else if(!r)return;for(var l={},h=0;h<r;h++){var c=o[h],d=[c.getMaxTime()/1e3+"s"],p=Pe(c.getClip().easing),g=c.getDelay();p?d.push(p):d.push("linear"),g&&d.push(g/1e3+"s"),c.getLoop()&&d.push("infinite");var f=d.join(" ");l[f]=l[f]||[f,[]],l[f][1].push(c)}function m(o){var r,a=o[1],s=a.length,l={},h={},c={},d="animation-timing-function";function p(t,e,i){for(var n=t.getTracks(),o=t.getMaxTime(),r=0;r<n.length;r++){var a=n[r];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(i&&(l=i(l)),l)for(var h=0;h<s.length;h++){var c=s[h],p=Math.round(c.time/o*100)+"%",g=Pe(c.easing),f=c.rawValue;((0,u.Kg)(f)||(0,u.Et)(f))&&(e[p]=e[p]||{},e[p][l]=c.rawValue,g&&(e[p][d]=g))}}}}for(var g=0;g<s;g++){var f=a[g],m=f.targetName;m?"shape"===m&&p(f,h):!n&&p(f,l)}for(var y in l){var v={};(0,b.IT)(v,t),(0,u.X$)(v,l[y]);var x=(0,Wt.Z1)(v),_=l[y][d];c[y]=x?{transform:x}:{},Te(c[y],v),_&&(c[y][d]=_)}var w=!0;for(var y in h){c[y]=c[y]||{};var M=!r;_=h[y][d];M&&(r=new I.A);var S=r.len();r.reset(),c[y].d=Ce(t,h[y],r);var A=r.len();if(!M&&S!==A){w=!1;break}_&&(c[y][d]=_)}if(!w)for(var y in c)delete c[y].d;if(!n)for(g=0;g<s;g++){f=a[g],m=f.targetName;"style"===m&&p(f,c,(function(t){return De[t]}))}var C,T=(0,u.HP)(c),D=!0;for(g=1;g<T.length;g++){var L=T[g-1],k=T[g];if(c[L][Ae]!==c[k][Ae]){D=!1;break}C=c[L][Ae]}if(D&&C){for(var y in c)c[y][Ae]&&delete c[y][Ae];e[Ae]=C}if((0,u.pb)(T,(function(t){return(0,u.HP)(c[t]).length>0})).length){var P=Le(c,i);return P+" "+o[0]+" both"}}for(var y in l){s=m(l[y]);s&&a.push(s)}if(a.length){var v=i.zrId+"-cls-"+Se();i.cssNodes["."+v]={animation:a.join(",")},e["class"]=v}}var Ne=i(2980),Re=i(7698);function Ee(t,e,i){if(!t.ignore)if(t.isSilent()){var n={"pointer-events":"none"};ze(n,e,i,!0)}else{var o=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},r=o.fill;if(!r){var a=t.style&&t.style.fill,s=t.states.select&&t.states.select.style&&t.states.select.style.fill,l=t.currentStates.indexOf("select")>=0&&s||a;l&&(r=(0,Re.P)(l))}var h=o.lineWidth;if(h){var u=!o.strokeNoScale&&t.transform?t.transform[0]:1;h/=u}n={cursor:"pointer"};r&&(n.fill=r),o.stroke&&(n.stroke=o.stroke),h&&(n["stroke-width"]=h),ze(n,e,i,!0)}}function ze(t,e,i,n){var o=JSON.stringify(t),r=i.cssStyleCache[o];r||(r=i.zrId+"-cls-"+Se(),i.cssStyleCache[o]=r,i.cssNodes["."+r+(n?":hover":"")]=t),e["class"]=e["class"]?e["class"]+" "+r:r}var Ve=Math.round;function Be(t){return t&&(0,u.Kg)(t.src)}function Fe(t){return t&&(0,u.Tn)(t.toDataURL)}function We(t,e,i,n){re((function(o,r){var a="fill"===o||"stroke"===o;a&&(0,Wt.bn)(r)?ii(e,t,o,n):a&&(0,Wt.Pt)(r)?ni(i,t,o,n):t[o]=a&&"none"===r?"transparent":r}),e,i,!1),ei(i,t,n)}function Ge(t,e){var i=(0,d.N1)(e);i&&(i.each((function(e,i){null!=e&&(t[(ce+i).toLowerCase()]=e+"")})),e.isSilent()&&(t[ce+"silent"]="true"))}function He(t){return(0,Wt.Cv)(t[0]-1)&&(0,Wt.Cv)(t[1])&&(0,Wt.Cv)(t[2])&&(0,Wt.Cv)(t[3]-1)}function Xe(t){return(0,Wt.Cv)(t[4])&&(0,Wt.Cv)(t[5])}function je(t,e,i){if(e&&(!Xe(e)||!He(e))){var n=i?10:1e4;t.transform=He(e)?"translate("+Ve(e[4]*n)/n+" "+Ve(e[5]*n)/n+")":(0,Wt.nV)(e)}}function Ye(t,e,i){for(var n=t.points,o=[],r=0;r<n.length;r++)o.push(Ve(n[r][0]*i)/i),o.push(Ve(n[r][1]*i)/i);e.points=o.join(" ")}function $e(t){return!t.smooth}function Ue(t){var e=(0,u.Tj)(t,(function(t){return"string"===typeof t?[t,t]:t}));return function(t,i,n){for(var o=0;o<e.length;o++){var r=e[o],a=t[r[0]];null!=a&&(i[r[1]]=Ve(a*n)/n)}}}var Ze={circle:[Ue(["cx","cy","r"])],polyline:[Ye,$e],polygon:[Ye,$e]};function qe(t){for(var e=t.animators,i=0;i<e.length;i++)if("shape"===e[i].targetName)return!0;return!1}function Ke(t,e){var i=t.style,n=t.shape,o=Ze[t.type],r={},a=e.animation,s="path",l=t.style.strokePercent,h=e.compress&&(0,Wt.MD)(t)||4;if(!o||e.willUpdate||o[1]&&!o[1](n)||a&&qe(t)||l<1){var u=!t.path||t.shapeChanged();t.path||t.createPathProxy();var c=t.path;u&&(c.beginPath(),t.buildPath(c,t.shape),t.pathUpdated());var d=c.getVersion(),p=t,g=p.__svgPathBuilder;p.__svgPathVersion===d&&g&&l===p.__svgPathStrokePercent||(g||(g=p.__svgPathBuilder=new Kt),g.reset(h),c.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=l),r.d=g.getStr()}else{s=t.type;var f=Math.pow(10,h);o[0](n,r,f)}return je(r,t.transform),We(r,i,t,e),Ge(r,t),e.animation&&Oe(t,r,e),e.emphasis&&Ee(t,r,e),pe(s,t.id+"",r)}function Je(t,e){var i=t.style,n=i.image;if(n&&!(0,u.Kg)(n)&&(Be(n)?n=n.src:Fe(n)&&(n=n.toDataURL())),n){var o=i.x||0,r=i.y||0,a=i.width,s=i.height,l={href:n,width:a,height:s};return o&&(l.x=o),r&&(l.y=r),je(l,t.transform),We(l,i,t,e),Ge(l,t),e.animation&&Oe(t,l,e),pe("image",t.id+"",l)}}function Qe(t,e){var i=t.style,n=i.text;if(null!=n&&(n+=""),n&&!isNaN(i.x)&&!isNaN(i.y)){var o=i.font||At.OH,r=i.x||0,a=(0,Wt.sZ)(i.y||0,(0,Ht.ks)(o),i.textBaseline),s=Wt.eQ[i.textAlign]||i.textAlign,l={"dominant-baseline":"central","text-anchor":s};if((0,Ne.XE)(i)){var h="",u=i.fontStyle,c=(0,Ne.I5)(i.fontSize);if(!parseFloat(c))return;var d=i.fontFamily||At.zs,p=i.fontWeight;h+="font-size:"+c+";font-family:"+d+";",u&&"normal"!==u&&(h+="font-style:"+u+";"),p&&"normal"!==p&&(h+="font-weight:"+p+";"),l.style=h}else l.style="font: "+o;return n.match(/\s/)&&(l["xml:space"]="preserve"),r&&(l.x=r),a&&(l.y=a),je(l,t.transform),We(l,i,t,e),Ge(l,t),e.animation&&Oe(t,l,e),pe("text",t.id+"",l,void 0,n)}}function ti(t,e){return t instanceof M.Ay?Ke(t,e):t instanceof Gt.Ay?Je(t,e):t instanceof Xt.A?Qe(t,e):void 0}function ei(t,e,i){var n=t.style;if((0,Wt.dX)(n)){var o=(0,Wt.si)(t),r=i.shadowCache,a=r[o];if(!a){var s=t.getGlobalScale(),l=s[0],h=s[1];if(!l||!h)return;var u=n.shadowOffsetX||0,c=n.shadowOffsetY||0,d=n.shadowBlur,p=(0,Wt.$2)(n.shadowColor),g=p.opacity,f=p.color,m=d/2/l,y=d/2/h,v=m+" "+y;a=i.zrId+"-s"+i.shadowIdx++,i.defs[a]=pe("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[pe("feDropShadow","",{dx:u/l,dy:c/h,stdDeviation:v,"flood-color":f,"flood-opacity":g})]),r[o]=a}e.filter=(0,Wt.Xu)(a)}}function ii(t,e,i,n){var o,r=t[i],a={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if((0,Wt.OS)(r))o="linearGradient",a.x1=r.x,a.y1=r.y,a.x2=r.x2,a.y2=r.y2;else{if(!(0,Wt.OH)(r))return void 0;o="radialGradient",a.cx=(0,u.bZ)(r.x,.5),a.cy=(0,u.bZ)(r.y,.5),a.r=(0,u.bZ)(r.r,.5)}for(var s=r.colorStops,l=[],h=0,c=s.length;h<c;++h){var d=100*(0,Wt.XP)(s[h].offset)+"%",p=s[h].color,g=(0,Wt.$2)(p),f=g.color,m=g.opacity,y={offset:d};y["stop-color"]=f,m<1&&(y["stop-opacity"]=m),l.push(pe("stop",h+"",y))}var v=pe(o,"",a,l),x=me(v),_=n.gradientCache,b=_[x];b||(b=n.zrId+"-g"+n.gradientIdx++,_[x]=b,a.id=b,n.defs[b]=pe(o,b,a,l)),e[i]=(0,Wt.Xu)(b)}function ni(t,e,i,n){var o,r=t.style[i],a=t.getBoundingRect(),s={},l=r.repeat,h="no-repeat"===l,c="repeat-x"===l,d="repeat-y"===l;if((0,Wt.sL)(r)){var p=r.imageWidth,g=r.imageHeight,f=void 0,m=r.image;if((0,u.Kg)(m)?f=m:Be(m)?f=m.src:Fe(m)&&(f=m.toDataURL()),"undefined"===typeof Image){var y="Image width/height must been given explictly in svg-ssr renderer.";(0,u.vA)(p,y),(0,u.vA)(g,y)}else if(null==p||null==g){var v=function(t,e){if(t){var i=t.elm,n=p||e.width,o=g||e.height;"pattern"===t.tag&&(c?(o=1,n/=a.width):d&&(n=1,o/=a.height)),t.attrs.width=n,t.attrs.height=o,i&&(i.setAttribute("width",n),i.setAttribute("height",o))}},x=(0,_e.OD)(f,null,t,(function(t){h||v(M,t),v(o,t)}));x&&x.width&&x.height&&(p=p||x.width,g=g||x.height)}o=pe("image","img",{href:f,width:p,height:g}),s.width=p,s.height=g}else r.svgElement&&(o=(0,u.o8)(r.svgElement),s.width=r.svgWidth,s.height=r.svgHeight);if(o){var _,b;h?_=b=1:c?(b=1,_=s.width/a.width):d?(_=1,b=s.height/a.height):s.patternUnits="userSpaceOnUse",null==_||isNaN(_)||(s.width=_),null==b||isNaN(b)||(s.height=b);var w=(0,Wt.Z1)(r);w&&(s.patternTransform=w);var M=pe("pattern","",s,[o]),S=me(M),I=n.patternCache,A=I[S];A||(A=n.zrId+"-p"+n.patternIdx++,I[S]=A,s.id=A,M=n.defs[A]=pe("pattern",A,s,[o])),e[i]=(0,Wt.Xu)(A)}}function oi(t,e,i){var n=i.clipPathCache,o=i.defs,r=n[t.id];if(!r){r=i.zrId+"-c"+i.clipPathIdx++;var a={id:r};n[t.id]=r,o[r]=pe("clipPath",r,a,[Ke(t,i)])}e["clip-path"]=(0,Wt.Xu)(r)}function ri(t){return document.createTextNode(t)}function ai(t,e,i){t.insertBefore(e,i)}function si(t,e){t.removeChild(e)}function li(t,e){t.appendChild(e)}function hi(t){return t.parentNode}function ui(t){return t.nextSibling}function ci(t,e){t.textContent=e}var di=58,pi=120,gi=pe("","");function fi(t){return void 0===t}function mi(t){return void 0!==t}function yi(t,e,i){for(var n={},o=e;o<=i;++o){var r=t[o].key;void 0!==r&&(n[r]=o)}return n}function vi(t,e){var i=t.key===e.key,n=t.tag===e.tag;return n&&i}function xi(t){var e,i=t.children,n=t.tag;if(mi(n)){var o=t.elm=de(n);if(wi(gi,t),(0,u.cy)(i))for(e=0;e<i.length;++e){var r=i[e];null!=r&&li(o,xi(r))}else mi(t.text)&&!(0,u.Gv)(t.text)&&li(o,ri(t.text))}else t.elm=ri(t.text);return t.elm}function _i(t,e,i,n,o){for(;n<=o;++n){var r=i[n];null!=r&&ai(t,xi(r),e)}}function bi(t,e,i,n){for(;i<=n;++i){var o=e[i];if(null!=o)if(mi(o.tag)){var r=hi(o.elm);si(r,o.elm)}else si(t,o.elm)}}function wi(t,e){var i,n=e.elm,o=t&&t.attrs||{},r=e.attrs||{};if(o!==r){for(i in r){var a=r[i],s=o[i];s!==a&&(!0===a?n.setAttribute(i,""):!1===a?n.removeAttribute(i):"style"===i?n.style.cssText=a:i.charCodeAt(0)!==pi?n.setAttribute(i,a):"xmlns:xlink"===i||"xmlns"===i?n.setAttributeNS(he,i,a):i.charCodeAt(3)===di?n.setAttributeNS(ue,i,a):i.charCodeAt(5)===di?n.setAttributeNS(le,i,a):n.setAttribute(i,a))}for(i in o)i in r||n.removeAttribute(i)}}function Mi(t,e,i){var n,o,r,a,s=0,l=0,h=e.length-1,u=e[0],c=e[h],d=i.length-1,p=i[0],g=i[d];while(s<=h&&l<=d)null==u?u=e[++s]:null==c?c=e[--h]:null==p?p=i[++l]:null==g?g=i[--d]:vi(u,p)?(Si(u,p),u=e[++s],p=i[++l]):vi(c,g)?(Si(c,g),c=e[--h],g=i[--d]):vi(u,g)?(Si(u,g),ai(t,u.elm,ui(c.elm)),u=e[++s],g=i[--d]):vi(c,p)?(Si(c,p),ai(t,c.elm,u.elm),c=e[--h],p=i[++l]):(fi(n)&&(n=yi(e,s,h)),o=n[p.key],fi(o)?ai(t,xi(p),u.elm):(r=e[o],r.tag!==p.tag?ai(t,xi(p),u.elm):(Si(r,p),e[o]=void 0,ai(t,r.elm,u.elm))),p=i[++l]);(s<=h||l<=d)&&(s>h?(a=null==i[d+1]?null:i[d+1].elm,_i(t,a,i,l,d)):bi(t,e,s,h))}function Si(t,e){var i=e.elm=t.elm,n=t.children,o=e.children;t!==e&&(wi(t,e),fi(e.text)?mi(n)&&mi(o)?n!==o&&Mi(i,n,o):mi(o)?(mi(t.text)&&ci(i,""),_i(i,null,o,0,o.length-1)):mi(n)?bi(i,n,0,n.length-1):mi(t.text)&&ci(i,""):t.text!==e.text&&(mi(n)&&bi(i,n,0,n.length-1),ci(i,e.text)))}function Ii(t,e){if(vi(t,e))Si(t,e);else{var i=t.elm,n=hi(i);xi(e),null!==n&&(ai(n,e.elm,ui(i)),bi(n,[t],0,0))}return e}var Ai=0,Ci=function(){function t(t,e,i){if(this.type="svg",this.refreshHover=Ti("refreshHover"),this.configLayer=Ti("configLayer"),this.storage=e,this._opts=i=(0,u.X$)({},i),this.root=t,this._id="zr"+Ai++,this._oldVNode=xe(i.width,i.height),t&&!i.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=de("svg");wi(null,this._oldVNode),n.appendChild(o),t.appendChild(n)}this.resize(i.width,i.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Ii(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return ti(t,ve(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),i=this._width,n=this._height,o=ve(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress,o.emphasis=t.emphasis;var r=[],a=this._bgVNode=Di(i,n,this._backgroundColor,o);a&&r.push(a);var s=t.compress?null:this._mainVNode=pe("g","main",{},[]);this._paintList(e,o,s?s.children:r),s&&r.push(s);var l=(0,u.Tj)((0,u.HP)(o.defs),(function(t){return o.defs[t]}));if(l.length&&r.push(pe("defs","defs",{},l)),t.animation){var h=ye(o.cssNodes,o.cssAnims,{newline:!0});if(h){var c=pe("style","stl",{},[],h);r.push(c)}}return xe(i,n,r,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},me(this.renderToVNode({animation:(0,u.bZ)(t.cssAnimation,!0),emphasis:(0,u.bZ)(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:(0,u.bZ)(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,i){for(var n,o,r=t.length,a=[],s=0,l=0,h=0;h<r;h++){var u=t[h];if(!u.invisible){var c=u.__clipPaths,d=c&&c.length||0,p=o&&o.length||0,g=void 0;for(g=Math.max(d-1,p-1);g>=0;g--)if(c&&o&&c[g]===o[g])break;for(var f=p-1;f>g;f--)s--,n=a[s-1];for(var m=g+1;m<d;m++){var y={};oi(c[m],y,e);var v=pe("g","clip-g-"+l++,y,[]);(n?n.children:i).push(v),a[s++]=v,n=v}o=c;var x=ti(u,e);x&&(n?n.children:i).push(x)}}},t.prototype.resize=function(t,e){var i=this._opts,n=this.root,o=this._viewport;if(null!=t&&(i.width=t),null!=e&&(i.height=e),n&&o&&(o.style.display="none",t=(0,Mt.YC)(n,0,i),e=(0,Mt.YC)(n,1,i),o.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,o){var r=o.style;r.width=t+"px",r.height=e+"px"}if((0,Wt.Pt)(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",e));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",t),s.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),i="data:image/svg+xml;";return t?(e=(0,Wt.WG)(e),e&&i+"base64,"+e):i+"charset=UTF-8,"+encodeURIComponent(e)},t}();function Ti(t){return function(){0}}function Di(t,e,i,n){var o;if(i&&"none"!==i)if(o=pe("rect","bg",{width:t,height:e,x:"0",y:"0"}),(0,Wt.bn)(i))ii({fill:i},o.attrs,"fill",n);else if((0,Wt.Pt)(i))ni({style:{fill:i},dirty:u.lQ,getBoundingRect:function(){return{width:t,height:e}}},o.attrs,"fill",n);else{var r=(0,Wt.$2)(i),a=r.color,s=r.opacity;o.attrs.fill=a,s<1&&(o.attrs["fill-opacity"]=s)}return o}var Li=Ci;function ki(t){t.registerPainter("svg",Li)}var Pi=i(4179),Oi=i(5202);function Ni(t){return null==t?0:t.length||1}function Ri(t){return t}var Ei=function(){function t(t,e,i,n,o,r){this._old=t,this._new=e,this._oldKeyGetter=i||Ri,this._newKeyGetter=n||Ri,this.context=o,this._diffModeMultiple="multiple"===r}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},n=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,n,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var r=0;r<t.length;r++){var a=n[r],s=i[a],l=Ni(s);if(l>1){var h=s.shift();1===s.length&&(i[a]=s[0]),this._update&&this._update(h,r)}else 1===l?(i[a]=null,this._update&&this._update(s,r)):this._remove&&this._remove(r)}this._performRestAdd(o,i)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},n={},o=[],r=[];this._initIndexMap(t,i,o,"_oldKeyGetter"),this._initIndexMap(e,n,r,"_newKeyGetter");for(var a=0;a<o.length;a++){var s=o[a],l=i[s],h=n[s],u=Ni(l),c=Ni(h);if(u>1&&1===c)this._updateManyToOne&&this._updateManyToOne(h,l),n[s]=null;else if(1===u&&c>1)this._updateOneToMany&&this._updateOneToMany(h,l),n[s]=null;else if(1===u&&1===c)this._update&&this._update(h,l),n[s]=null;else if(u>1&&c>1)this._updateManyToMany&&this._updateManyToMany(h,l),n[s]=null;else if(u>1)for(var d=0;d<u;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(r,n)},t.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=e[n],r=Ni(o);if(r>1)for(var a=0;a<r;a++)this._add&&this._add(o[a]);else 1===r&&this._add&&this._add(o);e[n]=null}},t.prototype._initIndexMap=function(t,e,i,n){for(var o=this._diffModeMultiple,r=0;r<t.length;r++){var a="_ec_"+this[n](t[r],r);if(o||(i[r]=a),e){var s=e[a],l=Ni(s);0===l?(e[a]=r,o&&i.push(a)):1===l?e[a]=[s,r]:s.push(r)}}},t}(),zi=Ei,Vi=i(8267),Bi=i(3430),Fi=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function Wi(t,e){var i={},n=i.encode={},o=(0,u.nt)(),r=[],a=[],s={};(0,u.__)(t.dimensions,(function(e){var i=t.getDimensionInfo(e),l=i.coordDim;if(l){0;var h=i.coordDimIndex;Gi(n,l)[h]=e,i.isExtraCoord||(o.set(l,1),Xi(i.type)&&(r[0]=e),Gi(s,l)[h]=t.getDimensionIndex(i.name)),i.defaultTooltip&&a.push(e)}Bi.Pe.each((function(t,e){var o=Gi(n,e),r=i.otherDims[e];null!=r&&!1!==r&&(o[r]=i.name)}))}));var l=[],h={};o.each((function(t,e){var i=n[e];h[e]=i[0],l=l.concat(i)})),i.dataDimsOnCoord=l,i.dataDimIndicesOnCoord=(0,u.Tj)(l,(function(e){return t.getDimensionInfo(e).storeDimIndex})),i.encodeFirstDimNotExtra=h;var c=n.label;c&&c.length&&(r=c.slice());var d=n.tooltip;return d&&d.length?a=d.slice():a.length||(a=r.slice()),n.defaultedLabel=r,n.defaultedTooltip=a,i.userOutput=new Fi(s,e),i}function Gi(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Hi(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Xi(t){return!("ordinal"===t||"time"===t)}var ji=function(){function t(t){this.otherDims={},null!=t&&u.X$(this,t)}return t}(),Yi=ji,$i=i(4310),Ui=i(250),Zi=(0,m.$r)(),qi={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Ki=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=tn(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return(0,u.bZ)(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=(0,$i.O0)(this.source),i=!en(t),n="",o=[],r=0,a=0;r<t;r++){var s=void 0,l=void 0,h=void 0,u=this.dimensions[a];if(u&&u.storeDimIndex===r)s=e?u.name:null,l=u.type,h=u.ordinalMeta,a++;else{var c=this.getSourceDimension(r);c&&(s=e?c.name:null,l=c.type)}o.push({property:s,type:l,ordinalMeta:h}),!e||null==s||u&&u.isCalculationCoord||(n+=i?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),n+="$",n+=qi[l]||"f",h&&(n+=h.uid),n+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,n].join("$$");return{dimensions:o,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var n=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(n=o.name),i++;else{var r=this.getSourceDimension(e);r&&(n=r.name)}t.push(n)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function Ji(t){return t instanceof Ki}function Qi(t){for(var e=(0,u.nt)(),i=0;i<(t||[]).length;i++){var n=t[i],o=(0,u.Gv)(n)?n.name:n;null!=o&&null==e.get(o)&&e.set(o,i)}return e}function tn(t){var e=Zi(t);return e.dimNameMap||(e.dimNameMap=Qi(t.dimensionsDefine))}function en(t){return t>30}var nn,on,rn,an,sn,ln,hn,un=u.Gv,cn=u.Tj,dn="undefined"===typeof Int32Array?Array:Int32Array,pn="e\0\0",gn=-1,fn=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],mn=["_approximateExtent"],yn=function(){function t(t,e){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n=!1;Ji(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(n=!0,i=t),i=i||["x","y"];for(var o={},r=[],a={},s=!1,l={},h=0;h<i.length;h++){var c=i[h],d=u.Kg(c)?new Yi({name:c}):c instanceof Yi?c:new Yi(c),p=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=p,d.coordDimIndex=0);var g=d.otherDims=d.otherDims||{};r.push(p),o[p]=d,null!=l[p]&&(s=!0),d.createInvertedIndices&&(a[p]=[]),0===g.itemName&&(this._nameDimIdx=h),0===g.itemId&&(this._idDimIdx=h),n&&(d.storeDimIndex=h)}if(this.dimensions=r,this._dimInfos=o,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var f=this._dimIdxToName=u.nt();u.__(r,(function(t){f.set(o[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(null!=i)return i;var n=this._schema.getSourceDimension(e);return n?n.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(u.Et(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return n?n[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,i=e.encode[t];return(i||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,i){var n,o=this;if(t instanceof Ui.Ay&&(n=t),!n){var r=this.dimensions,a=(0,$i.tP)(t)||u.Xj(t)?new Vi.d1(t,r.length):t;n=new Ui.Ay;var s=cn(r,(function(t){return{type:o._dimInfos[t].type,property:t}}));n.initData(a,s,i)}this._store=n,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=Wi(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e.length),n=i.start,o=i.end,r=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=n;a<o;a++){var s=a-n;this._nameList[a]=e[s],r&&hn(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var n=this._dimInfos[e[i]];n.ordinalMeta&&t.collectOrdinalMeta(n.storeDimIndex,n.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Bi.XO&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store,n=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,r=this._idList,a=n.getSource().sourceFormat,s=a===Bi.mK;if(s&&!n.pure)for(var l=[],h=t;h<e;h++){var u=n.getItem(h,l);if(!this.hasItemOption&&(0,m.zu)(u)&&(this.hasItemOption=!0),u){var c=u.name;null==o[h]&&null!=c&&(o[h]=(0,m.vS)(c,null));var d=u.id;null==r[h]&&null!=d&&(r[h]=(0,m.vS)(d,null))}}if(this._shouldMakeIdFromName())for(h=t;h<e;h++)hn(this,h);nn(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){un(t)?u.X$(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=rn(this,this._nameDimIdx,e)),null==i&&(i=""),i},t.prototype._getCategory=function(t,e){var i=this._store.get(t,e),n=this._store.getOrdinalMeta(t);return n?n.categories[i]:i},t.prototype.getId=function(t){return on(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var i=this._store,n=this._dimInfos[t];if(n)return i.get(n.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var i=this._store,n=this._dimInfos[t];if(n)return i.getByRawIndex(n.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var i=this,n=this._store;return u.cy(t)?n.getValues(cn(t,(function(t){return i._getStoreDimIndex(t)})),e):n.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t];var n=i[e];return null==n||isNaN(n)?gn:n},t.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},t.prototype.each=function(t,e,i){u.Tn(t)&&(i=e,e=t,t=[]);var n=i||this,o=cn(an(t),this._getStoreDimIndex,this);this._store.each(o,n?u.oI(e,n):e)},t.prototype.filterSelf=function(t,e,i){u.Tn(t)&&(i=e,e=t,t=[]);var n=i||this,o=cn(an(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,n?u.oI(e,n):e),this},t.prototype.selectRange=function(t){var e=this,i={},n=u.HP(t),o=[];return u.__(n,(function(n){var r=e._getStoreDimIndex(n);i[r]=t[n],o.push(r)})),this._store=this._store.selectRange(i),this},t.prototype.mapArray=function(t,e,i){u.Tn(t)&&(i=e,e=t,t=[]),i=i||this;var n=[];return this.each(t,(function(){n.push(e&&e.apply(this,arguments))}),i),n},t.prototype.map=function(t,e,i,n){var o=i||n||this,r=cn(an(t),this._getStoreDimIndex,this),a=ln(this);return a._store=this._store.map(r,o?u.oI(e,o):e),a},t.prototype.modify=function(t,e,i,n){var o=i||n||this;var r=cn(an(t),this._getStoreDimIndex,this);this._store.modify(r,o?u.oI(e,o):e)},t.prototype.downSample=function(t,e,i,n){var o=ln(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,n),o},t.prototype.lttbDownSample=function(t,e){var i=ln(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new Oi.A(i,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new zi(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return on(t,e)}),(function(t){return on(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},un(t)?u.X$(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],n=i&&i[e];return null==n?this.getVisual(e):n},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,n=i[t];n||(n=i[t]={});var o=n[e];return null==o&&(o=this.getVisual(e),u.cy(o)?o=o.slice():un(o)&&(o=u.X$({},o)),n[e]=o),o},t.prototype.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};this._itemVisuals[t]=n,un(e)?u.X$(n,e):n[e]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){un(t)?u.X$(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?u.X$(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel&&this.hostModel.seriesIndex;(0,x.a)(i,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){u.__(this._graphicEls,(function(i,n){i&&t&&t.call(e,i,n)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:cn(this.dimensions,this._getDimInfo,this),this.hostModel)),sn(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var i=this[t];u.Tn(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(u.di(arguments)))})},t.internalField=function(){nn=function(t){var e=t._invertedIndicesMap;u.__(e,(function(i,n){var o=t._dimInfos[n],r=o.ordinalMeta,a=t._store;if(r){i=e[n]=new dn(r.categories.length);for(var s=0;s<i.length;s++)i[s]=gn;for(s=0;s<a.count();s++)i[a.get(o.storeDimIndex,s)]=s}}))},rn=function(t,e,i){return(0,m.vS)(t._getCategory(e,i),null)},on=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=rn(t,t._idDimIdx,e)),null==i&&(i=pn+e),i},an=function(t){return u.cy(t)||(t=null!=t?[t]:[]),t},ln=function(e){var i=new t(e._schema?e._schema:cn(e.dimensions,e._getDimInfo,e),e.hostModel);return sn(i,e),i},sn=function(t,e){u.__(fn.concat(e.__wrappedMethods||[]),(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t.__wrappedMethods=e.__wrappedMethods,u.__(mn,(function(i){t[i]=u.o8(e[i])})),t._calculationInfo=u.X$({},e._calculationInfo)},hn=function(t,e){var i=t._nameList,n=t._idList,o=t._nameDimIdx,r=t._idDimIdx,a=i[e],s=n[e];if(null==a&&null!=o&&(i[e]=a=rn(t,o,e)),null==s&&null!=r&&(n[e]=s=rn(t,r,e)),null==s&&null!=a){var l=t._nameRepeatCount,h=l[a]=(l[a]||0)+1;s=a,h>1&&(s+="__ec__"+h),n[e]=s}}}(),t}(),vn=yn,xn=i(3071);function _n(t,e){(0,$i.tP)(t)||(t=(0,$i.AF)(t)),e=e||{};var i=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],o=(0,u.nt)(),r=[],a=wn(t,i,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&en(a),l=n===t.dimensionsDefine,h=l?tn(t):Qi(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,a));for(var d=(0,u.nt)(c),p=new Ui.A_(a),g=0;g<p.length;g++)p[g]=-1;function f(t){var e=p[t];if(e<0){var i=n[t],o=(0,u.Gv)(i)?i:{name:i},a=new Yi,s=o.name;null!=s&&null!=h.get(s)&&(a.name=a.displayName=s),null!=o.type&&(a.type=o.type),null!=o.displayName&&(a.displayName=o.displayName);var l=r.length;return p[t]=l,a.storeDimIndex=t,r.push(a),a}return r[e]}if(!s)for(g=0;g<a;g++)f(g);d.each((function(t,e){var i=(0,m.qB)(t).slice();if(1===i.length&&!(0,u.Kg)(i[0])&&i[0]<0)d.set(e,!1);else{var n=d.set(e,[]);(0,u.__)(i,(function(t,i){var o=(0,u.Kg)(t)?h.get(t):t;null!=o&&o<a&&(n[i]=o,v(f(o),e,i))}))}}));var y=0;function v(t,e,i){null!=Bi.Pe.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,o.set(e,!0))}(0,u.__)(i,(function(t){var e,i,n,o;if((0,u.Kg)(t))e=t,o={};else{o=t,e=o.name;var r=o.ordinalMeta;o.ordinalMeta=null,o=(0,u.X$)({},o),o.ordinalMeta=r,i=o.dimsDef,n=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var s=d.get(e);if(!1!==s){if(s=(0,m.qB)(s),!s.length)for(var h=0;h<(i&&i.length||1);h++){while(y<a&&null!=f(y).coordDim)y++;y<a&&s.push(y++)}(0,u.__)(s,(function(t,r){var a=f(t);if(l&&null!=o.type&&(a.type=o.type),v((0,u.NT)(a,o),e,r),null==a.name&&i){var s=i[r];!(0,u.Gv)(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}n&&(0,u.NT)(a.otherDims,n)}))}}));var x=e.generateCoord,_=e.generateCoordCount,b=null!=_;_=x?_||1:0;var w=x||"value";function M(t){null==t.name&&(t.name=t.coordDim)}if(s)(0,u.__)(r,(function(t){M(t)})),r.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var S=0;S<a;S++){var I=f(S),A=I.coordDim;null==A&&(I.coordDim=Mn(w,o,b),I.coordDimIndex=0,(!x||_<=0)&&(I.isExtraCoord=!0),_--),M(I),null!=I.type||(0,xn.PU)(t,S)!==xn.sc.Must&&(!I.isExtraCoord||null==I.otherDims.itemName&&null==I.otherDims.seriesName)||(I.type="ordinal")}return bn(r),new Ki({source:t,dimensions:r,fullDimensionCount:a,dimensionOmitted:s})}function bn(t){for(var e=(0,u.nt)(),i=0;i<t.length;i++){var n=t[i],o=n.name,r=e.get(o)||0;r>0&&(n.name=o+(r-1)),r++,e.set(o,r)}}function wn(t,e,i,n){var o=Math.max(t.dimensionsDetectedCount||1,e.length,i.length,n||0);return(0,u.__)(e,(function(t){var e;(0,u.Gv)(t)&&(e=t.dimsDef)&&(o=Math.max(o,e.length))})),o}function Mn(t,e,i){if(i||e.hasKey(t)){var n=0;while(e.hasKey(t+n))n++;t+=n}return e.set(t,!0),t}var Sn=i(9737),In=function(){function t(t){this.coordSysDims=[],this.axisMap=(0,u.nt)(),this.categoryAxisMap=(0,u.nt)(),this.coordSysName=t}return t}();function An(t){var e=t.get("coordinateSystem"),i=new In(e),n=Cn[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}var Cn={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents("xAxis",m.US).models[0],r=t.getReferringComponents("yAxis",m.US).models[0];e.coordSysDims=["x","y"],i.set("x",o),i.set("y",r),Tn(o)&&(n.set("x",o),e.firstCategoryDimIndex=0),Tn(r)&&(n.set("y",r),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,i,n){var o=t.getReferringComponents("singleAxis",m.US).models[0];e.coordSysDims=["single"],i.set("single",o),Tn(o)&&(n.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents("polar",m.US).models[0],r=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",a),Tn(r)&&(n.set("radius",r),e.firstCategoryDimIndex=0),Tn(a)&&(n.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var o=t.ecModel,r=o.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=r.dimensions.slice();(0,u.__)(r.parallelAxisIndex,(function(t,r){var s=o.getComponent("parallelAxis",t),l=a[r];i.set(l,s),Tn(s)&&(n.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))}))}};function Tn(t){return"category"===t.get("type")}function Dn(t,e,i){i=i||{};var n,o,r,a=i.byIndex,s=i.stackedCoordDimension;Ln(e)?n=e:(o=e.schema,n=o.dimensions,r=e.store);var l,h,c,d,p=!(!t||!t.get("stack"));if((0,u.__)(n,(function(t,e){(0,u.Kg)(t)&&(n[e]=t={name:t}),p&&!t.isExtraCoord&&(a||l||!t.ordinalMeta||(l=t),h||"ordinal"===t.type||"time"===t.type||s&&s!==t.coordDim||(h=t))})),!h||a||l||(a=!0),h){c="__\0ecstackresult_"+t.id,d="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var g=h.coordDim,f=h.type,m=0;(0,u.__)(n,(function(t){t.coordDim===g&&m++}));var y={name:c,coordDim:g,coordDimIndex:m,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},v={name:d,coordDim:d,coordDimIndex:m+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};o?(r&&(y.storeDimIndex=r.ensureCalculationDimension(d,f),v.storeDimIndex=r.ensureCalculationDimension(c,f)),o.appendCalculationDimension(y),o.appendCalculationDimension(v)):(n.push(y),n.push(v))}return{stackedDimension:h&&h.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:d,stackResultDimension:c}}function Ln(t){return!Ji(t.schema)}function kn(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Pn(t,e){return kn(t,e)?t.getCalculationInfo("stackResultDimension"):e}function On(t,e){var i,n=t.get("coordinateSystem"),o=Sn.A.get(n);return e&&e.coordSysDims&&(i=u.Tj(e.coordSysDims,(function(t){var i={name:t},n=e.axisMap.get(t);if(n){var o=n.get("type");i.type=Hi(o)}return i}))),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),i}function Nn(t,e,i){var n,o;return i&&u.__(t,(function(t,r){var a=t.coordDim,s=i.categoryAxisMap.get(a);s&&(null==n&&(n=r),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(o=!0)})),o||null==n||(t[n].otherDims.itemName=0),n}function Rn(t,e,i){i=i||{};var n,o=e.getSourceManager(),r=!1;t?(r=!0,n=(0,$i.AF)(t)):(n=o.getSource(),r=n.sourceFormat===Bi.mK);var a=An(e),s=On(e,a),l=i.useEncodeDefaulter,h=u.Tn(l)?l:l?u.cF(xn.OC,s,e):null,c={coordDimensions:s,generateCoord:i.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!r},d=_n(n,c),p=Nn(d.dimensions,i.createInvertedIndices,a),g=r?null:o.getSharedDataStore(d),f=Dn(e,{schema:d,store:g}),m=new vn(d,e);m.setCalculationInfo(f);var y=null!=p&&En(n)?function(t,e,i,n){return n===p?i:this.defaultDimValueGetter(t,e,i,n)}:null;return m.hasItemOption=!1,m.initData(r?n:g,null,y),m}function En(t){if(t.sourceFormat===Bi.mK){var e=zn(t.data||[]);return!u.cy((0,m.vj)(e))}}function zn(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var Vn=Rn,Bn=i(2103),Fn=i(3870),Wn=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t){return Vn(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new Fn.A,i=(0,Bn.v5)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),r="none"===n?"circle":n,a=.8*t.itemHeight,s=(0,Bn.v5)(r,(t.itemWidth-a)/2,(t.itemHeight-a)/2,a,a,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?o:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),r.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(h.A),Gn=Wn,Hn=i(7663);function Xn(t,e){var i=t.mapDimensionsAll("defaultedLabel"),n=i.length;if(1===n){var o=(0,Vi.QE)(t,e,i[0]);return null!=o?o+"":null}if(n){for(var r=[],a=0;a<i.length;a++)r.push((0,Vi.QE)(t,e,i[a]));return r.join(" ")}}function jn(t,e){var i=t.mapDimensionsAll("defaultedLabel");if(!(0,u.cy)(e))return e+"";for(var n=[],o=0;o<i.length;o++){var r=t.getDimensionIndex(i[o]);r>=0&&n.push(e[r])}return n.join(" ")}var Yn=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.updateData(e,i,n,o),r}return(0,Pi.C6)(e,t),e.prototype._createSymbol=function(t,e,i,n,o){this.removeAll();var r=(0,Bn.v5)(t,-1,-1,2,2,null,o);r.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),r.drift=$n,this._symbolType=t,this.add(r)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){(0,L.HY)(this.childAt(0))},e.prototype.downplay=function(){(0,L.SD)(this.childAt(0))},e.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},e.prototype.setDraggable=function(t,e){var i=this.childAt(0);i.draggable=t,i.cursor=!e&&t?"move":i.cursor},e.prototype.updateData=function(t,i,n,o){this.silent=!1;var r=t.getItemVisual(i,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,i),l=r!==this._symbolType,h=o&&o.disableAnimation;if(l){var u=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(r,t,i,s,u)}else{var c=this.childAt(0);c.silent=!1;var d={scaleX:s[0]/2,scaleY:s[1]/2};h?c.attr(d):v.oi(c,d,a,i),(0,v.ap)(c)}if(this._updateCommon(t,i,s,n,o),l){c=this.childAt(0);if(!h){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,v.LW(c,d,a,i)}}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,i,n,o){var r,a,s,l,h,c,d,p,g,f=this.childAt(0),m=t.hostModel;if(n&&(r=n.emphasisItemStyle,a=n.blurItemStyle,s=n.selectItemStyle,l=n.focus,h=n.blurScope,d=n.labelStatesModels,p=n.hoverScale,g=n.cursorStyle,c=n.emphasisDisabled),!n||t.hasItemOption){var y=n&&n.itemModel?n.itemModel:t.getItemModel(e),v=y.getModel("emphasis");r=v.getModel("itemStyle").getItemStyle(),s=y.getModel(["select","itemStyle"]).getItemStyle(),a=y.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),h=v.get("blurScope"),c=v.get("disabled"),d=(0,st.lx)(y),p=v.getShallow("scale"),g=y.getShallow("cursor")}var x=t.getItemVisual(e,"symbolRotate");f.attr("rotation",(x||0)*Math.PI/180||0);var _=(0,Bn.hV)(t.getItemVisual(e,"symbolOffset"),i);_&&(f.x=_[0],f.y=_[1]),g&&f.attr("cursor",g);var b=t.getItemVisual(e,"style"),w=b.fill;if(f instanceof Gt.Ay){var M=f.style;f.useStyle((0,u.X$)({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},b))}else f.__isEmptyBrush?f.useStyle((0,u.X$)({},b)):f.useStyle(b),f.style.decal=null,f.setColor(w,o&&o.symbolInnerColor),f.style.strokeNoScale=!0;var S=t.getItemVisual(e,"liftZ"),I=this._z2;null!=S?null==I&&(this._z2=f.z2,f.z2+=S):null!=I&&(f.z2=I,this._z2=null);var A=o&&o.useNameLabel;function C(e){return A?t.getName(e):Xn(t,e)}(0,st.qM)(f,d,{labelFetcher:m,labelDataIndex:e,defaultText:C,inheritColor:w,defaultOpacity:b.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=f.ensureState("emphasis");T.style=r,f.ensureState("select").style=s,f.ensureState("blur").style=a;var D=null==p||!0===p?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;T.scaleX=this._sizeX*D,T.scaleY=this._sizeY*D,this.setSymbolScale(1),(0,L.Lm)(this,l,h,c)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,i){var n=this.childAt(0),o=(0,x.z)(this).dataIndex,r=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var a=n.getTextContent();a&&v.Nz(a,{style:{opacity:0}},e,{dataIndex:o,removeOpt:r,cb:function(){n.removeTextContent()}})}else n.removeTextContent();v.Nz(n,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:r})},e.getSymbolSize=function(t,e){return(0,Bn.xU)(t.getItemVisual(e,"symbolSize"))},e}(Fn.A);function $n(t,e){this.parent.drift(t,e)}var Un=Yn;function Zn(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function qn(t){return null==t||(0,u.Gv)(t)||(t={isIgnore:t}),t||{}}function Kn(t){var e=t.hostModel,i=e.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:(0,st.lx)(e),cursorStyle:e.get("cursor")}}var Jn=function(){function t(t){this.group=new Fn.A,this._SymbolCtor=t||Un}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=qn(e);var i=this.group,n=t.hostModel,o=this._data,r=this._SymbolCtor,a=e.disableAnimation,s=Kn(t),l={disableAnimation:a},h=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||i.removeAll(),t.diff(o).add((function(n){var o=h(n);if(Zn(t,o,n,e)){var a=new r(t,n,s,l);a.setPosition(o),t.setItemGraphicEl(n,a),i.add(a)}})).update((function(u,c){var d=o.getItemGraphicEl(c),p=h(u);if(Zn(t,p,u,e)){var g=t.getItemVisual(u,"symbol")||"circle",f=d&&d.getSymbolType&&d.getSymbolType();if(!d||f&&f!==g)i.remove(d),d=new r(t,u,s,l),d.setPosition(p);else{d.updateData(t,u,s,l);var m={x:p[0],y:p[1]};a?d.attr(m):v.oi(d,m,n)}i.add(d),t.setItemGraphicEl(u,d)}else i.remove(d)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}),n)})).execute(),this._getSymbolPoint=h,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,i){var n=t._getSymbolPoint(i);e.setPosition(n),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Kn(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=qn(i);for(var o=t.start;o<t.end;o++){var r=e.getItemLayout(o);if(Zn(e,r,o,i)){var a=new this._SymbolCtor(e,o,this._seriesScope);a.traverse(n),a.setPosition(r),this.group.add(a),e.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){Hn.traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),i.hostModel)})):e.removeAll()},t}(),Qn=Jn;function to(t,e,i){var n=t.getBaseAxis(),o=t.getOtherAxis(n),r=eo(o,i),a=n.dim,s=o.dim,l=e.mapDimension(s),h=e.mapDimension(a),c="x"===s||"radius"===s?1:0,d=(0,u.Tj)(t.dimensions,(function(t){return e.mapDimension(t)})),p=!1,g=e.getCalculationInfo("stackResultDimension");return kn(e,d[0])&&(p=!0,d[0]=g),kn(e,d[1])&&(p=!0,d[1]=g),{dataDimsForPoint:d,valueStart:r,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:h,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function eo(t,e){var i=0,n=t.scale.getExtent();return"start"===e?i=n[0]:"end"===e?i=n[1]:(0,u.Et)(e)&&!isNaN(e)?i=e:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}function io(t,e,i,n){var o=NaN;t.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var r=t.baseDataOffset,a=[];return a[r]=i.get(t.baseDim,n),a[1-r]=o,e.dataToPoint(a)}var no="undefined"!==typeof Float32Array,oo=no?Float32Array:Array;function ro(t){return(0,u.cy)(t)?no?new Float32Array(t):t:new oo(t)}function ao(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}function so(t,e,i,n,o,r,a,s){for(var l=ao(t,e),h=[],u=[],c=[],d=[],p=[],g=[],f=[],m=to(o,e,a),y=t.getLayout("points")||[],v=e.getLayout("points")||[],x=0;x<l.length;x++){var _=l[x],b=!0,w=void 0,M=void 0;switch(_.cmd){case"=":w=2*_.idx,M=2*_.idx1;var S=y[w],I=y[w+1],A=v[M],C=v[M+1];(isNaN(S)||isNaN(I))&&(S=A,I=C),h.push(S,I),u.push(A,C),c.push(i[w],i[w+1]),d.push(n[M],n[M+1]),f.push(e.getRawIndex(_.idx1));break;case"+":var T=_.idx,D=m.dataDimsForPoint,L=o.dataToPoint([e.get(D[0],T),e.get(D[1],T)]);M=2*T,h.push(L[0],L[1]),u.push(v[M],v[M+1]);var k=io(m,o,e,T);c.push(k[0],k[1]),d.push(n[M],n[M+1]),f.push(e.getRawIndex(T));break;case"-":b=!1}b&&(p.push(_),g.push(g.length))}g.sort((function(t,e){return f[t]-f[e]}));var P=h.length,O=ro(P),N=ro(P),R=ro(P),E=ro(P),z=[];for(x=0;x<g.length;x++){var V=g[x],B=2*x,F=2*V;O[B]=h[F],O[B+1]=h[F+1],N[B]=u[F],N[B+1]=u[F+1],R[B]=c[F],R[B+1]=c[F+1],E[B]=d[F],E[B+1]=d[F+1],z[x]=p[V]}return{current:O,next:N,stackedOnCurrent:R,stackedOnNext:E,status:z}}var lo=i(9668),ho=Math.min,uo=Math.max;function co(t,e){return isNaN(t)||isNaN(e)}function po(t,e,i,n,o,r,a,s,l){for(var h,u,c,d,p,g,f=i,m=0;m<n;m++){var y=e[2*f],v=e[2*f+1];if(f>=o||f<0)break;if(co(y,v)){if(l){f+=r;continue}break}if(f===i)t[r>0?"moveTo":"lineTo"](y,v),c=y,d=v;else{var x=y-h,_=v-u;if(x*x+_*_<.5){f+=r;continue}if(a>0){var b=f+r,w=e[2*b],M=e[2*b+1];while(w===y&&M===v&&m<n)m++,b+=r,f+=r,w=e[2*b],M=e[2*b+1],y=e[2*f],v=e[2*f+1],x=y-h,_=v-u;var S=m+1;if(l)while(co(w,M)&&S<n)S++,b+=r,w=e[2*b],M=e[2*b+1];var I=.5,A=0,C=0,T=void 0,D=void 0;if(S>=n||co(w,M))p=y,g=v;else{A=w-h,C=M-u;var L=y-h,k=w-y,P=v-u,O=M-v,N=void 0,R=void 0;if("x"===s){N=Math.abs(L),R=Math.abs(k);var E=A>0?1:-1;p=y-E*N*a,g=v,T=y+E*R*a,D=v}else if("y"===s){N=Math.abs(P),R=Math.abs(O);var z=C>0?1:-1;p=y,g=v-z*N*a,T=y,D=v+z*R*a}else N=Math.sqrt(L*L+P*P),R=Math.sqrt(k*k+O*O),I=R/(R+N),p=y-A*a*(1-I),g=v-C*a*(1-I),T=y+A*a*I,D=v+C*a*I,T=ho(T,uo(w,y)),D=ho(D,uo(M,v)),T=uo(T,ho(w,y)),D=uo(D,ho(M,v)),A=T-y,C=D-v,p=y-A*N/R,g=v-C*N/R,p=ho(p,uo(h,y)),g=ho(g,uo(u,v)),p=uo(p,ho(h,y)),g=uo(g,ho(u,v)),A=y-p,C=v-g,T=y+A*R/N,D=v+C*R/N}t.bezierCurveTo(c,d,p,g,y,v),c=T,d=D}else t.lineTo(y,v)}h=y,u=v,f+=r}return m}var go=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),fo=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polyline",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new go},e.prototype.buildPath=function(t,e){var i=e.points,n=0,o=i.length/2;if(e.connectNulls){for(;o>0;o--)if(!co(i[2*o-2],i[2*o-1]))break;for(;n<o;n++)if(!co(i[2*n],i[2*n+1]))break}while(n<o)n+=po(t,i,n,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,o=this.path,r=o.data,a=I.A.CMD,s="x"===e,l=[],h=0;h<r.length;){var u=r[h++],c=void 0,d=void 0,p=void 0,g=void 0,f=void 0,m=void 0,y=void 0;switch(u){case a.M:i=r[h++],n=r[h++];break;case a.L:if(c=r[h++],d=r[h++],y=s?(t-i)/(c-i):(t-n)/(d-n),y<=1&&y>=0){var v=s?(d-n)*y+n:(c-i)*y+i;return s?[t,v]:[v,t]}i=c,n=d;break;case a.C:c=r[h++],d=r[h++],p=r[h++],g=r[h++],f=r[h++],m=r[h++];var x=s?(0,C._E)(i,c,p,f,t,l):(0,C._E)(n,d,g,m,t,l);if(x>0)for(var _=0;_<x;_++){var b=l[_];if(b<=1&&b>=0){v=s?(0,C.Yb)(n,d,g,m,b):(0,C.Yb)(i,c,p,f,b);return s?[t,v]:[v,t]}}i=f,n=m;break}}},e}(M.Ay),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e}(go),yo=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polygon",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new mo},e.prototype.buildPath=function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,r=i.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;r>0;r--)if(!co(i[2*r-2],i[2*r-1]))break;for(;o<r;o++)if(!co(i[2*o],i[2*o+1]))break}while(o<r){var s=po(t,i,o,r,r,1,e.smooth,a,e.connectNulls);po(t,n,o+s-1,s,r,-1,e.stackedOnSmooth,a,e.connectNulls),o+=s+1,t.closePath()}},e}(M.Ay),vo=i(992),xo=i(9975);function _o(t,e,i,n,o){var r=t.getArea(),a=r.x,s=r.y,l=r.width,h=r.height,c=i.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,l+=c,h+=c,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var d=new vo.A({shape:{x:a,y:s,width:l,height:h}});if(e){var p=t.getBaseAxis(),g=p.isHorizontal(),f=p.inverse;g?(f&&(d.shape.x+=l),d.shape.width=0):(f||(d.shape.y+=h),d.shape.height=0);var m=(0,u.Tn)(o)?function(t){o(t,d)}:null;v.LW(d,{shape:{width:l,height:h,x:a,y:s}},i,null,n,m)}return d}function bo(t,e,i){var n=t.getArea(),o=(0,_.LI)(n.r0,1),r=(0,_.LI)(n.r,1),a=new xo.A({shape:{cx:(0,_.LI)(t.cx,1),cy:(0,_.LI)(t.cy,1),r0:o,r:r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s="angle"===t.getBaseAxis().dim;s?a.shape.endAngle=n.startAngle:a.shape.r=o,v.LW(a,{shape:{endAngle:n.endAngle,r:r}},i)}return a}function wo(t,e,i,n,o){return t?"polar"===t.type?bo(t,e,i):"cartesian2d"===t.type?_o(t,e,i,n,o):null:null}function Mo(t,e){return t.type===e}var So=i(3412);function Io(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function Ao(t){for(var e=1/0,i=1/0,n=-1/0,o=-1/0,r=0;r<t.length;){var a=t[r++],s=t[r++];isNaN(a)||(e=Math.min(a,e),n=Math.max(a,n)),isNaN(s)||(i=Math.min(s,i),o=Math.max(s,o))}return[[e,i],[n,o]]}function Co(t,e){var i=Ao(t),n=i[0],o=i[1],r=Ao(e),a=r[0],s=r[1];return Math.max(Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function To(t){return u.Et(t)?t:t?.5:0}function Do(t,e,i){if(!i.valueDim)return[];for(var n=e.count(),o=ro(2*n),r=0;r<n;r++){var a=io(i,t,e,r);o[2*r]=a[0],o[2*r+1]=a[1]}return o}function Lo(t,e,i,n){var o=e.getBaseAxis(),r="x"===o.dim||"radius"===o.dim?0:1,a=[],s=0,l=[],h=[],u=[],c=[];if(n){for(s=0;s<t.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||c.push(t[s],t[s+1]);t=c}for(s=0;s<t.length-2;s+=2)switch(u[0]=t[s+2],u[1]=t[s+3],h[0]=t[s],h[1]=t[s+1],a.push(h[0],h[1]),i){case"end":l[r]=u[r],l[1-r]=h[1-r],a.push(l[0],l[1]);break;case"middle":var d=(h[r]+u[r])/2,p=[];l[r]=p[r]=d,l[1-r]=h[1-r],p[1-r]=u[1-r],a.push(l[0],l[1]),a.push(p[0],p[1]);break;default:l[r]=h[r],l[1-r]=u[1-r],a.push(l[0],l[1])}return a.push(t[s++],t[s++]),a}function ko(t,e){var i,n,o=[],r=t.length;function a(t,e,i){var n=t.coord,o=(i-n)/(e.coord-n),r=(0,Re.Cc)(o,[t.color,e.color]);return{coord:i,color:r}}for(var s=0;s<r;s++){var l=t[s],h=l.coord;if(h<0)i=l;else{if(h>e){n?o.push(a(n,l,e)):i&&o.push(a(i,l,0),a(i,l,e));break}i&&(o.push(a(i,l,0)),i=null),o.push(l),n=l}}return o}function Po(t,e,i){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var o,r,a=n.length-1;a>=0;a--){var s=t.getDimensionInfo(n[a].dimension);if(o=s&&s.coordDim,"x"===o||"y"===o){r=n[a];break}}if(r){var l=e.getAxis(o),h=u.Tj(r.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),c=h.length,d=r.outerColors.slice();c&&h[0].coord>h[c-1].coord&&(h.reverse(),d.reverse());var p=ko(h,"x"===o?i.getWidth():i.getHeight()),g=p.length;if(!g&&c)return h[0].coord<0?d[1]?d[1]:h[c-1].color:d[0]?d[0]:h[0].color;var f=10,m=p[0].coord-f,y=p[g-1].coord+f,v=y-m;if(v<.001)return"transparent";u.__(p,(function(t){t.offset=(t.coord-m)/v})),p.push({offset:g?p[g-1].offset:.5,color:d[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:d[0]||"transparent"});var x=new lo.A(0,0,0,0,p,!0);return x[o]=m,x[o+"2"]=y,x}}}function Oo(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var r=i.getAxesByScale("ordinal")[0];if(r&&(!o||!No(r,e))){var a=e.mapDimension(r.dim),s={};return u.__(r.getViewLabels(),(function(t){var e=r.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function No(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=e.count(),r=Math.max(1,Math.round(o/5)),a=0;a<o;a+=r)if(1.5*Un.getSymbolSize(e,a)[t.isHorizontal()?1:0]>n)return!1;return!0}function Ro(t,e){return isNaN(t)||isNaN(e)}function Eo(t){for(var e=t.length/2;e>0;e--)if(!Ro(t[2*e-2],t[2*e-1]))break;return e-1}function zo(t,e){return[t[2*e],t[2*e+1]]}function Vo(t,e,i){for(var n,o,r=t.length/2,a="x"===i?0:1,s=0,l=-1,h=0;h<r;h++)if(o=t[2*h+a],!isNaN(o)&&!isNaN(t[2*h+1-a]))if(0!==h){if(n<=e&&o>=e||n>=e&&o<=e){l=h;break}s=h,n=o}else n=o;return{range:[s,l],t:(e-n)/(o-n)}}function Bo(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<L.BV.length;e++)if(t.get([L.BV[e],"endLabel","show"]))return!0;return!1}function Fo(t,e,i,n){if(Mo(e,"cartesian2d")){var o=n.getModel("endLabel"),r=o.get("valueAnimation"),a=n.getData(),s={lastFrameIndex:0},l=Bo(n)?function(i,n){t._endLabelOnDuring(i,n,a,s,r,o,e)}:null,h=e.getBaseAxis().isHorizontal(),u=_o(e,i,n,(function(){var e=t._endLabel;e&&i&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l);if(!n.get("clip",!0)){var c=u.shape,d=Math.max(c.width,c.height);h?(c.y-=d,c.height+=2*d):(c.x-=d,c.width+=2*d)}return l&&l(1,u),u}return bo(e,i,n)}function Wo(t,e){var i=e.getBaseAxis(),n=i.isHorizontal(),o=i.inverse,r=n?o?"right":"left":"center",a=n?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||r,verticalAlign:t.get("verticalAlign")||a}}}var Go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.init=function(){var t=new Fn.A,e=new Qn;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,i){var n=this,o=t.coordinateSystem,r=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),h=a.getLayout("points")||[],c="polar"===o.type,d=this._coordSys,p=this._symbolDraw,g=this._polyline,f=this._polygon,m=this._lineGroup,y=!e.ssr&&t.get("animation"),_=!l.isEmpty(),b=l.get("origin"),w=to(o,a,b),M=_&&Do(o,a,w),S=t.get("showSymbol"),I=t.get("connectNulls"),A=S&&!c&&Oo(t,a,o),C=this._data;C&&C.eachItemGraphicEl((function(t,e){t.__temp&&(r.remove(t),C.setItemGraphicEl(e,null))})),S||p.remove(),r.add(m);var T,D=!c&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(T=o.getArea(),null!=T.width?(T.x-=.1,T.y-=.1,T.width+=.2,T.height+=.2):T.r0&&(T.r0-=.5,T.r+=.5)),this._clipShapeForSymbol=T;var k=Po(a,o,i)||a.getVisual("style")[a.getVisual("drawType")];if(g&&d.type===o.type&&D===this._step){_&&!f?f=this._newPolygon(h,M):f&&!_&&(m.remove(f),f=this._polygon=null),c||this._initOrUpdateEndLabel(t,o,(0,So.he)(k));var P=m.getClipPath();if(P){var O=Fo(this,o,!1,t);v.LW(P,{shape:O.shape},t)}else m.setClipPath(Fo(this,o,!0,t));S&&p.updateData(a,{isIgnore:A,clipShape:T,disableAnimation:!0,getSymbolPoint:function(t){return[h[2*t],h[2*t+1]]}}),Io(this._stackedOnPoints,M)&&Io(this._points,h)||(y?this._doUpdateAnimation(a,M,o,i,D,b,I):(D&&(h=Lo(h,o,D,I),M&&(M=Lo(M,o,D,I))),g.setShape({points:h}),f&&f.setShape({points:h,stackedOnPoints:M})))}else S&&p.updateData(a,{isIgnore:A,clipShape:T,disableAnimation:!0,getSymbolPoint:function(t){return[h[2*t],h[2*t+1]]}}),y&&this._initSymbolLabelAnimation(a,o,T),D&&(h=Lo(h,o,D,I),M&&(M=Lo(M,o,D,I))),g=this._newPolyline(h),_?f=this._newPolygon(h,M):f&&(m.remove(f),f=this._polygon=null),c||this._initOrUpdateEndLabel(t,o,(0,So.he)(k)),m.setClipPath(Fo(this,o,!0,t));var N=t.getModel("emphasis"),R=N.get("focus"),E=N.get("blurScope"),z=N.get("disabled");if(g.useStyle(u.NT(s.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"})),(0,L.Mx)(g,t,"lineStyle"),g.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var V=g.getState("emphasis").style;V.lineWidth=+g.style.lineWidth+1}(0,x.z)(g).seriesIndex=t.seriesIndex,(0,L.Lm)(g,R,E,z);var B=To(t.get("smooth")),F=t.get("smoothMonotone");if(g.setShape({smooth:B,smoothMonotone:F,connectNulls:I}),f){var W=a.getCalculationInfo("stackedOnSeries"),G=0;f.useStyle(u.NT(l.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),W&&(G=To(W.get("smooth"))),f.setShape({smooth:B,stackedOnSmooth:G,smoothMonotone:F,connectNulls:I}),(0,L.Mx)(f,t,"areaStyle"),(0,x.z)(f).seriesIndex=t.seriesIndex,(0,L.Lm)(f,R,E,z)}var H=function(t){n._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=H)})),this._polyline.onHoverStateChange=H,this._data=a,this._coordSys=o,this._stackedOnPoints=M,this._points=h,this._step=D,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,g),f&&this.packEventData(t,f))},e.prototype.packEventData=function(t,e){(0,x.z)(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,i,n){var o=t.getData(),r=m.le(o,n);if(this._changePolyState("emphasis"),!(r instanceof Array)&&null!=r&&r>=0){var a=o.getLayout("points"),l=o.getItemGraphicEl(r);if(!l){var h=a[2*r],u=a[2*r+1];if(isNaN(h)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,u))return;var c=t.get("zlevel")||0,d=t.get("z")||0;l=new Un(o,r),l.x=h,l.y=u,l.setZ(c,d);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=c,p.z=d,p.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(r,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else s.A.prototype.highlight.call(this,t,e,i,n)},e.prototype.downplay=function(t,e,i,n){var o=t.getData(),r=m.le(o,n);if(this._changePolyState("normal"),null!=r&&r>=0){var a=o.getItemGraphicEl(r);a&&(a.__temp?(o.setItemGraphicEl(r,null),this.group.remove(a)):a.downplay())}else s.A.prototype.downplay.call(this,t,e,i,n)},e.prototype._changePolyState=function(t){var e=this._polygon;(0,L.Pk)(this._polyline,t),e&&(0,L.Pk)(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new fo({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new yo({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,e,i){var n,o,r=e.getBaseAxis(),a=r.inverse;"cartesian2d"===e.type?(n=r.isHorizontal(),o=!1):"polar"===e.type&&(n="angle"===r.dim,o=!0);var s=t.hostModel,l=s.get("animationDuration");u.Tn(l)&&(l=l(null));var h=s.get("animationDelay")||0,c=u.Tn(h)?h(null):h;t.eachItemGraphicEl((function(t,r){var s=t;if(s){var d=[t.x,t.y],p=void 0,g=void 0,f=void 0;if(i)if(o){var m=i,y=e.pointToCoord(d);n?(p=m.startAngle,g=m.endAngle,f=-y[1]/180*Math.PI):(p=m.r0,g=m.r,f=y[0])}else{var v=i;n?(p=v.x,g=v.x+v.width,f=t.x):(p=v.y+v.height,g=v.y,f=t.y)}var x=g===p?0:(f-p)/(g-p);a&&(x=1-x);var _=u.Tn(h)?h(r):l*x+c,b=s.getSymbolPath(),w=b.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:_}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:_}),b.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,i){var n=t.getModel("endLabel");if(Bo(t)){var o=t.getData(),r=this._polyline,a=o.getLayout("points");if(!a)return r.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||(s=this._endLabel=new Ne.Ay({z2:200}),s.ignoreClip=!0,r.setTextContent(this._endLabel),r.disableLabelAnimation=!0);var l=Eo(a);l>=0&&((0,st.qM)(r,(0,st.lx)(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,i){return null!=i?jn(o,i):Xn(o,t)},enableTextSetter:!0},Wo(n,e)),r.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,i,n,o,r,a){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==n.originalX&&(n.originalX=s.x,n.originalY=s.y);var h=i.getLayout("points"),u=i.hostModel,c=u.get("connectNulls"),d=r.get("precision"),p=r.get("distance")||0,g=a.getBaseAxis(),f=g.isHorizontal(),y=g.inverse,v=e.shape,x=y?f?v.x:v.y+v.height:f?v.x+v.width:v.y,_=(f?p:0)*(y?-1:1),b=(f?0:-p)*(y?-1:1),w=f?"x":"y",M=Vo(h,x,w),S=M.range,I=S[1]-S[0],A=void 0;if(I>=1){if(I>1&&!c){var C=zo(h,S[0]);s.attr({x:C[0]+_,y:C[1]+b}),o&&(A=u.getRawValue(S[0]))}else{C=l.getPointOn(x,w);C&&s.attr({x:C[0]+_,y:C[1]+b});var T=u.getRawValue(S[0]),D=u.getRawValue(S[1]);o&&(A=m.Il(i,d,T,D,M.t))}n.lastFrameIndex=S[0]}else{var L=1===t||n.lastFrameIndex>0?S[0]:0;C=zo(h,L);o&&(A=u.getRawValue(L)),s.attr({x:C[0]+_,y:C[1]+b})}if(o){var k=(0,st.Lu)(s);"function"===typeof k.setLabelText&&k.setLabelText(A)}}},e.prototype._doUpdateAnimation=function(t,e,i,n,o,r,a){var s=this._polyline,l=this._polygon,h=t.hostModel,u=so(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,r),c=u.current,d=u.stackedOnCurrent,p=u.next,g=u.stackedOnNext;if(o&&(c=Lo(u.current,i,o,a),d=Lo(u.stackedOnCurrent,i,o,a),p=Lo(u.next,i,o,a),g=Lo(u.stackedOnNext,i,o,a)),Co(c,p)>3e3||l&&Co(d,g)>3e3)return s.stopAnimation(),s.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g})));s.shape.__points=u.current,s.shape.points=c;var f={shape:{points:p}};u.current!==c&&(f.shape.__points=u.next),s.stopAnimation(),v.oi(s,f,h),l&&(l.setShape({points:c,stackedOnPoints:d}),l.stopAnimation(),v.oi(l,{shape:{stackedOnPoints:g}},h),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var m=[],y=u.status,x=0;x<y.length;x++){var _=y[x].cmd;if("="===_){var b=t.getItemGraphicEl(y[x].idx1);b&&m.push({el:b,ptIdx:x})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e<m.length;e++){var i=m[e].el,n=2*m[e].ptIdx;i.x=t[n],i.y=t[n+1],i.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(s.A),Ho=Go,Xo=i(7582);function jo(t,e){return{seriesType:t,plan:(0,Xo.A)(),reset:function(t){var i=t.getData(),n=t.coordinateSystem,o=t.pipelineContext,r=e||o.large;if(n){var a=(0,u.Tj)(n.dimensions,(function(t){return i.mapDimension(t)})).slice(0,2),s=a.length,l=i.getCalculationInfo("stackResultDimension");kn(i,a[0])&&(a[0]=l),kn(i,a[1])&&(a[1]=l);var h=i.getStore(),c=i.getDimensionIndex(a[0]),d=i.getDimensionIndex(a[1]);return s&&{progress:function(t,e){for(var i=t.end-t.start,o=r&&ro(i*s),a=[],l=[],u=t.start,p=0;u<t.end;u++){var g=void 0;if(1===s){var f=h.get(c,u);g=n.dataToPoint(f,null,l)}else a[0]=h.get(c,u),a[1]=h.get(d,u),g=n.dataToPoint(a,null,l);r?(o[p++]=g[0],o[p++]=g[1]):e.setItemLayout(u,g.slice())}r&&e.setLayout("points",o)}}}}}}var Yo={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,i=-1/0,n=0;n<t.length;n++){var o=t[n],r=Math.abs(o);r>e&&(e=r,i=o)}return isFinite(i)?i:NaN},nearest:function(t){return t[0]}},$o=function(t){return Math.round(t.length/2)};function Uo(t){return{seriesType:t,reset:function(t,e,i){var n=t.getData(),o=t.get("sampling"),r=t.coordinateSystem,a=n.count();if(a>10&&"cartesian2d"===r.type&&o){var s=r.getBaseAxis(),l=r.getOtherAxis(s),h=s.getExtent(),c=i.getDevicePixelRatio(),d=Math.abs(h[1]-h[0])*(c||1),p=Math.round(a/d);if(isFinite(p)&&p>1){"lttb"===o&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/p));var g=void 0;(0,u.Kg)(o)?g=Yo[o]:(0,u.Tn)(o)&&(g=o),g&&t.setData(n.downSample(n.mapDimension(l.dim),1/p,g,$o))}}}}}function Zo(t){t.registerChartView(Ho),t.registerSeriesModel(Gn),t.registerLayout(jo("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Uo("line"))}var qo="__ec_stack_";function Ko(t){return t.get("stack")||qo+t.seriesIndex}function Jo(t){return t.dim+t.index}function Qo(t){var e=[],i=t.axis,n="axis0";if("category"===i.type){for(var o=i.getBandWidth(),r=0;r<t.count;r++)e.push((0,u.NT)({bandWidth:o,axisKey:n,stackId:qo+r},t));var a=nr(e),s=[];for(r=0;r<t.count;r++){var l=a[n][qo+r];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function tr(t,e){var i=[];return e.eachSeriesByType(t,(function(t){sr(t)&&i.push(t)})),i}function er(t){var e={};(0,u.__)(t,(function(t){var i=t.coordinateSystem,n=i.getBaseAxis();if("time"===n.type||"value"===n.type)for(var o=t.getData(),r=n.dim+"_"+n.index,a=o.getDimensionIndex(o.mapDimension(n.dim)),s=o.getStore(),l=0,h=s.count();l<h;++l){var u=s.get(a,l);e[r]?e[r].push(u):e[r]=[u]}}));var i={};for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(o){o.sort((function(t,e){return t-e}));for(var r=null,a=1;a<o.length;++a){var s=o[a]-o[a-1];s>0&&(r=null===r?s:Math.min(r,s))}i[n]=r}}return i}function ir(t){var e=er(t),i=[];return(0,u.__)(t,(function(t){var n,o=t.coordinateSystem,r=o.getBaseAxis(),a=r.getExtent();if("category"===r.type)n=r.getBandWidth();else if("value"===r.type||"time"===r.type){var s=r.dim+"_"+r.index,l=e[s],h=Math.abs(a[1]-a[0]),u=r.scale.getExtent(),c=Math.abs(u[1]-u[0]);n=l?h/c*l:h}else{var d=t.getData();n=Math.abs(a[1]-a[0])/d.count()}var p=(0,_.lo)(t.get("barWidth"),n),g=(0,_.lo)(t.get("barMaxWidth"),n),f=(0,_.lo)(t.get("barMinWidth")||(lr(t)?.5:1),n),m=t.get("barGap"),y=t.get("barCategoryGap");i.push({bandWidth:n,barWidth:p,barMaxWidth:g,barMinWidth:f,barGap:m,barCategoryGap:y,axisKey:Jo(r),stackId:Ko(t)})})),nr(i)}function nr(t){var e={};(0,u.__)(t,(function(t,i){var n=t.axisKey,o=t.bandWidth,r=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=r.stacks;e[n]=r;var s=t.stackId;a[s]||r.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var h=t.barMaxWidth;h&&(a[s].maxWidth=h);var u=t.barMinWidth;u&&(a[s].minWidth=u);var c=t.barGap;null!=c&&(r.gap=c);var d=t.barCategoryGap;null!=d&&(r.categoryGap=d)}));var i={};return(0,u.__)(e,(function(t,e){i[e]={};var n=t.stacks,o=t.bandWidth,r=t.categoryGap;if(null==r){var a=(0,u.HP)(n).length;r=Math.max(35-4*a,15)+"%"}var s=(0,_.lo)(r,o),l=(0,_.lo)(t.gap,1),h=t.remainedWidth,c=t.autoWidthCount,d=(h-s)/(c+(c-1)*l);d=Math.max(d,0),(0,u.__)(n,(function(t){var e=t.maxWidth,i=t.minWidth;if(t.width){n=t.width;e&&(n=Math.min(n,e)),i&&(n=Math.max(n,i)),t.width=n,h-=n+l*n,c--}else{var n=d;e&&e<n&&(n=Math.min(e,h)),i&&i>n&&(n=i),n!==d&&(t.width=n,h-=n+l*n,c--)}})),d=(h-s)/(c+(c-1)*l),d=Math.max(d,0);var p,g=0;(0,u.__)(n,(function(t,e){t.width||(t.width=d),p=t,g+=t.width*(1+l)})),p&&(g-=p.width*l);var f=-g/2;(0,u.__)(n,(function(t,n){i[e][n]=i[e][n]||{bandWidth:o,offset:f,width:t.width},f+=t.width*(1+l)}))})),i}function or(t,e,i){if(t&&e){var n=t[Jo(e)];return null!=n&&null!=i?n[Ko(i)]:n}}function rr(t,e){var i=tr(t,e),n=ir(i);(0,u.__)(i,(function(t){var e=t.getData(),i=t.coordinateSystem,o=i.getBaseAxis(),r=Ko(t),a=n[Jo(o)][r],s=a.offset,l=a.width;e.setLayout({bandWidth:a.bandWidth,offset:s,size:l})}))}function ar(t){return{seriesType:t,plan:(0,Xo.A)(),reset:function(t){if(sr(t)){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=i.getOtherAxis(n),r=e.getDimensionIndex(e.mapDimension(o.dim)),a=e.getDimensionIndex(e.mapDimension(n.dim)),s=t.get("showBackground",!0),l=e.mapDimension(o.dim),h=e.getCalculationInfo("stackResultDimension"),u=kn(e,l)&&!!e.getCalculationInfo("stackedOnSeries"),c=o.isHorizontal(),d=hr(n,o),p=lr(t),g=t.get("barMinHeight")||0,f=h&&e.getDimensionIndex(h),m=e.getLayout("size"),y=e.getLayout("offset");return{progress:function(t,e){var n,o=t.count,l=p&&ro(3*o),h=p&&s&&ro(3*o),v=p&&ro(o),x=i.master.getRect(),_=c?x.width:x.height,b=e.getStore(),w=0;while(null!=(n=t.next())){var M=b.get(u?f:r,n),S=b.get(a,n),I=d,A=void 0;u&&(A=+M-b.get(r,n));var C=void 0,T=void 0,D=void 0,L=void 0;if(c){var k=i.dataToPoint([M,S]);if(u){var P=i.dataToPoint([A,S]);I=P[0]}C=I,T=k[1]+y,D=k[0]-I,L=m,Math.abs(D)<g&&(D=(D<0?-1:1)*g)}else{k=i.dataToPoint([S,M]);if(u){P=i.dataToPoint([S,A]);I=P[1]}C=k[0]+y,T=I,D=m,L=k[1]-I,Math.abs(L)<g&&(L=(L<=0?-1:1)*g)}p?(l[w]=C,l[w+1]=T,l[w+2]=c?D:L,h&&(h[w]=c?x.x:C,h[w+1]=c?T:x.y,h[w+2]=_),v[n]=n):e.setItemLayout(n,{x:C,y:T,width:D,height:L}),w+=3}p&&e.setLayout({largePoints:l,largeDataIndices:v,largeBackgroundPoints:h,valueAxisHorizontal:c})}}}}}}function sr(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function lr(t){return t.pipelineContext&&t.pipelineContext.large}function hr(t,e){var i=e.model.get("startValue");return i||(i=0),e.toGlobalCoord(e.dataToCoord("log"===e.type?i>0?i:1:i))}var ur=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){return Vn(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,e,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(t),r=n.dataToPoint(o);if(i)(0,u.__)(n.getAxes(),(function(t,i){if("category"===t.type&&null!=e){var n=t.getTicksCoords(),a=t.getTickModel().get("alignWithLabel"),s=o[i],l="x1"===e[i]||"y1"===e[i];if(l&&!a&&(s+=1),n.length<2)return;if(2===n.length)return void(r[i]=t.toGlobalCoord(t.getExtent()[l?1:0]));for(var h=void 0,u=void 0,c=1,d=0;d<n.length;d++){var p=n[d].coord,g=d===n.length-1?n[d-1].tickValue+c:n[d].tickValue;if(g===s){u=p;break}if(g<s)h=p;else if(null!=h&&g>s){u=(p+h)/2;break}1===d&&(c=g-n[0].tickValue)}null==u&&(h?h&&(u=n[n.length-1].coord):u=n[0].coord),r[i]=t.toGlobalCoord(u)}}));else{var a=this.getData(),s=a.getLayout("offset"),l=a.getLayout("size"),h=n.getBaseAxis().isHorizontal()?0:1;r[h]+=s+l/2}return r}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(h.A);h.A.registerClass(ur);var cr=ur,dr=i(2616),pr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(){return Vn(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,i){return i.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=(0,dr.G_)(cr.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(cr),gr=pr,fr=i(4711),mr=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),yr=function(t){function e(e){var i=t.call(this,e)||this;return i.type="sausage",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new mr},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),r=Math.max(e.r,0),a=.5*(r-o),s=o+a,l=e.startAngle,h=e.endAngle,u=e.clockwise,c=2*Math.PI,d=u?h-l<c:l-h<c;d||(l=h-(u?c:-c));var p=Math.cos(l),g=Math.sin(l),f=Math.cos(h),m=Math.sin(h);d?(t.moveTo(p*o+i,g*o+n),t.arc(p*s+i,g*s+n,a,-Math.PI+l,l,!u)):t.moveTo(p*r+i,g*r+n),t.arc(i,n,r,l,h,!u),t.arc(f*s+i,m*s+n,a,h-2*Math.PI,h-Math.PI,!u),0!==o&&t.arc(i,n,o,h,l,u)},e}(M.Ay),vr=yr;function xr(t,e){e=e||{};var i=e.isRoundCap;return function(e,n,o){var r=n.position;if(!r||r instanceof Array)return(0,Ht.X4)(e,n,o);var a=t(r),s=null!=n.distance?n.distance:5,l=this.shape,h=l.cx,u=l.cy,c=l.r,d=l.r0,p=(c+d)/2,g=l.startAngle,f=l.endAngle,m=(g+f)/2,y=i?Math.abs(c-d)/2:0,v=Math.cos,x=Math.sin,_=h+c*v(g),b=u+c*x(g),w="left",M="top";switch(a){case"startArc":_=h+(d-s)*v(m),b=u+(d-s)*x(m),w="center",M="top";break;case"insideStartArc":_=h+(d+s)*v(m),b=u+(d+s)*x(m),w="center",M="bottom";break;case"startAngle":_=h+p*v(g)+br(g,s+y,!1),b=u+p*x(g)+wr(g,s+y,!1),w="right",M="middle";break;case"insideStartAngle":_=h+p*v(g)+br(g,-s+y,!1),b=u+p*x(g)+wr(g,-s+y,!1),w="left",M="middle";break;case"middle":_=h+p*v(m),b=u+p*x(m),w="center",M="middle";break;case"endArc":_=h+(c+s)*v(m),b=u+(c+s)*x(m),w="center",M="bottom";break;case"insideEndArc":_=h+(c-s)*v(m),b=u+(c-s)*x(m),w="center",M="top";break;case"endAngle":_=h+p*v(f)+br(f,s+y,!0),b=u+p*x(f)+wr(f,s+y,!0),w="left",M="middle";break;case"insideEndAngle":_=h+p*v(f)+br(f,-s+y,!0),b=u+p*x(f)+wr(f,-s+y,!0),w="right",M="middle";break;default:return(0,Ht.X4)(e,n,o)}return e=e||{},e.x=_,e.y=b,e.align=w,e.verticalAlign=M,e}}function _r(t,e,i,n){if((0,u.Et)(n))t.setTextConfig({rotation:n});else if((0,u.cy)(e))t.setTextConfig({rotation:0});else{var o,r=t.shape,a=r.clockwise?r.startAngle:r.endAngle,s=r.clockwise?r.endAngle:r.startAngle,l=(a+s)/2,h=i(e);switch(h){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=l;break;case"startAngle":case"insideStartAngle":o=a;break;case"endAngle":case"insideEndAngle":o=s;break;default:return void t.setTextConfig({rotation:0})}var c=1.5*Math.PI-o;"middle"===h&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),t.setTextConfig({rotation:c})}}function br(t,e,i){return e*Math.sin(t)*(i?-1:1)}function wr(t,e,i){return e*Math.cos(t)*(i?1:-1)}function Mr(t,e,i){var n=t.get("borderRadius");if(null==n)return i?{cornerRadius:0}:null;(0,u.cy)(n)||(n=[n,n,n,n]);var o=Math.abs(e.r||0-e.r0||0);return{cornerRadius:(0,u.Tj)(n,(function(t){return(0,Ht.lo)(t,o)}))}}var Sr=Math.max,Ir=Math.min;function Ar(t,e){var i=t.getArea&&t.getArea();if(Mo(t,"cartesian2d")){var n=t.getBaseAxis();if("category"!==n.type||!n.onBand){var o=e.getLayout("bandWidth");n.isHorizontal()?(i.x-=o,i.width+=2*o):(i.y-=o,i.height+=2*o)}}return i}var Cr=function(t){function e(){var i=t.call(this)||this;return i.type=e.type,i._isFirstFrame=!0,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var o=t.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i,n))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){(0,Hn.traverseElements)(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,i,n){var o,r=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,h=l.getBaseAxis();"cartesian2d"===l.type?o=h.isHorizontal():"polar"===l.type&&(o="angle"===h.dim);var u=t.isAnimationEnabled()?t:null,c=Lr(t,l);c&&this._enableRealtimeSort(c,a,i);var d=t.get("clip",!0)||c,p=Ar(l,a);r.removeClipPath();var g=t.get("roundCap",!0),f=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),y=m.get("borderRadius")||0,x=[],_=this._backgroundEls,b=n&&n.isInitSort,w=n&&"changeAxisOrder"===n.type;function M(t){var e=Er[l.type](a,t),i=$r(l,o,e);return i.useStyle(m.getItemStyle()),"cartesian2d"===l.type?i.setShape("r",y):i.setShape("cornerRadius",y),x[t]=i,i}a.diff(s).add((function(e){var i=a.getItemModel(e),n=Er[l.type](a,e,i);if(f&&M(e),a.hasValue(e)&&Rr[l.type](n)){var s=!1;d&&(s=Tr[l.type](p,n));var m=Dr[l.type](t,a,e,n,o,u,h.model,!1,g);c&&(m.forceLabelAnimation=!0),Br(m,a,e,i,n,t,o,"polar"===l.type),b?m.attr({shape:n}):c?kr(c,u,m,n,e,o,!1,!1):(0,v.LW)(m,{shape:n},t,e),a.setItemGraphicEl(e,m),r.add(m),m.ignore=s}})).update((function(e,i){var n=a.getItemModel(e),S=Er[l.type](a,e,n);if(f){var I=void 0;0===_.length?I=M(i):(I=_[i],I.useStyle(m.getItemStyle()),"cartesian2d"===l.type?I.setShape("r",y):I.setShape("cornerRadius",y),x[e]=I);var A=Er[l.type](a,e),C=Yr(o,A,l);(0,v.oi)(I,{shape:C},u,e)}var T=s.getItemGraphicEl(i);if(a.hasValue(e)&&Rr[l.type](S)){var D=!1;if(d&&(D=Tr[l.type](p,S),D&&r.remove(T)),T?(0,v.ap)(T):T=Dr[l.type](t,a,e,S,o,u,h.model,!!T,g),c&&(T.forceLabelAnimation=!0),w){var L=T.getTextContent();if(L){var k=(0,st.Lu)(L);null!=k.prevValue&&(k.prevValue=k.value)}}else Br(T,a,e,n,S,t,o,"polar"===l.type);b?T.attr({shape:S}):c?kr(c,u,T,S,e,o,!0,w):(0,v.oi)(T,{shape:S},t,e,null),a.setItemGraphicEl(e,T),T.ignore=D,r.add(T)}else r.remove(T)})).remove((function(e){var i=s.getItemGraphicEl(e);i&&(0,v.t5)(i,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Fn.A);S.removeAll();for(var I=0;I<x.length;++I)S.add(x[I]);r.add(S),this._backgroundEls=x,this._data=a},e.prototype._renderLarge=function(t,e,i){this._clear(),Hr(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),Hr(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&wo(t.coordinateSystem,!1,t),i=this.group;e?i.setClipPath(e):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,i){var n=this;if(e.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,i),this._isFirstFrame=!1;else{var r=function(t){var i=e.getItemGraphicEl(t),n=i&&i.shape;return n&&Math.abs(o.isHorizontal()?n.height:n.width)||0};this._onRendered=function(){n._updateSortWithinSameData(e,r,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,i){var n=[];return t.each(t.mapDimension(e.dim),(function(t,e){var o=i(e);o=null==o?NaN:o,n.push({dataIndex:e,mappedValue:o,ordinalNumber:t})})),n.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:(0,u.Tj)(n,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,i){for(var n=i.scale,o=t.mapDimension(i.dim),r=Number.MAX_VALUE,a=0,s=n.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(o,n.getRawOrdinalNumber(a)),h=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(h>r)return!0;r=h}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var i=e.scale,n=i.getExtent(),o=Math.max(0,n[0]),r=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=r;++o)if(t.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,e,i,n){if(this._isOrderChangedWithinSameData(t,e,i)){var o=this._dataSort(t,i,e);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,e,i){var n=e.baseAxis,o=this._dataSort(t,n,(function(i){return t.get(t.mapDimension(e.otherAxis.dim),i)}));i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl((function(e){(0,v.t5)(e,t,(0,x.z)(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(s.A),Tr={cartesian2d:function(t,e){var i=e.width<0?-1:1,n=e.height<0?-1:1;i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var o=t.x+t.width,r=t.y+t.height,a=Sr(e.x,t.x),s=Ir(e.x+e.width,o),l=Sr(e.y,t.y),h=Ir(e.y+e.height,r),u=s<a,c=h<l;return e.x=u&&a>o?s:a,e.y=c&&l>r?h:l,e.width=u?0:s-a,e.height=c?0:h-l,i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),u||c},polar:function(t,e){var i=e.r0<=e.r?1:-1;if(i<0){var n=e.r;e.r=e.r0,e.r0=n}var o=Ir(e.r,t.r),r=Sr(e.r0,t.r0);e.r=o,e.r0=r;var a=o-r<0;if(i<0){n=e.r;e.r=e.r0,e.r0=n}return a}},Dr={cartesian2d:function(t,e,i,n,o,r,a,s,l){var h=new vo.A({shape:(0,u.X$)({},n),z2:1});if(h.__dataIndex=i,h.name="item",r){var c=h.shape,d=o?"height":"width";c[d]=0}return h},polar:function(t,e,i,n,o,r,a,s,l){var h=!o&&l?vr:xo.A,u=new h({shape:n,z2:1});u.name="item";var c=Vr(o);if(u.calculateTextPosition=xr(c,{isRoundCap:h===vr}),r){var d=u.shape,p=o?"r":"endAngle",g={};d[p]=o?n.r0:n.startAngle,g[p]=n[p],(s?v.oi:v.LW)(u,{shape:g},r)}return u}};function Lr(t,e){var i=t.get("realtimeSort",!0),n=e.getBaseAxis();if(i&&"category"===n.type&&"cartesian2d"===e.type)return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function kr(t,e,i,n,o,r,a,s){var l,h;r?(h={x:n.x,width:n.width},l={y:n.y,height:n.height}):(h={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(a?v.oi:v.LW)(i,{shape:l},e,o,null);var u=e?t.baseAxis.model:null;(a?v.oi:v.LW)(i,{shape:h},u,o)}function Pr(t,e){for(var i=0;i<e.length;i++)if(!isFinite(t[e[i]]))return!0;return!1}var Or=["x","y","width","height"],Nr=["cx","cy","r","startAngle","endAngle"],Rr={cartesian2d:function(t){return!Pr(t,Or)},polar:function(t){return!Pr(t,Nr)}},Er={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=i?Fr(i,n):0,r=n.width>0?1:-1,a=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+a*o/2,width:n.width-r*o,height:n.height-a*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function zr(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function Vr(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function Br(t,e,i,n,o,r,a,s){var l=e.getItemVisual(i,"style");if(s){if(!r.get("roundCap")){var h=t.shape,c=Mr(n.getModel("itemStyle"),h,!0);(0,u.X$)(h,c),t.setShape(h)}}else{var d=n.get(["itemStyle","borderRadius"])||0;t.setShape("r",d)}t.useStyle(l);var p=n.getShallow("cursor");p&&t.attr("cursor",p);var g=s?a?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":a?o.height>=0?"bottom":"top":o.width>=0?"right":"left",f=(0,st.lx)(n);(0,st.qM)(t,f,{labelFetcher:r,labelDataIndex:i,defaultText:Xn(r.getData(),i),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:g});var m=t.getTextContent();if(s&&m){var y=n.get(["label","position"]);t.textConfig.inside="middle"===y||null,_r(t,"outside"===y?g:y,Vr(a),n.get(["label","rotate"]))}(0,st.Oh)(m,f,r.getRawValue(i),(function(t){return jn(e,t)}));var v=n.getModel(["emphasis"]);(0,L.Lm)(t,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,L.Mx)(t,n),zr(o)&&(t.style.fill="none",t.style.stroke="none",(0,u.__)(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}function Fr(t,e){var i=t.get(["itemStyle","borderColor"]);if(!i||"none"===i)return 0;var n=t.get(["itemStyle","borderWidth"])||0,o=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),r=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,o,r)}var Wr=function(){function t(){}return t}(),Gr=function(t){function e(e){var i=t.call(this,e)||this;return i.type="largeBar",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new Wr},e.prototype.buildPath=function(t,e){for(var i=e.points,n=this.baseDimIdx,o=1-this.baseDimIdx,r=[],a=[],s=this.barWidth,l=0;l<i.length;l+=3)a[n]=s,a[o]=i[l+2],r[n]=i[l+n],r[o]=i[l+o],t.rect(r[0],r[1],a[0],a[1])},e}(M.Ay);function Hr(t,e,i,n){var o=t.getData(),r=o.getLayout("valueAxisHorizontal")?1:0,a=o.getLayout("largeDataIndices"),s=o.getLayout("size"),l=t.getModel("backgroundStyle"),h=o.getLayout("largeBackgroundPoints");if(h){var u=new Gr({shape:{points:h},incremental:!!n,silent:!0,z2:0});u.baseDimIdx=r,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),i&&i.push(u)}var c=new Gr({shape:{points:o.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=r,c.largeDataIndices=a,c.barWidth=s,e.add(c),c.useStyle(o.getVisual("style")),(0,x.z)(c).seriesIndex=t.seriesIndex,t.get("silent")||(c.on("mousedown",Xr),c.on("mousemove",Xr)),i&&i.push(c)}var Xr=(0,fr.nF)((function(t){var e=this,i=jr(e,t.offsetX,t.offsetY);(0,x.z)(e).dataIndex=i>=0?i:null}),30,!1);function jr(t,e,i){for(var n=t.baseDimIdx,o=1-n,r=t.shape.points,a=t.largeDataIndices,s=[],l=[],h=t.barWidth,u=0,c=r.length/3;u<c;u++){var d=3*u;if(l[n]=h,l[o]=r[d+2],s[n]=r[d+n],s[o]=r[d+o],l[o]<0&&(s[o]+=l[o],l[o]=-l[o]),e>=s[0]&&e<=s[0]+l[0]&&i>=s[1]&&i<=s[1]+l[1])return a[u]}return-1}function Yr(t,e,i){if(Mo(i,"cartesian2d")){var n=e,o=i.getArea();return{x:t?n.x:o.x,y:t?o.y:n.y,width:t?n.width:o.width,height:t?o.height:n.height}}o=i.getArea();var r=e;return{cx:o.cx,cy:o.cy,r0:t?o.r0:r.r0,r:t?o.r:r.r,startAngle:t?r.startAngle:0,endAngle:t?r.endAngle:2*Math.PI}}function $r(t,e,i){var n="polar"===t.type?xo.A:vo.A;return new n({shape:Yr(e,i,t),silent:!0,z2:0})}var Ur=Cr;function Zr(t){t.registerChartView(Ur),t.registerSeriesModel(gr),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,u.cF(rr,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ar("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Uo("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}var qr=i(6884),Kr=i(4253),Jr=2*Math.PI,Qr=Math.PI/180;function ta(t,e){return Kr.dV(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ea(t,e){var i=ta(t,e),n=t.get("center"),o=t.get("radius");u.cy(o)||(o=[0,o]);var r,a,s=(0,_.lo)(i.width,e.getWidth()),l=(0,_.lo)(i.height,e.getHeight()),h=Math.min(s,l),c=(0,_.lo)(o[0],h/2),d=(0,_.lo)(o[1],h/2),p=t.coordinateSystem;if(p){var g=p.dataToPoint(n);r=g[0]||0,a=g[1]||0}else u.cy(n)||(n=[n,n]),r=(0,_.lo)(n[0],s)+i.x,a=(0,_.lo)(n[1],l)+i.y;return{cx:r,cy:a,r0:c,r:d}}function ia(t,e,i){e.eachSeriesByType(t,(function(t){var e=t.getData(),n=e.mapDimension("value"),o=ta(t,i),r=ea(t,i),a=r.cx,s=r.cy,l=r.r,h=r.r0,u=-t.get("startAngle")*Qr,c=t.get("endAngle"),d=t.get("padAngle")*Qr;c="auto"===c?u-Jr:-c*Qr;var p=t.get("minAngle")*Qr,g=p+d,f=0;e.each(n,(function(t){!isNaN(t)&&f++}));var m=e.getSum(n),y=Math.PI/(m||f)*2,v=t.get("clockwise"),x=t.get("roseType"),b=t.get("stillShowZeroSum"),w=e.getDataExtent(n);w[0]=0;var M=v?1:-1,S=[u,c],A=M*d/2;(0,I.q)(S,!v),u=S[0],c=S[1];var C=na(t);C.startAngle=u,C.endAngle=c,C.clockwise=v;var T=Math.abs(c-u),D=T,L=0,k=u;if(e.setLayout({viewRect:o,r:l}),e.each(n,(function(t,i){var n;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:a,cy:s,r0:h,r:x?NaN:l});else{n="area"!==x?0===m&&b?y:t*y:T/f,n<g?(n=g,D-=g):L+=t;var o=k+M*n,r=0,u=0;d>n?(r=k+M*n/2,u=r):(r=k+A,u=o-A),e.setItemLayout(i,{angle:n,startAngle:r,endAngle:u,clockwise:v,cx:a,cy:s,r0:h,r:x?(0,_.Cb)(t,w,[h,l]):l}),k=o}})),D<Jr&&f)if(D<=.001){var P=T/f;e.each(n,(function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=P;var o=0,r=0;P<d?(o=u+M*(i+.5)*P,r=o):(o=u+M*i*P+A,r=u+M*(i+1)*P-A),n.startAngle=o,n.endAngle=r}}))}else y=D/L,k=u,e.each(n,(function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),o=n.angle===g?g:t*y,r=0,a=0;o<d?(r=k+M*o/2,a=r):(r=k+A,a=k+M*o-A),n.startAngle=r,n.endAngle=a,k+=M*o}}))}))}var na=(0,m.$r)();function oa(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var n=t.getData();n.filterSelf((function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0}))}}}}var ra=Math.PI/180;function aa(t,e,i,n,o,r,a,s,l,h){if(!(t.length<2)){for(var u=t.length,c=0;c<u;c++)if("outer"===t[c].position&&"labelLine"===t[c].labelAlignTo){var d=t[c].label.x-h;t[c].linePoints[1][0]+=d,t[c].label.x=h}rt(t,l,l+a)&&g(t)}function p(t){for(var r=t.rB,a=r*r,s=0;s<t.list.length;s++){var l=t.list[s],h=Math.abs(l.label.y-i),u=n+l.len,c=u*u,d=Math.sqrt((1-Math.abs(h*h/a))*c),p=e+(d+l.len2)*o,g=p-l.label.x,f=l.targetTextWidth-g*o;la(l,f,!0),l.label.x=p}}function g(t){for(var r={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var l=t[s],h=l.label.y>i?a:r,u=Math.abs(l.label.y-i);if(u>=h.maxY){var c=l.label.x-e-l.len2*o,d=n+l.len,g=Math.abs(c)<d?Math.sqrt(u*u/(1-c*c/d/d)):d;h.rB=g,h.maxY=u}h.list.push(l)}p(r),p(a)}}function sa(t,e,i,n,o,r,a,s){for(var l=[],h=[],u=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0;d<t.length;d++){var p=t[d].label;ha(t[d])||(p.x<e?(u=Math.min(u,p.x),l.push(t[d])):(c=Math.max(c,p.x),h.push(t[d])))}for(d=0;d<t.length;d++){var g=t[d];if(!ha(g)&&g.linePoints){if(null!=g.labelStyleWidth)continue;p=g.label;var f=g.linePoints,m=void 0;m="edge"===g.labelAlignTo?p.x<e?f[2][0]-g.labelDistance-a-g.edgeDistance:a+o-g.edgeDistance-f[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?p.x<e?u-a-g.bleedMargin:a+o-c-g.bleedMargin:p.x<e?p.x-a-g.bleedMargin:a+o-p.x-g.bleedMargin,g.targetTextWidth=m,la(g,m)}}aa(h,e,i,n,1,o,r,a,s,c),aa(l,e,i,n,-1,o,r,a,s,u);for(d=0;d<t.length;d++){g=t[d];if(!ha(g)&&g.linePoints){p=g.label,f=g.linePoints;var y="edge"===g.labelAlignTo,v=p.style.padding,x=v?v[1]+v[3]:0,_=p.style.backgroundColor?0:x,b=g.rect.width+_,w=f[1][0]-f[2][0];y?p.x<e?f[2][0]=a+g.edgeDistance+b+g.labelDistance:f[2][0]=a+o-g.edgeDistance-b-g.labelDistance:(p.x<e?f[2][0]=p.x+g.labelDistance:f[2][0]=p.x-g.labelDistance,f[1][0]=f[2][0]+w),f[1][1]=f[2][1]=p.y}}}function la(t,e,i){if(void 0===i&&(i=!1),null==t.labelStyleWidth){var n=t.label,o=n.style,r=t.rect,a=o.backgroundColor,s=o.padding,l=s?s[1]+s[3]:0,h=o.overflow,u=r.width+(a?0:l);if(e<u||i){var c=r.height;if(h&&h.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var d=n.getBoundingRect();n.setStyle("width",Math.ceil(d.width)),n.setStyle("backgroundColor",a)}else{var p=e-l,g=e<u?p:i?p>t.unconstrainedWidth?null:p:null;n.setStyle("width",g)}var f=n.getBoundingRect();r.width=f.width;var m=(n.style.margin||0)+2.1;r.height=f.height+m,r.y-=(r.height-c)/2}}}function ha(t){return"center"===t.position}function ua(t){var e,i,n=t.getData(),o=[],r=!1,a=(t.get("minShowLabelAngle")||0)*ra,s=n.getLayout("viewRect"),l=n.getLayout("r"),h=s.width,c=s.x,d=s.y,p=s.height;function g(t){t.ignore=!0}function f(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}n.each((function(t){var s=n.getItemGraphicEl(t),d=s.shape,p=s.getTextContent(),m=s.getTextGuideLine(),y=n.getItemModel(t),v=y.getModel("label"),x=v.get("position")||y.get(["emphasis","label","position"]),b=v.get("distanceToLabelLine"),M=v.get("alignTo"),S=(0,_.lo)(v.get("edgeDistance"),h),I=v.get("bleedMargin"),A=y.getModel("labelLine"),C=A.get("length");C=(0,_.lo)(C,h);var T=A.get("length2");if(T=(0,_.lo)(T,h),Math.abs(d.endAngle-d.startAngle)<a)return(0,u.__)(p.states,g),p.ignore=!0,void(m&&((0,u.__)(m.states,g),m.ignore=!0));if(f(p)){var D,L,k,P,O=(d.startAngle+d.endAngle)/2,N=Math.cos(O),R=Math.sin(O);e=d.cx,i=d.cy;var E="inside"===x||"inner"===x;if("center"===x)D=d.cx,L=d.cy,P="center";else{var z=(E?(d.r+d.r0)/2*N:d.r*N)+e,V=(E?(d.r+d.r0)/2*R:d.r*R)+i;if(D=z+3*N,L=V+3*R,!E){var B=z+N*(C+l-d.r),F=V+R*(C+l-d.r),W=B+(N<0?-1:1)*T,G=F;D="edge"===M?N<0?c+S:c+h-S:W+(N<0?-b:b),L=G,k=[[z,V],[B,F],[W,G]]}P=E?"center":"edge"===M?N>0?"right":"left":N>0?"left":"right"}var H=Math.PI,X=0,j=v.get("rotate");if((0,u.Et)(j))X=j*(H/180);else if("center"===x)X=0;else if("radial"===j||!0===j){var Y=N<0?-O+H:-O;X=Y}else if("tangential"===j&&"outside"!==x&&"outer"!==x){var $=Math.atan2(N,R);$<0&&($=2*H+$);var U=R>0;U&&($=H+$),X=$-H}if(r=!!X,p.x=D,p.y=L,p.rotation=X,p.setStyle({verticalAlign:"middle"}),E){p.setStyle({align:P});var Z=p.states.select;Z&&(Z.x+=p.x,Z.y+=p.y)}else{var q=p.getBoundingRect().clone();q.applyTransform(p.getComputedTransform());var K=(p.style.margin||0)+2.1;q.y-=K/2,q.height+=K,o.push({label:p,labelLine:m,position:x,len:C,len2:T,minTurnAngle:A.get("minTurnAngle"),maxSurfaceAngle:A.get("maxSurfaceAngle"),surfaceNormal:new w.A(N,R),linePoints:k,textAlign:P,labelDistance:b,labelAlignTo:M,edgeDistance:S,bleedMargin:I,rect:q,unconstrainedWidth:q.width,labelStyleWidth:p.style.width})}s.setTextConfig({inside:E})}})),!r&&t.get("avoidLabelOverlap")&&sa(o,e,i,l,h,p,c,d);for(var m=0;m<o.length;m++){var y=o[m],v=y.label,x=y.labelLine,b=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:y.textAlign}),b&&((0,u.__)(v.states,g),v.ignore=!0);var M=v.states.select;M&&(M.x+=v.x,M.y+=v.y)}if(x){var S=y.linePoints;b||!S?((0,u.__)(x.states,g),x.ignore=!0):(Z(S,y.minTurnAngle),q(S,y.surfaceNormal,y.maxSurfaceAngle),x.setShape({points:S}),v.__hostTarget.textGuideLineConfig={anchor:new w.A(S[0][0],S[0][1])})}}}var ca=function(t){function e(e,i,n){var o=t.call(this)||this;o.z2=2;var r=new Ne.Ay;return o.setTextContent(r),o.updateData(e,i,n,!0),o}return(0,Pi.C6)(e,t),e.prototype.updateData=function(t,e,i,n){var o=this,r=t.hostModel,a=t.getItemModel(e),s=a.getModel("emphasis"),l=t.getItemLayout(e),h=(0,u.X$)(Mr(a.getModel("itemStyle"),l,!0),l);if(isNaN(h.startAngle))o.setShape(h);else{if(n){o.setShape(h);var c=r.getShallow("animationType");r.ecModel.ssr?(v.LW(o,{scaleX:0,scaleY:0},r,{dataIndex:e,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):"scale"===c?(o.shape.r=l.r0,v.LW(o,{shape:{r:l.r}},r,e)):null!=i?(o.setShape({startAngle:i,endAngle:i}),v.LW(o,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},r,e)):(o.shape.endAngle=l.startAngle,v.oi(o,{shape:{endAngle:l.endAngle}},r,e))}else(0,v.ap)(o),v.oi(o,{shape:h},r,e);o.useStyle(t.getItemVisual(e,"style")),(0,L.Mx)(o,a);var d=(l.startAngle+l.endAngle)/2,p=r.get("selectedOffset"),g=Math.cos(d)*p,f=Math.sin(d)*p,m=a.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(r,t,e),o.ensureState("emphasis").shape=(0,u.X$)({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},Mr(s.getModel("itemStyle"),l)),(0,u.X$)(o.ensureState("select"),{x:g,y:f,shape:Mr(a.getModel(["select","itemStyle"]),l)}),(0,u.X$)(o.ensureState("blur"),{shape:Mr(a.getModel(["blur","itemStyle"]),l)});var y=o.getTextGuideLine(),x=o.getTextContent();y&&(0,u.X$)(y.ensureState("select"),{x:g,y:f}),(0,u.X$)(x.ensureState("select"),{x:g,y:f}),(0,L.Lm)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},e.prototype._updateLabel=function(t,e,i){var n=this,o=e.getItemModel(i),r=o.getModel("labelLine"),a=e.getItemVisual(i,"style"),s=a&&a.fill,l=a&&a.opacity;(0,st.qM)(n,(0,st.lx)(o),{labelFetcher:e.hostModel,labelDataIndex:i,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(i,"normal")||e.getName(i)});var h=n.getTextContent();n.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var c=t.get(["label","position"]);if("outside"!==c&&"outer"!==c)n.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new S.A,this.setTextGuideLine(d)),Q(this,tt(o),{stroke:s,opacity:(0,u.WV)(r.get(["lineStyle","opacity"]),l,1)})}},e}(xo.A),da=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){var o,r=t.getData(),a=this._data,s=this.group;if(!a&&r.count()>0){for(var l=r.getItemLayout(0),h=1;isNaN(l&&l.startAngle)&&h<r.count();++h)l=r.getItemLayout(h);l&&(o=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===r.count()&&t.get("showEmptyCircle")){var c=na(t),d=new xo.A({shape:(0,u.X$)(ea(t,i),c)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,s.add(d)}r.diff(a).add((function(t){var e=new ca(r,t,o);r.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var i=a.getItemGraphicEl(e);i.updateData(r,t,o),i.off("click"),s.add(i),r.setItemGraphicEl(t,i)})).remove((function(e){var i=a.getItemGraphicEl(e);v.t5(i,t,e)})).execute(),ua(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=r)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var i=e.getData(),n=i.getItemLayout(0);if(n){var o=t[0]-n.cx,r=t[1]-n.cy,a=Math.sqrt(o*o+r*r);return a<=n.r&&a>=n.r0}},e.type="pie",e}(s.A),pa=da;function ga(t,e,i){e=(0,u.cy)(e)&&{coordDimensions:e}||(0,u.X$)({encodeDefine:t.getEncode()},e);var n=t.getSource(),o=_n(n,e).dimensions,r=new vn(o,t);return r.initData(n,i),r}var fa=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},t.prototype.getItemVisual=function(t,e){var i=this._getDataWithEncodedVisual();return i.getItemVisual(t,e)},t}(),ma=fa,ya=m.$r(),va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new ma(u.oI(this.getData,this),u.oI(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return ga(this,{coordDimensions:["value"],encodeDefaulter:u.cF(xn.ln,this)})},e.prototype.getDataParams=function(e){var i=this.getData(),n=ya(i),o=n.seats;if(!o){var r=[];i.each(i.mapDimension("value"),(function(t){r.push(t)})),o=n.seats=(0,_.kM)(r,i.hostModel.get("percentPrecision"))}var a=t.prototype.getDataParams.call(this,e);return a.percent=o[e]||0,a.$vars.push("percent"),a},e.prototype._defaultLabelLine=function(t){m.M5(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(h.A),xa=va;function _a(t){return{seriesType:t,reset:function(t,e){var i=t.getData();i.filterSelf((function(t){var e=i.mapDimension("value"),n=i.get(e,t);return!((0,u.Et)(n)&&!isNaN(n)&&n<0)}))}}}function ba(t){t.registerChartView(pa),t.registerSeriesModel(xa),(0,qr.I)("pie",t.registerAction),t.registerLayout((0,u.cF)(ia,"pie")),t.registerProcessor(oa("pie")),t.registerProcessor(_a("pie"))}var wa=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){return Vn(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,i){return i.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(h.A),Ma=wa,Sa=4,Ia=function(){function t(){}return t}(),Aa=function(t){function e(e){var i=t.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new Ia},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var i,n=e.points,o=e.size,r=this.symbolProxy,a=r.shape,s=t.getContext?t.getContext():t,l=s&&o[0]<Sa,h=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,i=this._off;i<n.length;){var u=n[i++],c=n[i++];isNaN(u)||isNaN(c)||(h&&!h.contain(u,c)||(a.x=u-o[0]/2,a.y=c-o[1]/2,a.width=o[0],a.height=o[1],r.buildPath(t,a,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,i=e.points,n=e.size,o=this._ctx,r=this.softClipShape;if(o){for(t=this._off;t<i.length;){var a=i[t++],s=i[t++];isNaN(a)||isNaN(s)||(r&&!r.contain(a,s)||o.fillRect(a-n[0]/2,s-n[1]/2,n[0],n[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var i=this.shape,n=i.points,o=i.size,r=Math.max(o[0],4),a=Math.max(o[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,h=n[l]-r/2,u=n[l+1]-a/2;if(t>=h&&e>=u&&t<=h+r&&e<=u+a)return s}return-1},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();if(t=i[0],e=i[1],n.contain(t,e)){var o=this.hoverDataIdx=this.findDataIndex(t,e);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,i=e.points,n=e.size,o=n[0],r=n[1],a=1/0,s=1/0,l=-1/0,h=-1/0,u=0;u<i.length;){var c=i[u++],d=i[u++];a=Math.min(c,a),l=Math.max(c,l),s=Math.min(d,s),h=Math.max(d,h)}t=this._rect=new y.A(a-o/2,s-r/2,l-a+o,h-s+r)}return t},e}(M.Ay),Ca=function(){function t(){this.group=new Fn.A}return t.prototype.updateData=function(t,e){this._clear();var i=this._create();i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,i){var n=this._newAdded[0],o=e.getLayout("points"),r=n&&n.shape.points;if(r&&r.length<2e4){var a=r.length,s=new Float32Array(a+o.length);s.set(r),s.set(o,a),n.endIndex=t.end,n.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:o}),this._setCommon(l,e,i)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new Aa({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,i){var n=e.hostModel;i=i||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=i.clipShape||null,t.symbolProxy=(0,Bn.v5)(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var r=t.shape.size[0]<Sa;t.useStyle(n.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("style"),s=a&&a.fill;s&&t.setColor(s);var l=(0,x.z)(t);l.seriesIndex=n.seriesIndex,t.on("mousemove",(function(e){l.dataIndex=null;var i=t.hoverDataIdx;i>=0&&(l.dataIndex=i+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),Ta=Ca,Da=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this._updateSymbolDraw(n,t);o.updateData(n,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,i){var n=t.getData(),o=this._updateSymbolDraw(n,t);o.incrementalPrepareUpdate(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4)return{update:!0};var o=jo("").reset(t,e,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var e=t.coordinateSystem;return e&&e.getArea&&e.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,e){var i=this._symbolDraw,n=e.pipelineContext,o=n.large;return i&&o===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=o?new Ta:new Qn,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(s.A),La=Da,ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(l.A),Pa=ka,Oa=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}(),Na=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",m.US).models[0]},e.type="cartesian2dAxis",e}(l.A);u.co(Na,Oa);var Ra={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ea=u.h1({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ra),za=u.h1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ra),Va=u.h1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},za),Ba=u.NT({logBase:10},za),Fa={category:Ea,value:za,time:Va,log:Ba},Wa=0,Ga=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Wa}return t.createByAxisModel=function(e){var i=e.option,n=i.data,o=n&&(0,u.Tj)(n,Ha);return new t({categories:o,needCollect:!o,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if(!(0,u.Kg)(t)&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=this._getOrCreateMap();return e=n.get(t),null==e&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,u.nt)(this.categories))},t}();function Ha(t){return(0,u.Gv)(t)&&null!=t.value?t.value:t+""}var Xa=Ga,ja={value:1,category:1,time:1,log:1};function Ya(t,e,i,n){(0,u.__)(ja,(function(o,r){var a=(0,u.h1)((0,u.h1)({},Fa[r],!0),n,!0),s=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e+"Axis."+r,i}return(0,Pi.C6)(i,t),i.prototype.mergeDefaultAndTheme=function(t,e){var i=(0,Kr.ad)(this),n=i?(0,Kr.vs)(t):{},o=e.getTheme();(0,u.h1)(t,o.get(r+"Axis")),(0,u.h1)(t,this.getDefaultOption()),t.type=$a(t),i&&(0,Kr.YA)(t,n,i)},i.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=Xa.createByAxisModel(this))},i.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=e+"Axis."+r,i.defaultOption=a,i}(i);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",$a)}function $a(t){return t.type||(t.data?"category":"value")}var Ua=i(693),Za=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();Ua.tQ(Za);var qa=Za;function Ka(t){return"interval"===t.type||"log"===t.type}function Ja(t,e,i,n){var o={},r=t[1]-t[0],a=o.interval=(0,_.Cm)(r/e,!0);null!=i&&a<i&&(a=o.interval=i),null!=n&&a>n&&(a=o.interval=n);var s=o.intervalPrecision=ts(a),l=o.niceTickExtent=[(0,_.LI)(Math.ceil(t[0]/a)*a,s),(0,_.LI)(Math.floor(t[1]/a)*a,s)];return is(l,t),o}function Qa(t){var e=Math.pow(10,(0,_.NX)(t)),i=t/e;return i?2===i?i=3:3===i?i=5:i*=2:i=1,(0,_.LI)(i*e)}function ts(t){return(0,_.XV)(t)+2}function es(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function is(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),es(t,0,e),es(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function ns(t,e){return t>=e[0]&&t<=e[1]}function os(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function rs(t,e){return t*(e[1]-e[0])+e[0]}var as=function(t){function e(e){var i=t.call(this,e)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new Xa({})),(0,u.cy)(n)&&(n=new Xa({categories:(0,u.Tj)(n,(function(t){return(0,u.Gv)(t)?t.value:t}))})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return(0,Pi.C6)(e,t),e.prototype.parse=function(t){return null==t?NaN:(0,u.Kg)(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),ns(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),os(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(rs(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,i=e[0];while(i<=e[1])t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,r=this._ordinalMeta.categories.length,a=Math.min(r,e.length);o<a;++o){var s=e[o];i[o]=s,n[s]=o}for(var l=0;o<r;++o){while(null!=n[l])l++;i.push(l),n[l]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[e];return null==i?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(qa);qa.registerClass(as);var ss=as,ls=_.LI,hs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return(0,Pi.C6)(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return ns(t,this._extent)},e.prototype.normalize=function(t){return os(t,this._extent)},e.prototype.scale=function(t){return rs(t,this._extent)},e.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=ts(t)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,r=[];if(!e)return r;var a=1e4;i[0]<n[0]&&(t?r.push({value:ls(n[0]-e,o)}):r.push({value:i[0]}));var s=n[0];while(s<=n[1]){if(r.push({value:s}),s=ls(s+e,o),s===r[r.length-1].value)break;if(r.length>a)return[]}var l=r.length?r[r.length-1].value:n[1];return i[1]>l&&(t?r.push({value:ls(l+e,o)}):r.push({value:i[1]})),r},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),o=1;o<e.length;o++){var r=e[o],a=e[o-1],s=0,l=[],h=r.value-a.value,u=h/t;while(s<t-1){var c=ls(a.value+(s+1)*u);c>n[0]&&c<n[1]&&l.push(c),s++}i.push(l)}return i},e.prototype.getLabel=function(t,e){if(null==t)return"";var i=e&&e.precision;null==i?i=_.XV(t.value)||0:"auto"===i&&(i=this._intervalPrecision);var n=ls(t.value,i,!0);return So.ob(n)},e.prototype.calcNiceTicks=function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var r=Ja(n,t,e,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=Math.abs(e[0]);t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=ls(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=ls(Math.ceil(e[1]/o)*o))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(qa);qa.registerClass(hs);var us=hs,cs=i(5854),ds=function(t,e,i,n){while(i<n){var o=i+n>>>1;t[o][1]<e?i=o+1:n=o}return i},ps=function(t){function e(e){var i=t.call(this,e)||this;return i.type="time",i}return(0,Pi.C6)(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return(0,cs.GP)(t.value,cs.Lm[(0,cs.$9)((0,cs.ym)(this._minLevelUnit))]||cs.Lm.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,i){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return(0,cs.X_)(t,e,i,o,n)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,i=[];if(!t)return i;i.push({value:e[0],level:0});var n=this.getSetting("useUTC"),o=ws(this._minLevelUnit,this._approxInterval,n,e);return i=i.concat(o),i.push({value:e[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=cs.CZ,e[1]+=cs.CZ),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-cs.CZ}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0];this._approxInterval=o/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var r=gs.length,a=Math.min(ds(gs,this._approxInterval,0,r),r-1);this._interval=gs[a][1],this._minLevelUnit=gs[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return(0,u.Et)(t)?t:+_._U(t)},e.prototype.contain=function(t){return ns(this.parse(t),this._extent)},e.prototype.normalize=function(t){return os(this.parse(t),this._extent)},e.prototype.scale=function(t){return rs(t,this._extent)},e.type="time",e}(us),gs=[["second",cs.OY],["minute",cs.iW],["hour",cs.MA],["quarter-day",6*cs.MA],["half-day",12*cs.MA],["day",1.2*cs.CZ],["half-week",3.5*cs.CZ],["week",7*cs.CZ],["month",31*cs.CZ],["quarter",95*cs.CZ],["half-year",cs.$H/2],["year",cs.$H]];function fs(t,e,i,n){var o=_._U(e),r=_._U(i),a=function(t){return(0,cs.g0)(o,t,n)===(0,cs.g0)(r,t,n)},s=function(){return a("year")},l=function(){return s()&&a("month")},h=function(){return l()&&a("day")},u=function(){return h()&&a("hour")},c=function(){return u()&&a("minute")},d=function(){return c()&&a("second")},p=function(){return d()&&a("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return h();case"hour":return u();case"minute":return c();case"second":return d();case"millisecond":return p()}}function ms(t,e){return t/=cs.CZ,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function ys(t){var e=30*cs.CZ;return t/=e,t>6?6:t>3?3:t>2?2:1}function vs(t){return t/=cs.MA,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function xs(t,e){return t/=e?cs.iW:cs.OY,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function _s(t){return _.Cm(t,!0)}function bs(t,e,i){var n=new Date(t);switch((0,cs.ym)(e)){case"year":case"month":n[(0,cs.xu)(i)](0);case"day":n[(0,cs.ti)(i)](1);case"hour":n[(0,cs.Yd)(i)](0);case"minute":n[(0,cs.KF)(i)](0);case"second":n[(0,cs.ww)(i)](0),n[(0,cs.FP)(i)](0)}return n.getTime()}function ws(t,e,i,n){var o=1e4,r=cs.F7,a=0;function s(t,e,i,o,r,a,s){var l=new Date(e),h=e,u=l[o]();while(h<i&&h<=n[1])s.push({value:h}),u+=t,l[r](u),h=l.getTime();s.push({value:h,notAdd:!0})}function l(t,o,r){var a=[],l=!o.length;if(!fs((0,cs.ym)(t),n[0],n[1],i)){l&&(o=[{value:bs(new Date(n[0]),t,i)},{value:n[1]}]);for(var h=0;h<o.length-1;h++){var u=o[h].value,c=o[h+1].value;if(u!==c){var d=void 0,p=void 0,g=void 0,f=!1;switch(t){case"year":d=Math.max(1,Math.round(e/cs.CZ/365)),p=(0,cs.hY)(i),g=(0,cs.tM)(i);break;case"half-year":case"quarter":case"month":d=ys(e),p=(0,cs.jJ)(i),g=(0,cs.xu)(i);break;case"week":case"half-week":case"day":d=ms(e,31),p=(0,cs.bP)(i),g=(0,cs.ti)(i),f=!0;break;case"half-day":case"quarter-day":case"hour":d=vs(e),p=(0,cs.iC)(i),g=(0,cs.Yd)(i);break;case"minute":d=xs(e,!0),p=(0,cs.yB)(i),g=(0,cs.KF)(i);break;case"second":d=xs(e,!1),p=(0,cs.Wf)(i),g=(0,cs.ww)(i);break;case"millisecond":d=_s(e),p=(0,cs.Zz)(i),g=(0,cs.FP)(i);break}s(d,u,c,p,g,f,a),"year"===t&&r.length>1&&0===h&&r.unshift({value:r[0].value-d})}}for(h=0;h<a.length;h++)r.push(a[h]);return a}}for(var h=[],c=[],d=0,p=0,g=0;g<r.length&&a++<o;++g){var f=(0,cs.ym)(r[g]);if((0,cs.ce)(r[g])){l(r[g],h[h.length-1]||[],c);var m=r[g+1]?(0,cs.ym)(r[g+1]):null;if(f!==m){if(c.length){p=d,c.sort((function(t,e){return t.value-e.value}));for(var y=[],v=0;v<c.length;++v){var x=c[v].value;0!==v&&c[v-1].value===x||(y.push(c[v]),x>=n[0]&&x<=n[1]&&d++)}var _=(n[1]-n[0])/e;if(d>1.5*_&&p>_/1.5)break;if(h.push(y),d>_||t===r[g])break}c=[]}}}var b=(0,u.pb)((0,u.Tj)(h,(function(t){return(0,u.pb)(t,(function(t){return t.value>=n[0]&&t.value<=n[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],M=b.length-1;for(g=0;g<b.length;++g)for(var S=b[g],I=0;I<S.length;++I)w.push({value:S[I].value,level:M-g});w.sort((function(t,e){return t.value-e.value}));var A=[];for(g=0;g<w.length;++g)0!==g&&w[g].value===w[g-1].value||A.push(w[g]);return A}qa.registerClass(ps);var Ms=ps,Ss=qa.prototype,Is=us.prototype,As=_.LI,Cs=Math.floor,Ts=Math.ceil,Ds=Math.pow,Ls=Math.log,ks=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new us,e._interval=0,e}return(0,Pi.C6)(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,i=this._extent,n=e.getExtent(),o=Is.getTicks.call(this,t);return u.Tj(o,(function(t){var e=t.value,o=_.LI(Ds(this.base,e));return o=e===i[0]&&this._fixMin?Os(o,n[0]):o,o=e===i[1]&&this._fixMax?Os(o,n[1]):o,{value:o}}),this)},e.prototype.setExtent=function(t,e){var i=Ls(this.base);t=Ls(Math.max(0,t))/i,e=Ls(Math.max(0,e))/i,Is.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Ss.getExtent.call(this);e[0]=Ds(t,e[0]),e[1]=Ds(t,e[1]);var i=this._originalScale,n=i.getExtent();return this._fixMin&&(e[0]=Os(e[0],n[0])),this._fixMax&&(e[1]=Os(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Ls(t[0])/Ls(e),t[1]=Ls(t[1])/Ls(e),Ss.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=_.au(i),o=t/i*n;o<=.5&&(n*=10);while(!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0)n*=10;var r=[_.LI(Ts(e[0]/n)*n),_.LI(Cs(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},e.prototype.calcNiceExtent=function(t){Is.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=Ls(t)/Ls(this.base),ns(t,this._extent)},e.prototype.normalize=function(t){return t=Ls(t)/Ls(this.base),os(t,this._extent)},e.prototype.scale=function(t){return t=rs(t,this._extent),Ds(this.base,t)},e.type="log",e}(qa),Ps=ks.prototype;function Os(t,e){return As(t,_.XV(e))}Ps.getMinorTicks=Is.getMinorTicks,Ps.getLabel=Is.getLabel,qa.registerClass(ks);var Ns=ks,Rs=function(){function t(t,e,i){this._prepareParams(t,e,i)}return t.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=e.get("min",!0);null==o&&(o=e.get("startValue",!0));var r=this._modelMinRaw=o;(0,u.Tn)(r)?this._modelMinNum=Bs(t,r({min:i[0],max:i[1]})):"dataMin"!==r&&(this._modelMinNum=Bs(t,r));var a=this._modelMaxRaw=e.get("max",!0);if((0,u.Tn)(a)?this._modelMaxNum=Bs(t,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=Bs(t,a)),n)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=(0,u.cy)(s)?s:[s||0,s||0];"boolean"===typeof l[0]||"boolean"===typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,Ht.lo)(l[0],1),(0,Ht.lo)(l[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,n=this._axisDataLen,o=this._boundaryGapInner,r=t?null:i-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,l=null!=a,h=null!=s;null==a&&(a=t?n?0:NaN:e-o[0]*r),null==s&&(s=t?n?n-1:NaN:i+o[1]*r),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var c=(0,u.Yp)(a)||(0,u.Yp)(s)||t&&!n;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!h&&(s=0));var d=this._determinedMin,p=this._determinedMax;return null!=d&&(a=d,l=!0),null!=p&&(s=p,h=!0),{min:a,max:s,minFixed:l,maxFixed:h,isBlank:c}},t.prototype.modifyDataMinMax=function(t,e){this[zs[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var i=Es[t];this[i]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),Es={min:"_determinedMin",max:"_determinedMax"},zs={min:"_dataMin",max:"_dataMax"};function Vs(t,e,i){var n=t.rawExtentInfo;return n||(n=new Rs(t,e,i),t.rawExtentInfo=n,n)}function Bs(t,e){return null==e?null:(0,u.Yp)(e)?NaN:t.parse(e)}function Fs(t,e){var i=t.type,n=Vs(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var o=n.min,r=n.max,a=e.ecModel;if(a&&"time"===i){var s=tr("bar",a),l=!1;if(u.__(s,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var h=ir(s),c=Ws(o,r,e,h);o=c.min,r=c.max}}return{extent:[o,r],fixMin:n.minFixed,fixMax:n.maxFixed}}function Ws(t,e,i,n){var o=i.axis.getExtent(),r=o[1]-o[0],a=or(n,i.axis);if(void 0===a)return{min:t,max:e};var s=1/0;u.__(a,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;u.__(a,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var h=s+l,c=e-t,d=1-(s+l)/r,p=c/d-c;return e+=p*(l/h),t-=p*(s/h),{min:t,max:e}}function Gs(t,e){var i=e,n=Fs(t,i),o=n.extent,r=i.get("splitNumber");t instanceof Ns&&(t.base=i.get("logBase"));var a=t.type,s=i.get("interval"),l="interval"===a||"time"===a;t.setExtent(o[0],o[1]),t.calcNiceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?i.get("minInterval"):null,maxInterval:l?i.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function Hs(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new ss({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Ms({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(qa.getClass(e)||us)}}function Xs(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)}function js(t){var e=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(i,n){return t.scale.getFormattedLabel(i,n,e)}}(e):u.Kg(e)?function(e){return function(i){var n=t.scale.getLabel(i),o=e.replace("{value}",null!=n?n:"");return o}}(e):u.Tn(e)?function(e){return function(n,o){return null!=i&&(o=n.value-i),e(Ys(t,n),o,null!=n.level?{level:n.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function Ys(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function $s(t){var e=t.model,i=t.scale;if(e.get(["axisLabel","show"])&&!i.isBlank()){var n,o,r=i.getExtent();i instanceof ss?o=i.count():(n=i.getTicks(),o=n.length);var a,s=t.getLabelModel(),l=js(t),h=1;o>40&&(h=Math.ceil(o/40));for(var u=0;u<o;u+=h){var c=n?n[u]:{value:r[0]+u},d=l(c,u),p=s.getTextRect(d),g=Us(p,s.get("rotate")||0);a?a.union(g):a=g}return a}}function Us(t,e){var i=e*Math.PI/180,n=t.width,o=t.height,r=n*Math.abs(Math.cos(i))+Math.abs(o*Math.sin(i)),a=n*Math.abs(Math.sin(i))+Math.abs(o*Math.cos(i)),s=new y.A(t.x,t.y,r,a);return s}function Zs(t){var e=t.get("interval");return null==e?"auto":e}function qs(t){return"category"===t.type&&0===Zs(t.getLabelModel())}function Ks(t,e){var i={};return u.__(t.mapDimensionsAll(e),(function(e){i[Pn(t,e)]=!0})),u.HP(i)}function Js(t,e,i){e&&u.__(Ks(e,i),(function(i){var n=e.getApproximateExtent(i);n[0]<t[0]&&(t[0]=n[0]),n[1]>t[1]&&(t[1]=n[1])}))}var Qs=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return u.Tj(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),u.pb(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),tl=Qs,el=["x","y"];function il(t){return"interval"===t.type||"time"===t.type}var nl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=el,e}return(0,Pi.C6)(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(il(t)&&il(e)){var i=t.getExtent(),n=e.getExtent(),o=this.dataToPoint([i[0],n[0]]),r=this.dataToPoint([i[1],n[1]]),a=i[1]-i[0],s=n[1]-n[0];if(a&&s){var l=(r[0]-o[0])/a,h=(r[1]-o[1])/s,u=o[0]-i[0]*l,c=o[1]-n[0]*h,d=this._transform=[l,0,0,h,u,c];this._invTransform=(0,T.B8)([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var i=this.dataToPoint(t),n=this.dataToPoint(e),o=this.getArea(),r=new y.A(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(r)},e.prototype.dataToPoint=function(t,e,i){i=i||[];var n=t[0],o=t[1];if(this._transform&&null!=n&&isFinite(n)&&null!=o&&isFinite(o))return(0,D.NW)(i,t,this._transform);var r=this.getAxis("x"),a=this.getAxis("y");return i[0]=r.toGlobalCoord(r.dataToCoord(n,e)),i[1]=a.toGlobalCoord(a.dataToCoord(o,e)),i},e.prototype.clampData=function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),r=n.getExtent(),a=i.parse(t[0]),s=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},e.prototype.pointToData=function(t,e){var i=[];if(this._invTransform)return(0,D.NW)(i,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),e),i[1]=o.coordToData(o.toLocalCoord(t[1]),e),i},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1])-t,o=Math.min(i[0],i[1])-t,r=Math.max(e[0],e[1])-n+t,a=Math.max(i[0],i[1])-o+t;return new y.A(n,o,r,a)},e}(tl),ol=nl,rl=(0,m.$r)();function al(t,e){var i=u.Tj(e,(function(e){return t.scale.parse(e)}));return"time"===t.type&&i.length>0&&(i.sort(),i.unshift(i[0]),i.push(i[i.length-1])),i}function sl(t){var e=t.getLabelModel().get("customValues");if(e){var i=js(t);return{labels:al(t,e).map((function(e){var n={value:e};return{formattedLabel:i(n),rawLabel:t.scale.getLabel(n),tickValue:e}}))}}return"category"===t.type?hl(t):dl(t)}function ll(t,e){var i=t.getTickModel().get("customValues");return i?{ticks:al(t,i)}:"category"===t.type?cl(t,e):{ticks:u.Tj(t.scale.getTicks(),(function(t){return t.value}))}}function hl(t){var e=t.getLabelModel(),i=ul(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function ul(t,e){var i,n,o=pl(t,"labels"),r=Zs(e),a=gl(o,r);return a||(u.Tn(r)?i=_l(t,r):(n="auto"===r?ml(t):r,i=xl(t,n)),fl(o,r,{labels:i,labelCategoryInterval:n}))}function cl(t,e){var i,n,o=pl(t,"ticks"),r=Zs(e),a=gl(o,r);if(a)return a;if(e.get("show")&&!t.scale.isBlank()||(i=[]),u.Tn(r))i=_l(t,r,!0);else if("auto"===r){var s=ul(t,t.getLabelModel());n=s.labelCategoryInterval,i=u.Tj(s.labels,(function(t){return t.tickValue}))}else n=r,i=xl(t,n,!0);return fl(o,r,{ticks:i,tickCategoryInterval:n})}function dl(t){var e=t.scale.getTicks(),i=js(t);return{labels:u.Tj(e,(function(e,n){return{level:e.level,formattedLabel:i(e,n),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function pl(t,e){return rl(t)[e]||(rl(t)[e]=[])}function gl(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function fl(t,e,i){return t.push({key:e,value:i}),i}function ml(t){var e=rl(t).autoInterval;return null!=e?e:rl(t).autoInterval=t.calculateCategoryInterval()}function yl(t){var e=vl(t),i=js(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,r=o.getExtent(),a=o.count();if(r[1]-r[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=r[0],h=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(h*Math.cos(n)),c=Math.abs(h*Math.sin(n)),d=0,p=0;l<=r[1];l+=s){var g=0,f=0,m=Ht.NO(i({value:l}),e.font,"center","top");g=1.3*m.width,f=1.3*m.height,d=Math.max(d,g,7),p=Math.max(p,f,7)}var y=d/u,v=p/c;isNaN(y)&&(y=1/0),isNaN(v)&&(v=1/0);var x=Math.max(0,Math.floor(Math.min(y,v))),_=rl(t.model),b=t.getExtent(),w=_.lastAutoInterval,M=_.lastTickCount;return null!=w&&null!=M&&Math.abs(w-x)<=1&&Math.abs(M-a)<=1&&w>x&&_.axisExtent0===b[0]&&_.axisExtent1===b[1]?x=w:(_.lastTickCount=a,_.lastAutoInterval=x,_.axisExtent0=b[0],_.axisExtent1=b[1]),x}function vl(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function xl(t,e,i){var n=js(t),o=t.scale,r=o.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),h=r[0],u=o.count();0!==h&&l>1&&u/l>2&&(h=Math.round(Math.ceil(h/l)*l));var c=qs(t),d=a.get("showMinLabel")||c,p=a.get("showMaxLabel")||c;d&&h!==r[0]&&f(r[0]);for(var g=h;g<=r[1];g+=l)f(g);function f(t){var e={value:t};s.push(i?t:{formattedLabel:n(e),rawLabel:o.getLabel(e),tickValue:t})}return p&&g-l!==r[1]&&f(r[1]),s}function _l(t,e,i){var n=t.scale,o=js(t),r=[];return u.__(n.getTicks(),(function(t){var a=n.getLabel(t),s=t.value;e(t.value,a)&&r.push(i?s:{formattedLabel:o(t),rawLabel:a,tickValue:s})})),r}var bl=[0,1],wl=function(){function t(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return t.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return(0,_.hb)(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},t.prototype.dataToCoord=function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&(i=i.slice(),Ml(i,n.count())),(0,_.Cb)(t,bl,i,e)},t.prototype.coordToData=function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(i=i.slice(),Ml(i,n.count()));var o=(0,_.Cb)(t,i,bl,e);return this.scale.scale(o)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=ll(this,e),n=i.ticks,o=(0,u.Tj)(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),r=e.get("alignWithLabel");return Sl(this,o,r,t.clamp),o},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var i=this.scale.getMinorTicks(e),n=(0,u.Tj)(i,(function(t){return(0,u.Tj)(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return n},t.prototype.getViewLabels=function(){return sl(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},t.prototype.calculateCategoryInterval=function(){return yl(this)},t}();function Ml(t,e){var i=t[1]-t[0],n=e,o=i/n/2;t[0]+=o,t[1]-=o}function Sl(t,e,i,n){var o=e.length;if(t.onBand&&!i&&o){var r,a,s=t.getExtent();if(1===o)e[0].coord=s[0],r=e[1]={coord:s[1]};else{var l=e[o-1].tickValue-e[0].tickValue,h=(e[o-1].coord-e[0].coord)/l;(0,u.__)(e,(function(t){t.coord-=h/2}));var c=t.scale.getExtent();a=1+c[1]-e[o-1].tickValue,r={coord:e[o-1].coord+h*a},e.push(r)}var d=s[0]>s[1];p(e[0].coord,s[0])&&(n?e[0].coord=s[0]:e.shift()),n&&p(s[0],e[0].coord)&&e.unshift({coord:s[0]}),p(s[1],r.coord)&&(n?r.coord=s[1]:e.pop()),n&&p(r.coord,s[1])&&e.push({coord:s[1]})}function p(t,e){return t=(0,_.LI)(t),e=(0,_.LI)(e),d?t>e:t<e}}var Il=wl,Al=function(t){function e(e,i,n,o,r){var a=t.call(this,e,i,n)||this;return a.index=0,a.type=o||"value",a.position=r||"bottom",a}return(0,Pi.C6)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Il),Cl=Al;function Tl(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,r={},a=o.getAxesOnZeroOf()[0],s=o.position,l=a?"onZero":s,h=o.dim,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],p={left:0,right:1,top:0,bottom:1,onZero:2},g=e.get("offset")||0,f="x"===h?[d[2]-g,d[3]+g]:[d[0]-g,d[1]+g];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(m,f[1]),f[0])}r.position=["y"===h?f[p[l]]:d[0],"x"===h?f[p[l]]:d[3]],r.rotation=Math.PI/2*("x"===h?0:1);var y={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=y[s],r.labelOffset=a?f[p[s]]-f[p.onZero]:0,e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),u.Je(i.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var v=e.get(["axisLabel","rotate"]);return r.labelRotate="top"===l?-v:v,r.z2=1,r}function Dl(t){return"cartesian2d"===t.get("coordinateSystem")}function Ll(t){var e={xAxisModel:null,yAxisModel:null};return u.__(e,(function(i,n){var o=n.replace(/Model$/,""),r=t.getReferringComponents(o,m.US).models[0];e[n]=r})),e}var kl=Math.log;function Pl(t,e,i){var n=us.prototype,o=n.getTicks.call(i),r=n.getTicks.call(i,!0),a=o.length-1,s=n.getInterval.call(i),l=Fs(t,e),h=l.extent,u=l.fixMin,c=l.fixMax;if("log"===t.type){var d=kl(t.base);h=[kl(h[0])/d,kl(h[1])/d]}t.setExtent(h[0],h[1]),t.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:c});var p=n.getExtent.call(t);u&&(h[0]=p[0]),c&&(h[1]=p[1]);var g=n.getInterval.call(t),f=h[0],m=h[1];if(u&&c)g=(m-f)/a;else if(u){m=h[0]+g*a;while(m<h[1]&&isFinite(m)&&isFinite(h[1]))g=Qa(g),m=h[0]+g*a}else if(c){f=h[1]-g*a;while(f>h[0]&&isFinite(f)&&isFinite(h[0]))g=Qa(g),f=h[1]-g*a}else{var y=t.getTicks().length-1;y>a&&(g=Qa(g));var v=g*a;m=Math.ceil(h[1]/g)*g,f=(0,_.LI)(m-v),f<0&&h[0]>=0?(f=0,m=(0,_.LI)(v)):m>0&&h[1]<=0&&(m=0,f=-(0,_.LI)(v))}var x=(o[0].value-r[0].value)/s,b=(o[a].value-r[a].value)/s;n.setExtent.call(t,f+g*x,m+g*b),n.setInterval.call(t,g),(x||b)&&n.setNiceExtent.call(t,f+g,m-g)}var Ol=function(){function t(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=el,this._initCartesian(t,e,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var i=this._axesMap;function n(t){var e,i=(0,u.HP)(t),n=i.length;if(n){for(var o=[],r=n-1;r>=0;r--){var a=+i[r],s=t[a],l=s.model,h=s.scale;Ka(h)&&l.get("alignTicks")&&null==l.get("interval")?o.push(s):(Gs(h,l),Ka(h)&&(e=s))}o.length&&(e||(e=o.pop(),Gs(e.scale,e.model)),(0,u.__)(o,(function(t){Pl(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),n(i.x),n(i.y);var o={};(0,u.__)(i.x,(function(t){Rl(i,"y",t,o)})),(0,u.__)(i.y,(function(t){Rl(i,"x",t,o)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,i){var n=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),r=(0,Kr.dV)(n,{width:e.getWidth(),height:e.getHeight()});this._rect=r;var a=this._axesList;function s(){(0,u.__)(a,(function(t){var e=t.isHorizontal(),i=e?[0,r.width]:[0,r.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),zl(t,e?r.x:r.y)}))}s(),o&&((0,u.__)(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=$s(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get(["axisLabel","margin"]);r[i]-=e[i]+n,"top"===t.position?r.y+=e.height+n:"left"===t.position&&(r.x+=e.width+n)}}})),s()),(0,u.__)(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}(0,u.Gv)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var e,i,n=t.seriesModel,o=t.xAxisModel||n&&n.getReferringComponents("xAxis",m.US).models[0],r=t.yAxisModel||n&&n.getReferringComponents("yAxis",m.US).models[0],a=t.gridModel,s=this._coordsList;if(n)e=n.coordinateSystem,(0,u.qh)(s,e)<0&&(e=null);else if(o&&r)e=this.getCartesian(o.componentIndex,r.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(r)i=this.getAxis("y",r.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(e=this._coordsList[0])}return{cartesian:e,axis:i}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,i){var n=this,o=this,r={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(i,n){if(Nl(i,t)){var l=i.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=r.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=r.left?"right":"left"),r[l]=!0;var h=new Cl(e,Hs(i),[0,0],i.get("type"),l),u="category"===h.type;h.onBand=u&&i.get("boundaryGap"),h.inverse=i.get("inverse"),i.axis=h,h.model=i,h.grid=o,h.index=n,o._axesList.push(h),a[e][n]=h,s[e]++}}}this._axesMap=a,(0,u.__)(a.x,(function(e,i){(0,u.__)(a.y,(function(o,r){var a="x"+i+"y"+r,s=new ol(a);s.master=n,s.model=t,n._coordsMap[a]=s,n._coordsList.push(s),s.addAxis(e),s.addAxis(o)}))}))},t.prototype._updateScale=function(t,e){function i(t,e){(0,u.__)(Ks(t,e.dim),(function(i){e.scale.unionExtentFromData(t,i)}))}(0,u.__)(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(Dl(t)){var n=Ll(t),o=n.xAxisModel,r=n.yAxisModel;if(!Nl(o,e)||!Nl(r,e))return;var a=this.getCartesian(o.componentIndex,r.componentIndex),s=t.getData(),l=a.getAxis("x"),h=a.getAxis("y");i(s,l),i(s,h)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],i=[];return(0,u.__)(this.getCartesians(),(function(n){var o=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),r=n.getOtherAxis(o);(0,u.qh)(e,o)<0&&e.push(o),(0,u.qh)(i,r)<0&&i.push(r)})),{baseAxes:e,otherAxes:i}},t.create=function(e,i){var n=[];return e.eachComponent("grid",(function(o,r){var a=new t(o,e,i);a.name="grid_"+r,a.resize(o,i,!0),o.coordinateSystem=a,n.push(a)})),e.eachSeries((function(t){if(Dl(t)){var e=Ll(t),i=e.xAxisModel,n=e.yAxisModel,o=i.getCoordSysModel();0;var r=o.coordinateSystem;t.coordinateSystem=r.getCartesian(i.componentIndex,n.componentIndex)}})),n},t.dimensions=el,t}();function Nl(t,e){return t.getCoordSysModel()===e}function Rl(t,e,i,n){i.getAxesOnZeroOf=function(){return o?[o]:[]};var o,r=t[e],a=i.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)El(r[l])&&(o=r[l]);else for(var h in r)if(r.hasOwnProperty(h)&&El(r[h])&&!n[u(r[h])]){o=r[h];break}o&&(n[u(o)]=!0)}function u(t){return t.dim+"_"+t.index}}function El(t){return t&&"category"!==t.type&&"time"!==t.type&&Xs(t)}function zl(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var Vl=Ol,Bl=i(2861),Fl=Math.PI,Wl=function(){function t(t,e){this.group=new Fn.A,this.opt=e,this.axisModel=t,(0,u.NT)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Fn.A({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!Gl[t]},t.prototype.add=function(t){Gl[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,i){var n,o,r=(0,_._7)(e-t);return(0,_.dh)(r)?(o=i>0?"top":"bottom",n="center"):(0,_.dh)(r-Fl)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=r>0&&r<Fl?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:o}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),Gl={axisLine:function(t,e,i,n){var o=e.get(["axisLine","show"]);if("auto"===o&&t.handleAutoShown&&(o=t.handleAutoShown("axisLine")),o){var r=e.axis.getExtent(),a=n.transform,s=[r[0],0],l=[r[1],0],h=s[0]>l[0];a&&((0,D.NW)(s,s,a),(0,D.NW)(l,l,a));var c=(0,u.X$)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Bl.A({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Hn.subPixelOptimizeLine(d.shape,d.style.lineWidth),d.anid="line",i.add(d);var p=e.get(["axisLine","symbol"]);if(null!=p){var g=e.get(["axisLine","symbolSize"]);(0,u.Kg)(p)&&(p=[p,p]),((0,u.Kg)(g)||(0,u.Et)(g))&&(g=[g,g]);var f=(0,Bn.hV)(e.get(["axisLine","symbolOffset"])||0,g),m=g[0],y=g[1];(0,u.__)([{rotate:t.rotation+Math.PI/2,offset:f[0],r:0},{rotate:t.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,n){if("none"!==p[n]&&null!=p[n]){var o=(0,Bn.v5)(p[n],-m/2,-y/2,m,y,c.stroke,!0),r=e.r+e.offset,a=h?l:s;o.attr({rotation:e.rotate,x:a[0]+r*Math.cos(t.rotation),y:a[1]-r*Math.sin(t.rotation),silent:!0,z2:11}),i.add(o)}}))}}},axisTickLabel:function(t,e,i,n){var o=Zl(i,n,e,t),r=Kl(i,n,e,t);if(Xl(e,r,o),ql(i,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=it((0,u.Tj)(r,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));at(a)}},axisName:function(t,e,i,n){var o=(0,u.Je)(t.axisName,e.get("name"));if(o){var r,a,s=e.get("nameLocation"),l=t.nameDirection,h=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,d=e.axis.getExtent(),p=d[0]>d[1]?-1:1,g=["start"===s?d[0]-p*c:"end"===s?d[1]+p*c:(d[0]+d[1])/2,$l(s)?t.labelOffset+l*c:0],f=e.get("nameRotate");null!=f&&(f=f*Fl/180),$l(s)?r=Wl.innerTextLayout(t.rotation,null!=f?f:t.rotation,l):(r=Hl(t.rotation,s,f||0,d),a=t.axisNameAvailableWidth,null!=a&&(a=Math.abs(a/Math.sin(r.rotation)),!isFinite(a)&&(a=null)));var m=h.getFont(),y=e.get("nameTruncate",!0)||{},v=y.ellipsis,_=(0,u.Je)(t.nameTruncateMaxWidth,y.maxWidth,a),b=new Ne.Ay({x:g[0],y:g[1],rotation:r.rotation,silent:Wl.isLabelSilent(e),style:(0,st.VB)(h,{text:o,font:m,overflow:"truncate",width:_,ellipsis:v,fill:h.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:h.get("align")||r.textAlign,verticalAlign:h.get("verticalAlign")||r.textVerticalAlign}),z2:1});if(Hn.setTooltipConfig({el:b,componentModel:e,itemName:o}),b.__fullText=o,b.anid="name",e.get("triggerEvent")){var w=Wl.makeAxisEventDataBase(e);w.targetType="axisName",w.name=o,(0,x.z)(b).eventData=w}n.add(b),b.updateTransform(),i.add(b),b.decomposeTransform()}}};function Hl(t,e,i,n){var o,r,a=(0,_._7)(i-t),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return(0,_.dh)(a-Fl/2)?(r=l?"bottom":"top",o="center"):(0,_.dh)(a-1.5*Fl)?(r=l?"top":"bottom",o="center"):(r="middle",o=a<1.5*Fl&&a>Fl/2?l?"left":"right":l?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:r}}function Xl(t,e,i){if(!qs(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);e=e||[],i=i||[];var r=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],u=i[1],c=i[i.length-1],d=i[i.length-2];!1===n?(jl(r),jl(h)):Yl(r,a)&&(n?(jl(a),jl(u)):(jl(r),jl(h))),!1===o?(jl(s),jl(c)):Yl(l,s)&&(o?(jl(l),jl(d)):(jl(s),jl(c)))}}function jl(t){t&&(t.ignore=!0)}function Yl(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var o=T.D_([]);return T.e$(o,o,-t.rotation),i.applyTransform(T.lK([],o,t.getLocalTransform())),n.applyTransform(T.lK([],o,e.getLocalTransform())),i.intersect(n)}}function $l(t){return"middle"===t||"center"===t}function Ul(t,e,i,n,o){for(var r=[],a=[],s=[],l=0;l<t.length;l++){var h=t[l].coord;a[0]=h,a[1]=0,s[0]=h,s[1]=i,e&&((0,D.NW)(a,a,e),(0,D.NW)(s,s,e));var u=new Bl.A({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Hn.subPixelOptimizeLine(u.shape,u.style.lineWidth),u.anid=o+"_"+t[l].tickValue,r.push(u)}return r}function Zl(t,e,i,n){var o=i.axis,r=i.getModel("axisTick"),a=r.get("show");if("auto"===a&&n.handleAutoShown&&(a=n.handleAutoShown("axisTick")),a&&!o.scale.isBlank()){for(var s=r.getModel("lineStyle"),l=n.tickDirection*r.get("length"),h=o.getTicksCoords(),c=Ul(h,e.transform,l,(0,u.NT)(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)t.add(c[d]);return c}}function ql(t,e,i,n){var o=i.axis,r=i.getModel("minorTick");if(r.get("show")&&!o.scale.isBlank()){var a=o.getMinorTicksCoords();if(a.length)for(var s=r.getModel("lineStyle"),l=n*r.get("length"),h=(0,u.NT)(s.getLineStyle(),(0,u.NT)(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var d=Ul(a[c],e.transform,l,h,"minorticks_"+c),p=0;p<d.length;p++)t.add(d[p])}}function Kl(t,e,i,n){var o=i.axis,r=(0,u.Je)(n.axisLabelShow,i.get(["axisLabel","show"]));if(r&&!o.scale.isBlank()){var a=i.getModel("axisLabel"),s=a.get("margin"),l=o.getViewLabels(),h=((0,u.Je)(n.labelRotate,a.get("rotate"))||0)*Fl/180,c=Wl.innerTextLayout(n.rotation,h,n.labelDirection),d=i.getCategories&&i.getCategories(!0),p=[],g=Wl.isLabelSilent(i),f=i.get("triggerEvent");return(0,u.__)(l,(function(r,h){var m="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(r.tickValue):r.tickValue,y=r.formattedLabel,v=r.rawLabel,_=a;if(d&&d[m]){var b=d[m];(0,u.Gv)(b)&&b.textStyle&&(_=new Oi.A(b.textStyle,a,i.ecModel))}var w=_.getTextColor()||i.get(["axisLine","lineStyle","color"]),M=o.dataToCoord(m),S=_.getShallow("align",!0)||c.textAlign,I=(0,u.bZ)(_.getShallow("alignMinLabel",!0),S),A=(0,u.bZ)(_.getShallow("alignMaxLabel",!0),S),C=_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||c.textVerticalAlign,T=(0,u.bZ)(_.getShallow("verticalAlignMinLabel",!0),C),D=(0,u.bZ)(_.getShallow("verticalAlignMaxLabel",!0),C),L=new Ne.Ay({x:M,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:g,z2:10+(r.level||0),style:(0,st.VB)(_,{text:y,align:0===h?I:h===l.length-1?A:S,verticalAlign:0===h?T:h===l.length-1?D:C,fill:(0,u.Tn)(w)?w("category"===o.type?v:"value"===o.type?m+"":m,h):w})});if(L.anid="label_"+m,f){var k=Wl.makeAxisEventDataBase(i);k.targetType="axisLabel",k.value=v,k.tickIndex=h,"category"===o.type&&(k.dataIndex=m),(0,x.z)(L).eventData=k}e.add(L),L.updateTransform(),p.push(L),t.add(L),L.decomposeTransform()})),p}}var Jl=Wl;function Ql(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return th(i,t,e),i.seriesInvolved&&ih(i,t),i}function th(t,e,i){var n=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),r=o.get("link",!0)||[],a=[];(0,u.__)(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var s=hh(i.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=i;var h=i.model,c=h.getModel("tooltip",n);if((0,u.__)(i.getAxes(),(0,u.cF)(f,!1,null)),i.getTooltipAxes&&n&&c.get("show")){var d="axis"===c.get("trigger"),p="cross"===c.get(["axisPointer","type"]),g=i.getTooltipAxes(c.get(["axisPointer","axis"]));(d||p)&&(0,u.__)(g.baseAxes,(0,u.cF)(f,!p||"cross",d)),p&&(0,u.__)(g.otherAxes,(0,u.cF)(f,"cross",!1))}}function f(n,s,h){var u=h.model.getModel("axisPointer",o),d=u.get("show");if(d&&("auto"!==d||n||lh(u))){null==s&&(s=u.get("triggerTooltip")),u=n?eh(h,c,o,e,n,s):u;var p=u.get("snap"),g=u.get("triggerEmphasis"),f=hh(h.model),m=s||p||"category"===h.type,y=t.axesInfo[f]={key:f,axis:h,coordSys:i,axisPointerModel:u,triggerTooltip:s,triggerEmphasis:g,involveSeries:m,snap:p,useHandle:lh(u),seriesModels:[],linkGroup:null};l[f]=y,t.seriesInvolved=t.seriesInvolved||m;var v=nh(r,h);if(null!=v){var x=a[v]||(a[v]={axesInfo:{}});x.axesInfo[f]=y,x.mapper=r[v].mapper,y.linkGroup=x}}}}))}function eh(t,e,i,n,o,r){var a=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};(0,u.__)(s,(function(t){l[t]=(0,u.o8)(a.get(t))})),l.snap="category"!==t.type&&!!r,"cross"===a.get("type")&&(l.type="line");var h=l.label||(l.label={});if(null==h.show&&(h.show=!1),"cross"===o){var c=a.get(["label","show"]);if(h.show=null==c||c,!r){var d=l.lineStyle=a.get("crossStyle");d&&(0,u.NT)(h,d.textStyle)}}return t.model.getModel("axisPointer",new Oi.A(l,i,n))}function ih(t,e){e.eachSeries((function(e){var i=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==e.get(["axisPointer","show"],!0)&&(0,u.__)(t.coordSysAxesInfo[hh(i.model)],(function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}function nh(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var r=t[o]||{};if(oh(r[n+"AxisId"],i.id)||oh(r[n+"AxisIndex"],i.componentIndex)||oh(r[n+"AxisName"],i.name))return o}}function oh(t,e){return"all"===t||(0,u.cy)(t)&&(0,u.qh)(t,e)>=0||t===e}function rh(t){var e=ah(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,r=i.get("status"),a=i.get("value");null!=a&&(a=n.parse(a));var s=lh(i);null==r&&(o.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),o.value=a,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function ah(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[hh(t)]}function sh(t){var e=ah(t);return e&&e.axisPointerModel}function lh(t){return!!t.get(["handle","show"])}function hh(t){return t.type+"||"+t.id}var uh={},ch=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(e,i,n,o){this.axisPointerClass&&rh(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},e.prototype.updateAxisPointer=function(t,e,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,e){var i=this._axisPointer;i&&i.remove(e)},e.prototype.dispose=function(e,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var r=sh(t);r?(this._axisPointer||(this._axisPointer=new o)).render(t,r,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){uh[t]=e},e.getAxisPointerClass=function(t){return t&&uh[t]},e.type="axis",e}(a.A),dh=ch,ph=(0,m.$r)();function gh(t,e,i,n){var o=i.axis;if(!o.scale.isBlank()){var r=i.getModel("splitArea"),a=r.getModel("areaStyle"),s=a.get("color"),l=n.coordinateSystem.getRect(),h=o.getTicksCoords({tickModel:r,clamp:!0});if(h.length){var c=s.length,d=ph(t).splitAreaColors,p=u.nt(),g=0;if(d)for(var f=0;f<h.length;f++){var m=d.get(h[f].tickValue);if(null!=m){g=(m+(c-1)*f)%c;break}}var y=o.toGlobalCoord(h[0].coord),v=a.getAreaStyle();s=u.cy(s)?s:[s];for(f=1;f<h.length;f++){var x=o.toGlobalCoord(h[f].coord),_=void 0,b=void 0,w=void 0,M=void 0;o.isHorizontal()?(_=y,b=l.y,w=x-_,M=l.height,y=_+w):(_=l.x,b=y,w=l.width,M=x-b,y=b+M);var S=h[f-1].tickValue;null!=S&&p.set(S,g),e.add(new vo.A({anid:null!=S?"area_"+S:null,shape:{x:_,y:b,width:w,height:M},style:u.NT({fill:s[g]},v),autoBatch:!0,silent:!0})),g=(g+1)%c}ph(t).splitAreaColors=p}}}function fh(t){ph(t).splitAreaColors=null}var mh=["axisLine","axisTickLabel","axisName"],yh=["splitArea","splitLine","minorSplitLine"],vh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="CartesianAxisPointer",i}return(0,Pi.C6)(e,t),e.prototype.render=function(e,i,n,o){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Fn.A,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=Tl(a,e),l=new Jl(e,u.X$({handleAutoShown:function(t){for(var i=a.coordinateSystem.getCartesians(),n=0;n<i.length;n++)if(Ka(i[n].getOtherAxis(e.axis).scale))return!0;return!1}},s));u.__(mh,l.add,l),this._axisGroup.add(l.getGroup()),u.__(yh,(function(t){e.get([t,"show"])&&xh[t](this,this._axisGroup,e,a)}),this);var h=o&&"changeAxisOrder"===o.type&&o.isInitSort;h||Hn.groupTransition(r,this._axisGroup,e),t.prototype.render.call(this,e,i,n,o)}},e.prototype.remove=function(){fh(this)},e.type="cartesianAxis",e}(dh),xh={splitLine:function(t,e,i,n){var o=i.axis;if(!o.scale.isBlank()){var r=i.getModel("splitLine"),a=r.getModel("lineStyle"),s=a.get("color");s=u.cy(s)?s:[s];for(var l=n.coordinateSystem.getRect(),h=o.isHorizontal(),c=0,d=o.getTicksCoords({tickModel:r}),p=[],g=[],f=a.getLineStyle(),m=0;m<d.length;m++){var y=o.toGlobalCoord(d[m].coord);h?(p[0]=y,p[1]=l.y,g[0]=y,g[1]=l.y+l.height):(p[0]=l.x,p[1]=y,g[0]=l.x+l.width,g[1]=y);var v=c++%s.length,x=d[m].tickValue,_=new Bl.A({anid:null!=x?"line_"+d[m].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:u.NT({stroke:s[v]},f),silent:!0});Hn.subPixelOptimizeLine(_.shape,f.lineWidth),e.add(_)}}},minorSplitLine:function(t,e,i,n){var o=i.axis,r=i.getModel("minorSplitLine"),a=r.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=o.isHorizontal(),h=o.getMinorTicksCoords();if(h.length)for(var u=[],c=[],d=a.getLineStyle(),p=0;p<h.length;p++)for(var g=0;g<h[p].length;g++){var f=o.toGlobalCoord(h[p][g].coord);l?(u[0]=f,u[1]=s.y,c[0]=f,c[1]=s.y+s.height):(u[0]=s.x,u[1]=f,c[0]=s.x+s.width,c[1]=f);var m=new Bl.A({anid:"minor_line_"+h[p][g].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:d,silent:!0});Hn.subPixelOptimizeLine(m.shape,d.lineWidth),e.add(m)}},splitArea:function(t,e,i,n){gh(t,e,i,n)}},_h=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="xAxis",e}(vh),bh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=_h.type,e}return(0,Pi.C6)(e,t),e.type="yAxis",e}(vh),wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new vo.A({shape:t.coordinateSystem.getRect(),style:(0,u.NT)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(a.A),Mh={offset:0};function Sh(t){t.registerComponentView(wh),t.registerComponentModel(Pa),t.registerCoordinateSystem("cartesian2d",Vl),Ya(t,"x",Na,Mh),Ya(t,"y",Na,Mh),t.registerComponentView(_h),t.registerComponentView(bh),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function Ih(t){f(Sh),t.registerSeriesModel(Ma),t.registerChartView(La),t.registerLayout(jo("scatter"))}function Ah(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){var o=n.getIndicatorAxes();u.__(o,(function(t,r){e.each(e.mapDimension(o[r].dim),(function(t,e){i[e]=i[e]||[];var o=n.dataToPoint(t,r);i[e][r]=Ch(o)?o:Th(n)}))})),e.each((function(t){var o=u.I6(i[t],(function(t){return Ch(t)}))||Th(n);i[t].push(o.slice()),e.setItemLayout(t,i[t])}))}}))}function Ch(t){return!isNaN(t[0])&&!isNaN(t[1])}function Th(t){return[t.cx,t.cy]}function Dh(t){var e=t.polar;if(e){u.cy(e)||(e=[e]);var i=[];u.__(e,(function(e,n){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],u.cy(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)})),t.polar=i}u.__(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var Lh=i(2505),kh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=t.coordinateSystem,o=this.group,r=t.getData(),a=this._data;function s(t,e){var i=t.getItemVisual(e,"symbol")||"circle";if("none"!==i){var n=Bn.xU(t.getItemVisual(e,"symbolSize")),o=Bn.v5(i,-1,-1,2,2),r=t.getItemVisual(e,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:r*Math.PI/180||0}),o}}function l(e,i,n,o,r,a){n.removeAll();for(var l=0;l<i.length-1;l++){var h=s(o,r);h&&(h.__dimIdx=l,e[l]?(h.setPosition(e[l]),Hn[a?"initProps":"updateProps"](h,{x:i[l][0],y:i[l][1]},t,r)):h.setPosition(i[l]),n.add(h))}}function h(t){return u.Tj(t,(function(t){return[n.cx,n.cy]}))}r.diff(a).add((function(e){var i=r.getItemLayout(e);if(i){var n=new Lh.A,o=new S.A,a={shape:{points:i}};n.shape.points=h(i),o.shape.points=h(i),v.LW(n,a,t,e),v.LW(o,a,t,e);var s=new Fn.A,u=new Fn.A;s.add(o),s.add(n),s.add(u),l(o.shape.points,i,u,r,e,!0),r.setItemGraphicEl(e,s)}})).update((function(e,i){var n=a.getItemGraphicEl(i),o=n.childAt(0),s=n.childAt(1),h=n.childAt(2),u={shape:{points:r.getItemLayout(e)}};u.shape.points&&(l(o.shape.points,u.shape.points,h,r,e,!1),(0,v.ap)(s),(0,v.ap)(o),v.oi(o,u,t),v.oi(s,u,t),r.setItemGraphicEl(e,n))})).remove((function(t){o.remove(a.getItemGraphicEl(t))})).execute(),r.eachItemGraphicEl((function(t,e){var i=r.getItemModel(e),n=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=r.getItemVisual(e,"style"),h=l.fill;o.add(t),n.useStyle(u.NT(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:h})),(0,L.Mx)(n,i,"lineStyle"),(0,L.Mx)(a,i,"areaStyle");var c=i.getModel("areaStyle"),d=c.isEmpty()&&c.parentModel.isEmpty();a.ignore=d,u.__(["emphasis","select","blur"],(function(t){var e=i.getModel([t,"areaStyle"]),n=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=n&&d})),a.useStyle(u.NT(c.getAreaStyle(),{fill:h,opacity:.7,decal:l.decal}));var p=i.getModel("emphasis"),g=p.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof Gt.Ay){var n=t.style;t.useStyle(u.X$({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},l))}else t.useStyle(l),t.setColor(h),t.style.strokeNoScale=!0;var o=t.ensureState("emphasis");o.style=u.o8(g);var a=r.getStore().get(r.getDimensionIndex(t.__dimIdx),e);(null==a||isNaN(a))&&(a=""),(0,st.qM)(t,(0,st.lx)(i),{labelFetcher:r.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:a,inheritColor:h,defaultOpacity:l.opacity})})),(0,L.Lm)(t,p.get("focus"),p.get("blurScope"),p.get("disabled"))})),this._data=r},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(s.A),Ph=kh,Oh=i(3961),Nh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return(0,Pi.C6)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new ma(u.oI(this.getData,this),u.oI(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return ga(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=this.coordinateSystem,r=o.getIndicatorAxes(),a=this.getData().getName(t),s=""===a?this.name:a,l=(0,Oh.aw)(this,t);return(0,Oh.Qx)("section",{header:s,sortBlocks:!0,blocks:u.Tj(r,(function(e){var i=n.get(n.mapDimension(e.dim),t);return(0,Oh.Qx)("nameValue",{markerType:"subItem",markerColor:l,name:e.name,value:i,sortParam:i})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),i=this.coordinateSystem,n=e.getValues(u.Tj(i.dimensions,(function(t){return e.mapDimension(t)})),t),o=0,r=n.length;o<r;o++)if(!isNaN(n[o])){var a=i.getIndicatorAxes();return i.coordToPoint(a[o].dataToCoord(n[o]),o)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(h.A),Rh=Nh,Eh=Fa.value;function zh(t,e){return u.NT({show:e},t)}var Vh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),r=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),c=this.get("triggerEvent"),d=u.Tj(this.get("indicator")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var p=a;null!=d.color&&(p=u.NT({color:d.color},a));var g=u.h1(u.o8(d),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:o,axisLabel:r,name:d.text,showName:s,nameLocation:"end",nameGap:h,nameTextStyle:p,triggerEvent:c},!1);if(u.Kg(l)){var f=g.name;g.name=l.replace("{value}",null!=f?f:"")}else u.Tn(l)&&(g.name=l(g.name,g));var m=new Oi.A(g,null,this.ecModel);return u.co(m,Oa.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:u.h1({lineStyle:{color:"#bbb"}},Eh.axisLine),axisLabel:zh(Eh.axisLabel,!1),axisTick:zh(Eh.axisTick,!1),splitLine:zh(Eh.splitLine,!0),splitArea:zh(Eh.splitArea,!0),indicator:[]},e}(l.A),Bh=Vh,Fh=i(1571),Wh=i(2933),Gh=["axisLine","axisTickLabel","axisName"],Hh=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=this.group;n.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),n=u.Tj(i,(function(t){var i=t.model.get("showName")?t.name:"",n=new Jl(t.model,{axisName:i,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n}));u.__(n,(function(t){u.__(Gh,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes();if(i.length){var n=t.get("shape"),o=t.getModel("splitLine"),r=t.getModel("splitArea"),a=o.getModel("lineStyle"),s=r.getModel("areaStyle"),l=o.get("show"),h=r.get("show"),c=a.get("color"),d=s.get("color"),p=u.cy(c)?c:[c],g=u.cy(d)?d:[d],f=[],m=[];if("circle"===n)for(var y=i[0].getTicksCoords(),v=e.cx,x=e.cy,_=0;_<y.length;_++){if(l){var b=L(f,p,_);f[b].push(new Fh.A({shape:{cx:v,cy:x,r:y[_].coord}}))}if(h&&_<y.length-1){b=L(m,g,_);m[b].push(new Wh.A({shape:{cx:v,cy:x,r0:y[_].coord,r:y[_+1].coord}}))}}else{var w,M=u.Tj(i,(function(t,i){var n=t.getTicksCoords();return w=null==w?n.length-1:Math.min(n.length-1,w),u.Tj(n,(function(t){return e.coordToPoint(t.coord,i)}))})),I=[];for(_=0;_<=w;_++){for(var A=[],C=0;C<i.length;C++)A.push(M[C][_]);if(A[0]&&A.push(A[0].slice()),l){b=L(f,p,_);f[b].push(new S.A({shape:{points:A}}))}if(h&&I){b=L(m,g,_-1);m[b].push(new Lh.A({shape:{points:A.concat(I)}}))}I=A.slice().reverse()}}var T=a.getLineStyle(),D=s.getAreaStyle();u.__(m,(function(t,e){this.group.add(Hn.mergePath(t,{style:u.NT({stroke:"none",fill:g[e%g.length]},D),silent:!0}))}),this),u.__(f,(function(t,e){this.group.add(Hn.mergePath(t,{style:u.NT({fill:"none",stroke:p[e%p.length]},T),silent:!0}))}),this)}function L(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}},e.type="radar",e}(a.A),Xh=Hh,jh=function(t){function e(e,i,n){var o=t.call(this,e,i,n)||this;return o.type="value",o.angle=0,o.name="",o}return(0,Pi.C6)(e,t),e}(Il),Yh=jh,$h=function(){function t(t,e,i){this.dimensions=[],this._model=t,this._indicatorAxes=(0,u.Tj)(t.getIndicatorModels(),(function(t,e){var i="indicator_"+e,n=new Yh(i,new us);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n}),this),this.resize(t,i)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e],n=i.angle,o=this.cx+t*Math.cos(n),r=this.cy-t*Math.sin(n);return[o,r]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,r=Math.atan2(-i,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],u=Math.abs(r-h.angle);u<a&&(o=h,s=l,a=u)}return[s,+(o&&o.coordToData(n))]},t.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o)/2;this.cx=_.lo(i[0],n),this.cy=_.lo(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");((0,u.Kg)(a)||(0,u.Et)(a))&&(a=[0,a]),this.r0=_.lo(a[0],r),this.r=_.lo(a[1],r),(0,u.__)(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i}),this)},t.prototype.update=function(t,e){var i=this._indicatorAxes,n=this._model;(0,u.__)(i,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,o){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===n){var r=e.getData();(0,u.__)(i,(function(t){t.scale.unionExtentFromData(r,r.mapDimension(t.dim))}))}}),this);var o=n.get("splitNumber"),r=new us;r.setExtent(0,o),r.setInterval(1),(0,u.__)(i,(function(t,e){Pl(t.scale,t.model,r)}))},t.prototype.convertToPixel=function(t,e,i){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,i){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,i){var n=[];return e.eachComponent("radar",(function(o){var r=new t(o,e,i);n.push(r),o.coordinateSystem=r})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])})),n},t.dimensions=[],t}(),Uh=$h;function Zh(t){t.registerCoordinateSystem("radar",Uh),t.registerComponentModel(Bh),t.registerComponentView(Xh),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}function qh(t){f(Zh),t.registerChartView(Ph),t.registerSeriesModel(Rh),t.registerLayout(Ah),t.registerProcessor(oa("radar")),t.registerPreprocessor(Dh)}var Kh=i(5452),Jh="\0_ec_interaction_mutex";function Qh(t,e,i){var n=iu(t);n[e]=i}function tu(t,e,i){var n=iu(t),o=n[e];o===i&&(n[e]=null)}function eu(t,e){return!!iu(t)[e]}function iu(t){return t[Jh]||(t[Jh]={})}r.OH({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},u.lQ);var nu=function(t){function e(e){var i=t.call(this)||this;i._zr=e;var n=(0,u.oI)(i._mousedownHandler,i),o=(0,u.oI)(i._mousemoveHandler,i),r=(0,u.oI)(i._mouseupHandler,i),a=(0,u.oI)(i._mousewheelHandler,i),s=(0,u.oI)(i._pinchHandler,i);return i.enable=function(t,i){this.disable(),this._opt=(0,u.NT)((0,u.o8)(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",o),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},i.disable=function(){e.off("mousedown",n),e.off("mousemove",o),e.off("mouseup",r),e.off("mousewheel",a),e.off("pinch",s)},i}return(0,Pi.C6)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!Kh.W5(t)){var e=t.target;while(e){if(e.draggable)return;e=e.__hostTarget||e.parent}var i=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&au("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!eu(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,r=e-n,a=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&Kh.ds(t.event),ru(this,"pan","moveOnMouseMove",t,{dx:r,dy:a,oldX:n,oldY:o,newX:e,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Kh.W5(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=au("zoomOnMouseWheel",t,this._opt),i=au("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,o=Math.abs(n),r=t.offsetX,a=t.offsetY;if(0!==n&&(e||i)){if(e){var s=o>3?1.4:o>1?1.2:1.1,l=n>0?s:1/s;ou(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:r,originY:a,isAvailableBehavior:null})}if(i){var h=Math.abs(n),u=(n>0?1:-1)*(h>3?.4:h>1?.15:.05);ou(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:u,originX:r,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!eu(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;ou(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(wt.A);function ou(t,e,i,n,o){t.pointerChecker&&t.pointerChecker(n,o.originX,o.originY)&&(Kh.ds(n.event),ru(t,e,i,n,o))}function ru(t,e,i,n,o){o.isAvailableBehavior=(0,u.oI)(au,null,i,n),t.trigger(e,o)}function au(t,e,i){var n=i[t];return!t||n&&(!(0,u.Kg)(n)||e.event[n+"Key"])}var su=nu;function lu(t,e,i){var n=t.target;n.x+=e,n.y+=i,n.dirty()}function hu(t,e,i,n){var o=t.target,r=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,r){var s=r.min||0,l=r.max||1/0;a=Math.max(Math.min(l,a),s)}var h=a/t.zoom;t.zoom=a,o.x-=(i-o.x)*(h-1),o.y-=(n-o.y)*(h-1),o.scaleX*=h,o.scaleY*=h,o.dirty()}var uu={axisPointer:1,tooltip:1,brush:1};function cu(t,e,i){var n=e.getComponentByElement(t.topTarget),o=n&&n.coordinateSystem;return n&&n!==i&&!uu.hasOwnProperty(n.mainType)&&o&&o.model!==i}var du,pu=i(8393),gu=i(9429),fu=i(2250);function mu(t){if((0,u.Kg)(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var i=t;9===i.nodeType&&(i=i.firstChild);while("svg"!==i.nodeName.toLowerCase()||1!==i.nodeType)i=i.nextSibling;return i}var yu={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},vu=(0,u.HP)(yu),xu={"alignment-baseline":"textBaseline","stop-color":"stopColor"},_u=(0,u.HP)(xu),bu=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var i=mu(t);this._defsUsePending=[];var n=new Fn.A;this._root=n;var o=[],r=i.getAttribute("viewBox")||"",a=parseFloat(i.getAttribute("width")||e.width),s=parseFloat(i.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),Cu(i,n,null,!0,!1);var l,h,u=i.firstChild;while(u)this._parseNode(u,n,o,null,!1,!1),u=u.nextSibling;if(ku(this._defs,this._defsUsePending),this._defsUsePending=[],r){var c=Ou(r);c.length>=4&&(l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(l&&null!=a&&null!=s&&(h=Fu(l,{x:0,y:0,width:a,height:s}),!e.ignoreViewBox)){var d=n;n=new Fn.A,n.add(d),d.scaleX=d.scaleY=h.scale,d.x=h.x,d.y=h.y}return e.ignoreRootClip||null==a||null==s||n.setClipPath(new vo.A({shape:{x:0,y:0,width:a,height:s}})),{root:n,width:a,height:s,viewBoxRect:l,viewBoxTransform:h,named:o}},t.prototype._parseNode=function(t,e,i,n,o,r){var a,s=t.nodeName.toLowerCase(),l=n;if("defs"===s&&(o=!0),"text"===s&&(r=!0),"defs"===s||"switch"===s)a=e;else{if(!o){var h=du[s];if(h&&(0,u.$3)(du,s)){a=h.call(this,t,e);var c=t.getAttribute("name");if(c){var d={name:c,namedFrom:null,svgNodeTagLower:s,el:a};i.push(d),"g"===s&&(l=d)}else n&&i.push({name:n.name,namedFrom:n,svgNodeTagLower:s,el:a});e.add(a)}}var p=wu[s];if(p&&(0,u.$3)(wu,s)){var g=p.call(this,t),f=t.getAttribute("id");f&&(this._defs[f]=g)}}if(a&&a.isGroup){var m=t.firstChild;while(m)1===m.nodeType?this._parseNode(m,a,i,l,o,r):3===m.nodeType&&r&&this._parseText(m,a),m=m.nextSibling}},t.prototype._parseText=function(t,e){var i=new Xt.A({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),Tu(i,e);var n=i.style,o=n.fontSize;o&&o<9&&(n.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var r=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=r;var a=i.getBoundingRect();return this._textX+=a.width,e.add(i),i},t.internalField=function(){du={g:function(t,e){var i=new Fn.A;return Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new vo.A;return Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new Fh.A;return Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new Bl.A;return Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new pu.A;return Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,n=t.getAttribute("points");n&&(i=Au(n));var o=new Lh.A({shape:{points:i||[]},silent:!0});return Iu(e,o),Cu(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var i,n=t.getAttribute("points");n&&(i=Au(n));var o=new S.A({shape:{points:i||[]},silent:!0});return Iu(e,o),Cu(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var i=new Gt.Ay;return Iu(e,i),Cu(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",n=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",r=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(r);var a=new Fn.A;return Iu(e,a),Cu(t,a,this._defsUsePending,!1,!0),a},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var o=t.getAttribute("dx")||"0",r=t.getAttribute("dy")||"0",a=new Fn.A;return Iu(e,a),Cu(t,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(r),a},path:function(t,e){var i=t.getAttribute("d")||"",n=(0,gu.UJ)(i);return Iu(e,n),Cu(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),t}(),wu={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),i=parseInt(t.getAttribute("y1")||"0",10),n=parseInt(t.getAttribute("x2")||"10",10),o=parseInt(t.getAttribute("y2")||"0",10),r=new lo.A(e,i,n,o);return Mu(t,r),Su(t,r),r},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),i=parseInt(t.getAttribute("cy")||"0",10),n=parseInt(t.getAttribute("r")||"0",10),o=new fu.A(e,i,n);return Mu(t,o),Su(t,o),o}};function Mu(t,e){var i=t.getAttribute("gradientUnits");"userSpaceOnUse"===i&&(e.global=!0)}function Su(t,e){var i=t.firstChild;while(i){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var n=i.getAttribute("offset"),o=void 0;o=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var r={};Vu(i,r,r);var a=r.stopColor||i.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:o,color:a})}i=i.nextSibling}}function Iu(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),(0,u.NT)(e.__inheritedStyle,t.__inheritedStyle))}function Au(t){for(var e=Ou(t),i=[],n=0;n<e.length;n+=2){var o=parseFloat(e[n]),r=parseFloat(e[n+1]);i.push([o,r])}return i}function Cu(t,e,i,n,o){var r=e,a=r.__inheritedStyle=r.__inheritedStyle||{},s={};1===t.nodeType&&(Eu(t,e),Vu(t,a,s),n||Bu(t,a,s)),r.style=r.style||{},null!=a.fill&&(r.style.fill=Lu(r,"fill",a.fill,i)),null!=a.stroke&&(r.style.stroke=Lu(r,"stroke",a.stroke,i)),(0,u.__)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=a[t]&&(r.style[t]=parseFloat(a[t]))})),(0,u.__)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=a[t]&&(r.style[t]=a[t])})),o&&(r.__selfStyle=s),a.lineDash&&(r.style.lineDash=(0,u.Tj)(Ou(a.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(r.invisible=!0),"none"===a.display&&(r.ignore=!0)}function Tu(t,e){var i=e.__selfStyle;if(i){var n=i.textBaseline,o=n;n&&"auto"!==n?"baseline"===n?o="alphabetic":"before-edge"===n||"text-before-edge"===n?o="top":"after-edge"===n||"text-after-edge"===n?o="bottom":"central"!==n&&"mathematical"!==n||(o="middle"):o="alphabetic",t.style.textBaseline=o}var r=e.__inheritedStyle;if(r){var a=r.textAlign,s=a;a&&("middle"===a&&(s="center"),t.style.textAlign=s)}}var Du=/^url\(\s*#(.*?)\)/;function Lu(t,e,i,n){var o=i&&i.match(Du);if(!o)return"none"===i&&(i=null),i;var r=(0,u.Bq)(o[1]);n.push([t,e,r])}function ku(t,e){for(var i=0;i<e.length;i++){var n=e[i];n[0].style[n[1]]=t[n[2]]}}var Pu=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Ou(t){return t.match(Pu)||[]}var Nu=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Ru=Math.PI/180;function Eu(t,e){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=[],o=null;i.replace(Nu,(function(t,e,i){return n.push(e,i),""}));for(var r=n.length-1;r>0;r-=2){var a=n[r],s=n[r-1],l=Ou(a);switch(o=o||T.vt(),s){case"translate":T.Tl(o,o,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":T.hs(o,o,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":T.e$(o,o,-parseFloat(l[0])*Ru,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var h=Math.tan(parseFloat(l[0])*Ru);T.lK(o,[1,0,h,1,0,0],o);break;case"skewY":var u=Math.tan(parseFloat(l[0])*Ru);T.lK(o,[1,u,0,1,0,0],o);break;case"matrix":o[0]=parseFloat(l[0]),o[1]=parseFloat(l[1]),o[2]=parseFloat(l[2]),o[3]=parseFloat(l[3]),o[4]=parseFloat(l[4]),o[5]=parseFloat(l[5]);break}}e.setLocalTransform(o)}}var zu=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Vu(t,e,i){var n=t.getAttribute("style");if(n){var o;zu.lastIndex=0;while(null!=(o=zu.exec(n))){var r=o[1],a=(0,u.$3)(yu,r)?yu[r]:null;a&&(e[a]=o[2]);var s=(0,u.$3)(xu,r)?xu[r]:null;s&&(i[s]=o[2])}}}function Bu(t,e,i){for(var n=0;n<vu.length;n++){var o=vu[n],r=t.getAttribute(o);null!=r&&(e[yu[o]]=r)}for(n=0;n<_u.length;n++){o=_u[n],r=t.getAttribute(o);null!=r&&(i[xu[o]]=r)}}function Fu(t,e){var i=e.width/t.width,n=e.height/t.height,o=Math.min(i,n);return{scale:o,x:-(t.x+t.width/2)*o+(e.x+e.width/2),y:-(t.y+t.height/2)*o+(e.y+e.height/2)}}function Wu(t,e){var i=new bu;return i.parse(t,e)}var Gu=i(6873),Hu=1e-8;function Xu(t,e){return Math.abs(t-e)<Hu}function ju(t,e,i){var n=0,o=t[0];if(!o)return!1;for(var r=1;r<t.length;r++){var a=t[r];n+=(0,Gu.A)(o[0],o[1],a[0],a[1],e,i),o=a}var s=t[0];return Xu(o[0],s[0])&&Xu(o[1],s[1])||(n+=(0,Gu.A)(o[0],o[1],s[0],s[1],e,i)),0!==n}var Yu=[];function $u(t,e){for(var i=0;i<t.length;i++)D.NW(t[i],t[i],e)}function Uu(t,e,i,n){for(var o=0;o<t.length;o++){var r=t[o];n&&(r=n.project(r)),r&&isFinite(r[0])&&isFinite(r[1])&&(D.jk(e,e,r),D.T9(i,i,r))}}function Zu(t){for(var e=0,i=0,n=0,o=t.length,r=t[o-1][0],a=t[o-1][1],s=0;s<o;s++){var l=t[s][0],h=t[s][1],u=r*h-l*a;e+=u,i+=(r+l)*u,n+=(a+h)*u,r=l,a=h}return e?[i/e/3,n/e/3,e]:[t[0][0]||0,t[0][1]||0]}var qu=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),Ku=function(){function t(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return t}(),Ju=function(){function t(t){this.type="linestring",this.points=t}return t}(),Qu=function(t){function e(e,i,n){var o=t.call(this,e)||this;return o.type="geoJSON",o.geometries=i,o._center=n&&[n[0],n[1]],o}return(0,Pi.C6)(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,i=0,n=0;n<e.length;n++){var o=e[n],r=o.exterior,a=r&&r.length;a>i&&(t=o,i=a)}if(t)return Zu(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var i=[1/0,1/0],n=[-1/0,-1/0],o=this.geometries;return(0,u.__)(o,(function(e){"polygon"===e.type?Uu(e.exterior,i,n,t):(0,u.__)(e.points,(function(e){Uu(e,i,n,t)}))})),isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1])||(i[0]=i[1]=n[0]=n[1]=0),e=new y.A(i[0],i[1],n[0]-i[0],n[1]-i[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++){var r=i[n];if("polygon"===r.type){var a=r.exterior,s=r.interiors;if(ju(a,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(ju(s[l],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,i,n){var o=this.getBoundingRect(),r=o.width/o.height;i?n||(n=i/r):i=r*n;for(var a=new y.A(t,e,i,n),s=o.calculateTransform(a),l=this.geometries,h=0;h<l.length;h++){var c=l[h];"polygon"===c.type?($u(c.exterior,s),(0,u.__)(c.interiors,(function(t){$u(t,s)}))):(0,u.__)(c.points,(function(t){$u(t,s)}))}o=this._rect,o.copy(a),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(qu),tc=function(t){function e(e,i){var n=t.call(this,e)||this;return n.type="geoSVG",n._elOnlyForCalculate=i,n}return(0,Pi.C6)(e,t),e.prototype.calcCenter=function(){var t=this._elOnlyForCalculate,e=t.getBoundingRect(),i=[e.x+e.width/2,e.y+e.height/2],n=T.D_(Yu),o=t;while(o&&!o.isGeoSVGGraphicRoot)T.lK(n,o.getLocalTransform(),n),o=o.parent;return T.B8(n,n),D.NW(i,i,n),i},e}(qu),ec=(0,u.nt)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ic=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=(0,u.nt)(),this._freedGraphics=[],this._mapName=t,this._parsedXML=mu(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=oc(t.named),i=e.regions,n=e.regionsMap;this._regions=i,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,i;try{e=t&&Wu(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=e.root,(0,u.vA)(null!=i)}catch(m){throw new Error("Invalid svg format\n"+m.message)}var n=new Fn.A;n.add(i),n.isGeoSVGGraphicRoot=!0;var o=e.width,r=e.height,a=e.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,h=void 0,c=void 0,d=void 0;if(null!=o?(l=0,c=o):a&&(l=a.x,c=a.width),null!=r?(h=0,d=r):a&&(h=a.y,d=a.height),null==l||null==h){var p=i.getBoundingRect();null==l&&(l=p.x,c=p.width),null==h&&(h=p.y,d=p.height)}s=this._boundingRect=new y.A(l,h,c,d)}if(a){var g=Fu(a,s);i.scaleX=i.scaleY=g.scale,i.x=g.x,i.y=g.y}n.setClipPath(new vo.A({shape:s.plain()}));var f=[];return(0,u.__)(e.named,(function(t){null!=ec.get(t.svgNodeTagLower)&&(f.push(t),nc(t.el))})),{root:n,boundingRect:s,named:f}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},t}();function nc(t){t.silent=!1,t.isGroup&&t.traverse((function(t){t.silent=!1}))}function oc(t){var e=[],i=(0,u.nt)();return(0,u.__)(t,(function(t){if(null==t.namedFrom){var n=new tc(t.name,t.el);e.push(n),i.set(t.name,n)}})),{regions:e,regionsMap:i}}function rc(t){if(!t.UTF8Encoding)return t;var e=t,i=e.UTF8Scale;null==i&&(i=1024);var n=e.features;return u.__(n,(function(t){var e=t.geometry,n=e.encodeOffsets,o=e.coordinates;if(n)switch(e.type){case"LineString":e.coordinates=sc(o,n,i);break;case"Polygon":ac(o,n,i);break;case"MultiLineString":ac(o,n,i);break;case"MultiPolygon":u.__(o,(function(t,e){return ac(t,n[e],i)}))}})),e.UTF8Encoding=!1,e}function ac(t,e,i){for(var n=0;n<t.length;n++)t[n]=sc(t[n],e[n],i)}function sc(t,e,i){for(var n=[],o=e[0],r=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=r,o=s,r=l,n.push([s/i,l/i])}return n}function lc(t,e){return t=rc(t),u.Tj(u.pb(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var i=t.properties,n=t.geometry,o=[];switch(n.type){case"Polygon":var r=n.coordinates;o.push(new Ku(r[0],r.slice(1)));break;case"MultiPolygon":u.__(n.coordinates,(function(t){t[0]&&o.push(new Ku(t[0],t.slice(1)))}));break;case"LineString":o.push(new Ju([n.coordinates]));break;case"MultiLineString":o.push(new Ju(n.coordinates))}var a=new Qu(i[e||"name"],o,i.cp);return a.properties=i,a}))}for(var hc=[126,25],uc="南海诸岛",cc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],dc=0;dc<cc.length;dc++)for(var pc=0;pc<cc[dc].length;pc++)cc[dc][pc][0]/=10.5,cc[dc][pc][1]/=-14,cc[dc][pc][0]+=hc[0],cc[dc][pc][1]+=hc[1];function gc(t,e){if("china"===t){for(var i=0;i<e.length;i++)if(e[i].name===uc)return;e.push(new Qu(uc,u.Tj(cc,(function(t){return{type:"polygon",exterior:t}})),hc))}}var fc={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function mc(t,e){if("china"===t){var i=fc[e.name];if(i){var n=e.getCenter();n[0]+=i[0]/10.5,n[1]+=-i[1]/14,e.setCenter(n)}}}var yc=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function vc(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:yc[0]})}var xc="name",_c=function(){function t(t,e,i){this.type="geoJSON",this._parsedMap=(0,u.nt)(),this._mapName=t,this._specialAreas=i,this._geoJSON=wc(e)}return t.prototype.load=function(t,e){e=e||xc;var i=this._parsedMap.get(e);if(!i){var n=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:n,boundingRect:bc(n)})}var o=(0,u.nt)(),r=[];return(0,u.__)(i.regions,(function(e){var i=e.name;t&&(0,u.$3)(t,i)&&(e=e.cloneShallow(i=t[i])),r.push(e),o.set(i,e)})),{regions:r,boundingRect:i.boundingRect||new y.A(0,0,0,0),regionsMap:o}},t.prototype._parseToRegions=function(t){var e,i=this._mapName,n=this._geoJSON;try{e=n?lc(n,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return gc(i,e),(0,u.__)(e,(function(t){var e=t.name;mc(i,t),vc(i,t);var n=this._specialAreas&&this._specialAreas[e];n&&t.transformTo(n.left,n.top,n.width,n.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function bc(t){for(var e,i=0;i<t.length;i++){var n=t[i].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function wc(t){return(0,u.Kg)(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var Mc=(0,u.nt)(),Sc={registerMap:function(t,e,i){if(e.svg){var n=new ic(t,e.svg);Mc.set(t,n)}else{var o=e.geoJson||e.geoJSON;o&&!e.features?i=e.specialAreas:o=e;n=new _c(t,o,i);Mc.set(t,n)}},getGeoResource:function(t){return Mc.get(t)},getMapForUser:function(t){var e=Mc.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,i){var n=Mc.get(t);if(n)return n.load(e,i)}},Ic=i(6868),Ac=i(1519),Cc=["rect","circle","line","ellipse","polygon","polyline","path"],Tc=u.nt(Cc),Dc=u.nt(Cc.concat(["g"])),Lc=u.nt(Cc.concat(["g"])),kc=(0,m.$r)();function Pc(t){var e=t.getItemStyle(),i=t.get("areaColor");return null!=i&&(e.fill=i),e}function Oc(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Nc=function(){function t(t){var e=new Fn.A;this.uid=(0,dr.$Q)("ec_map_draw"),this._controller=new su(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Fn.A),e.add(this._svgGroup=new Fn.A)}return t.prototype.draw=function(t,e,i,n,o){var r="geo"===t.mainType,a=t.getData&&t.getData();r&&e.eachComponent({mainType:"series",subType:"map"},(function(e){a||e.getHostGeoModel()!==t||(a=e.getData())}));var s=t.coordinateSystem,l=this._regionsGroup,h=this.group,u=s.getTransformInfo(),c=u.raw,d=u.roam,p=!l.childAt(0)||o;p?(h.x=d.x,h.y=d.y,h.scaleX=d.scaleX,h.scaleY=d.scaleY,h.dirty()):v.oi(h,d,t);var g=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,f={api:i,geo:s,mapOrGeoModel:t,data:a,isVisualEncodedByVisualMap:g,isGeo:r,transformInfoRaw:c};"geoJSON"===s.resourceType?this._buildGeoJSON(f):"geoSVG"===s.resourceType&&this._buildSVG(f),this._updateController(t,e,i),this._updateMapSelectHandler(t,l,i,n)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=u.nt(),i=u.nt(),n=this._regionsGroup,o=t.transformInfoRaw,r=t.mapOrGeoModel,a=t.data,s=t.geo.projection,l=s&&s.stream;function h(t,e){return e&&(t=e(t)),t&&[t[0]*o.scaleX+o.x,t[1]*o.scaleY+o.y]}function c(t){for(var e=[],i=!l&&s&&s.project,n=0;n<t.length;++n){var o=h(t[n],i);o&&e.push(o)}return e}function d(t){return{shape:{points:c(t)}}}n.removeAll(),u.__(t.geo.regions,(function(o){var c=o.name,p=e.get(c),g=i.get(c)||{},f=g.dataIdx,m=g.regionModel;p||(p=e.set(c,new Fn.A),n.add(p),f=a?a.indexOfName(c):null,m=t.isGeo?r.getRegionModel(c):a?a.getItemModel(f):null,i.set(c,{dataIdx:f,regionModel:m}));var y=[],v=[];u.__(o.geometries,(function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=Fc(e,l)),u.__(e,(function(t){y.push(new Lh.A(d(t)))}))}else{var i=t.points;l&&(i=Fc(i,l,!0)),u.__(i,(function(t){v.push(new S.A(d(t)))}))}}));var x=h(o.getCenter(),s&&s.project);function _(e,i){if(e.length){var n=new be.A({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});p.add(n),Rc(t,n,f,m),Ec(t,n,c,m,r,f,x),i&&(Oc(n),u.__(n.states,Oc))}}_(y),_(v,!0)})),e.each((function(e,n){var o=i.get(n),a=o.dataIdx,s=o.regionModel;zc(t,e,n,s,r,a),Vc(t,e,n,s,r),Bc(t,e,n,s,r)}),this)},t.prototype._buildSVG=function(t){var e=t.geo.map,i=t.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var n=this._svgDispatcherMap=u.nt(),o=!1;u.__(this._svgGraphicRecord.named,(function(e){var i=e.name,r=t.mapOrGeoModel,a=t.data,s=e.svgNodeTagLower,l=e.el,h=a?a.indexOfName(i):null,u=r.getRegionModel(i);if(null!=Tc.get(s)&&l instanceof Ac.Ay&&Rc(t,l,h,u),l instanceof Ac.Ay&&(l.culling=!0),l.z2EmphasisLift=0,!e.namedFrom&&(null!=Lc.get(s)&&Ec(t,l,i,u,r,h,null),zc(t,l,i,u,r,h),Vc(t,l,i,u,r),null!=Dc.get(s))){var c=Bc(t,l,i,u,r);"self"===c&&(o=!0);var d=n.get(i)||n.set(i,[]);d.push(l)}}),this),this._enableBlurEntireSVG(o,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),n=i.opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){(0,L.DW)(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=n&&(e.opacity=n),t.ensureState("emphasis")}}))}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var i=e.coordinateSystem;if("geoJSON"===i.resourceType){var n=this._regionsGroupByName;if(n){var o=n.get(t);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=Sc.getGeoResource(t);if(e&&"geoSVG"===e.type){var i=e.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Sc.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,i){var n=t.coordinateSystem,o=this._controller,r=this._controllerHost;r.zoomLimit=t.get("scaleLimit"),r.zoom=n.getZoom(),o.enable(t.get("roam")||!1);var a=t.mainType;function s(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}o.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,lu(r,t.dx,t.dy),i.dispatchAction(u.X$(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),o.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,hu(r,t.scale,t.originX,t.originY),i.dispatchAction(u.X$(s(),{totalZoom:r.zoom,zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),o.setPointerChecker((function(e,o,r){return n.containPoint([o,r])&&!cu(e,i,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();e&&(e.ignore=kc(e).ignore)}))},t.prototype._updateMapSelectHandler=function(t,e,i,n){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",(function(){o._mouseDownFlag=!0})),e.on("click",(function(t){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},t}();function Rc(t,e,i,n){var o=n.getModel("itemStyle"),r=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=Pc(o),h=Pc(r),u=Pc(s),c=Pc(a),d=t.data;if(d){var p=d.getItemVisual(i,"style"),g=d.getItemVisual(i,"decal");t.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),g&&(l.decal=(0,Ic.w)(g,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=h,e.ensureState("select").style=u,e.ensureState("blur").style=c,(0,L.DW)(e)}function Ec(t,e,i,n,o,r,a){var s=t.data,l=t.isGeo,h=s&&isNaN(s.get(s.mapDimension("value"),r)),u=s&&s.getItemLayout(r);if(l||h||u&&u.showLabel){var c=l?i:r,d=void 0;(!s||r>=0)&&(d=o);var p=a?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,st.qM)(e,(0,st.lx)(n),{labelFetcher:d,labelDataIndex:c,defaultText:i},p);var g=e.getTextContent();if(g&&(kc(g).ignore=g.ignore,e.textConfig&&a)){var f=e.getBoundingRect().clone();e.textConfig.layoutRect=f,e.textConfig.position=[(a[0]-f.x)/f.width*100+"%",(a[1]-f.y)/f.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function zc(t,e,i,n,o,r){t.data?t.data.setItemGraphicEl(r,e):(0,x.z)(e).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:i,region:n&&n.option||{}}}function Vc(t,e,i,n,o){t.data||Hn.setTooltipConfig({el:e,componentModel:o,itemName:i,itemTooltipOption:n.get("tooltip")})}function Bc(t,e,i,n,o){e.highDownSilentOnTouch=!!o.get("selectedMode");var r=n.getModel("emphasis"),a=r.get("focus");return(0,L.Lm)(e,a,r.get("blurScope"),r.get("disabled")),t.isGeo&&(0,L.ml)(e,o,i),a}function Fc(t,e,i){var n,o=[];function r(){n=[]}function a(){n.length&&(o.push(n),n=[])}var s=e({polygonStart:r,polygonEnd:a,lineStart:r,lineEnd:a,point:function(t,e){isFinite(t)&&isFinite(e)&&n.push([t,e])},sphere:function(){}});return!i&&s.polygonStart(),u.__(t,(function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()})),!i&&s.polygonEnd(),o}var Wc=Nc,Gc=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&n&&"geoRoam"===n.type&&this._mapDraw.resetForLabelLayout(),n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===t.id){r=this._mapDraw;r&&o.add(r.group)}else if(t.needsDrawMap){var r=this._mapDraw||new Wc(i);o.add(r.group),r.draw(t,e,i,this,n),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,i){var n=t.originalData,o=this.group;n.each(n.mapDimension("value"),(function(e,i){if(!isNaN(e)){var r=n.getItemLayout(i);if(r&&r.point){var a=r.point,s=r.offset,l=new Fh.A({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:L.CA+1)});if(!s){var h=t.mainSeries.getData(),u=n.getName(i),c=h.indexOfName(u),d=n.getItemModel(i),p=d.getModel("label"),g=h.getItemGraphicEl(c);(0,st.qM)(l,(0,st.lx)(d),{labelFetcher:{getFormattedLabel:function(e,i){return t.getFormattedLabel(c,i)}},defaultText:u}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),g.onHoverStateChange=function(t){(0,L.Pk)(l,t)}}o.add(l)}}}))},e.type="map",e}(s.A),Hc=Gc,Xc=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.needsDrawMap=!1,i.seriesGroup=[],i.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&&i.dataToPoint(n.getCenter())}},i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t){for(var e=ga(this,{coordDimensions:["value"],encodeDefaulter:u.cF(xn.ln,this)}),i=u.nt(),n=[],o=0,r=e.count();o<r;o++){var a=e.getName(o);i.set(a,!0)}var s=Sc.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return u.__(s.regions,(function(t){var e=t.name;i.get(e)||n.push(e)})),e.appendValues([],n),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,i){for(var n=this.getData(),o=this.getRawValue(t),r=n.getName(t),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var h=a[l].originalData.indexOfName(r),u=n.mapDimension("value");isNaN(a[l].originalData.get(u,h))||s.push(a[l].name)}return(0,Oh.Qx)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,Oh.Qx)("nameValue",{name:r,value:o})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",i=(0,Bn.v5)(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",e.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(h.A),jc=Xc;function Yc(t,e){var i={};return u.__(t,(function(t){t.each(t.mapDimension("value"),(function(e,n){var o="ec-"+t.getName(n);i[o]=i[o]||[],isNaN(e)||i[o].push(e)}))})),t[0].map(t[0].mapDimension("value"),(function(n,o){for(var r,a="ec-"+t[0].getName(o),s=0,l=1/0,h=-1/0,u=i[a].length,c=0;c<u;c++)l=Math.min(l,i[a][c]),h=Math.max(h,i[a][c]),s+=i[a][c];return r="min"===e?l:"max"===e?h:"average"===e?s/u:s,0===u?NaN:r}))}function $c(t){var e={};t.eachSeriesByType("map",(function(t){var i=t.getHostGeoModel(),n=i?"o"+i.id:"i"+t.getMapType();(e[n]=e[n]||[]).push(t)})),u.__(e,(function(t,e){for(var i=Yc(u.Tj(t,(function(t){return t.getData()})),t[0].get("mapValueCalculation")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(n=0;n<t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n&&!t[n].getHostGeoModel(),t[n].setData(i.cloneShallow()),t[n].mainSeries=t[0]}))}function Uc(t){var e={};t.eachSeriesByType("map",(function(i){var n=i.getMapType();if(!i.getHostGeoModel()&&!e[n]){var o={};u.__(i.seriesGroup,(function(e){var i=e.coordinateSystem,n=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each(n.mapDimension("value"),(function(t,e){var r=n.getName(e),a=i.getRegion(r);if(a&&!isNaN(t)){var s=o[r]||0,l=i.dataToPoint(a.getCenter());o[r]=s+1,n.setItemLayout(e,{point:l,offset:s})}}))}));var r=i.getData();r.each((function(t){var e=r.getName(t),i=r.getItemLayout(t)||{};i.showLabel=!o[e],r.setItemLayout(t,i)})),e[n]=!0}}))}var Zc=D.NW,qc=function(t){function e(e){var i=t.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new b.Ay,i._rawTransformable=new b.Ay,i.name=e,i}return(0,Pi.C6)(e,t),e.prototype.setBoundingRect=function(t,e,i,n){return this._rect=new y.A(t,e,i,n),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,i,n){this._transformTo(t,e,i,n),this._viewRect=new y.A(t,e,i,n)},e.prototype._transformTo=function(t,e,i,n){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new y.A(t,e,i,n));var a=r.parent;r.parent=null,r.decomposeTransform(),r.parent=a,this._updateTransform()},e.prototype.setCenter=function(t,e){t&&(this._center=[(0,_.lo)(t[0],e.getWidth()),(0,_.lo)(t[1],e.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),e=t.x+t.width/2,i=t.y+t.height/2;return[e,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=D.NW([],n,t),i=D.NW([],i,t),e.originX=n[0],e.originY=n[1],e.x=i[0]-n[0],e.y=i[1]-n[1],e.scaleX=e.scaleY=o,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),T.C(this.transform||(this.transform=[]),e.transform||T.vt()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],T.B8(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,i=new b.Ay;return i.transform=e.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?Zc(i,t,n):D.C(i,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?Zc([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,i){var n=Kc(e);return n===this?n.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,e,i){var n=Kc(e);return n===this?n.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(b.Ay);function Kc(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var Jc=qc,Qc={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},td=["lng","lat"],ed=function(t){function e(e,i,n){var o=t.call(this,e)||this;o.dimensions=td,o.type="geo",o._nameCoordMap=u.nt(),o.map=i;var r,a=n.projection,s=Sc.load(i,n.nameMap,n.nameProperty),l=Sc.getGeoResource(i),h=(o.resourceType=l?l.type:null,o.regions=s.regions),c=Qc[l.type];if(o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a,a)for(var d=0;d<h.length;d++){var p=h[d].getBoundingRect(a);r=r||p.clone(),r.union(p)}else r=s.boundingRect;return o.setBoundingRect(r.x,r.y,r.width,r.height),o.aspectScale=a?1:u.bZ(n.aspectScale,c.aspectScale),o._invertLongitute=!a&&c.invertLongitute,o}return(0,Pi.C6)(e,t),e.prototype._transformTo=function(t,e,i,n){var o=this.getBoundingRect(),r=this._invertLongitute;o=o.clone(),r&&(o.y=-o.y-o.height);var a=this._rawTransformable;a.transform=o.calculateTransform(new y.A(t,e,i,n));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,r&&(a.scaleY=-a.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,i=0;i<e.length;i++){var n=e[i];if("geoJSON"===n.type&&n.contain(t))return e[i]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,i){if(u.Kg(t)&&(t=this.getGeoCoord(t)),t){var n=this.projection;return n&&(t=n.project(t)),t&&this.projectedToPoint(t,e,i)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,i,n){return t.prototype.dataToPoint.call(this,e,i,n)},e.prototype.convertToPixel=function(t,e,i){var n=id(e);return n===this?n.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,e,i){var n=id(e);return n===this?n.pointToData(i):null},e}(Jc);function id(t){var e=t.geoModel,i=t.seriesModel;return e?e.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",m.US).models[0]||{}).coordinateSystem:null}u.co(ed,Jc);var nd=ed;function od(t,e){var i=t.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(o[0])&&isFinite(o[1])){var r=this.projection;if(r){var a=n[0],s=n[1],l=o[0],h=o[1];n=[1/0,1/0],o=[-1/0,-1/0];var u=function(t,e,i,a){for(var s=i-t,l=a-e,h=0;h<=100;h++){var u=h/100,c=r.project([t+s*u,e+l*u]);D.jk(n,n,c),D.T9(o,o,c)}};u(a,s,l,s),u(l,s,l,h),u(l,h,a,h),u(a,h,l,s)}this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}else 0}var c,d,p,g=this.getBoundingRect(),f=t.get("layoutCenter"),m=t.get("layoutSize"),y=e.getWidth(),v=e.getHeight(),x=g.width/g.height*this.aspectScale,b=!1;if(f&&m&&(c=[_.lo(f[0],y),_.lo(f[1],v)],d=_.lo(m,Math.min(y,v)),isNaN(c[0])||isNaN(c[1])||isNaN(d)||(b=!0)),b)p={},x>1?(p.width=d,p.height=d/x):(p.height=d,p.width=d*x),p.y=c[1]-p.height/2,p.x=c[0]-p.width/2;else{var w=t.getBoxLayoutParams();w.aspect=x,p=Kr.dV(w,{width:y,height:v})}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}function rd(t,e){u.__(e.get("geoCoord"),(function(e,i){t.addGeoCoord(i,e)}))}var ad=function(){function t(){this.dimensions=td}return t.prototype.create=function(t,e){var i=[];function n(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,o){var r=t.get("map"),a=new nd(r+o,r,u.X$({nameMap:t.get("nameMap")},n(t)));a.zoomLimit=t.get("scaleLimit"),i.push(a),t.coordinateSystem=a,a.model=t,a.resize=od,a.resize(t,e)})),t.eachSeries((function(t){var e=t.get("coordinateSystem");if("geo"===e){var n=t.get("geoIndex")||0;t.coordinateSystem=i[n]}}));var o={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();o[e]=o[e]||[],o[e].push(t)}})),u.__(o,(function(t,o){var r=u.Tj(t,(function(t){return t.get("nameMap")})),a=new nd(o,o,u.X$({nameMap:u.Um(r)},n(t[0])));a.zoomLimit=u.Je.apply(null,u.Tj(t,(function(t){return t.get("scaleLimit")}))),i.push(a),a.resize=od,a.resize(t[0],e),u.__(t,(function(t){t.coordinateSystem=a,rd(a,t)}))})),i},t.prototype.getFilledRegions=function(t,e,i,n){for(var o=(t||[]).slice(),r=u.nt(),a=0;a<o.length;a++)r.set(o[a].name,o[a]);var s=Sc.load(e,i,n);return u.__(s.regions,(function(t){var e=t.name;!r.get(e)&&o.push({name:e})})),o},t}(),sd=new ad,ld=sd,hd=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e,i){var n=Sc.getGeoResource(t.map);if(n&&"geoJSON"===n.type){var o=t.itemStyle=t.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(t,i),m.M5(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=ld.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var i={};this._optionModelMap=u.TS(e.regions||[],(function(e,n){var o=n.name;return o&&(e.set(o,new Oi.A(n,t,t.ecModel)),n.selected&&(i[o]=!0)),e}),u.nt()),e.selectedMap||(e.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Oi.A(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var i=this.getRegionModel(t),n="normal"===e?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:t};return u.Tn(n)?(o.status=e,n(o)):u.Kg(n)?n.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,i=e.selectedMode;if(i){"multiple"!==i&&(e.selectedMap=null);var n=e.selectedMap||(e.selectedMap={});n[t]=!0}},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(l.A),ud=hd;function cd(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function dd(t,e,i,n){var o=t.getZoom(),r=t.getCenter(),a=e.zoom,s=t.projectedToPoint?t.projectedToPoint(r):t.dataToPoint(r);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(cd(t,s),n)),null!=a){if(i){var l=i.min||0,h=i.max||1/0;a=Math.max(Math.min(o*a,h),l)/o}t.scaleX*=a,t.scaleY*=a;var u=(e.originX-t.x)*(a-1),c=(e.originY-t.y)*(a-1);t.x-=u,t.y-=c,t.updateTransform(),t.setCenter(cd(t,s),n),t.setZoom(a*o)}return{center:t.getCenter(),zoom:t.getZoom()}}var pd=i(7411),gd=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.focusBlurEnabled=!0,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,i,n){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Wc(i));var o=this._mapDraw;o.draw(t,e,i,this,n),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,e,i)},e.prototype._handleRegionClick=function(t){var e;(0,pd.R)(t.target,(function(t){return null!=(e=(0,x.z)(t).eventData)}),!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,i){var n=this;this._mapDraw.group.traverse((function(t){var e=(0,x.z)(t).eventData;if(e)return n._model.isSelected(e.name)?i.enterSelect(t):i.leaveSelect(t),!0}))},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(a.A),fd=gd;function md(t,e,i){Sc.registerMap(t,e,i)}function yd(t){function e(e,i){i.update="geo:updateSelectStatus",t.registerAction(i,(function(t,i){var n={},o=[];return i.eachComponent({mainType:"geo",query:t},(function(i){i[e](t.name);var r=i.coordinateSystem;(0,u.__)(r.regions,(function(t){n[t.name]=i.isSelected(t.name)||!1}));var a=[];(0,u.__)(n,(function(t,e){n[e]&&a.push(e)})),o.push({geoIndex:i.componentIndex,name:a})})),{selected:n,allSelected:o,name:t.name}}))}t.registerCoordinateSystem("geo",ld),t.registerComponentModel(ud),t.registerComponentView(fd),t.registerImpl("registerMap",md),t.registerImpl("getMap",(function(t){return Sc.getMapForUser(t)})),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e,i){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){var o=e.coordinateSystem;if("geo"===o.type){var r=dd(o,t,e.get("scaleLimit"),i);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom),"series"===n&&(0,u.__)(e.seriesGroup,(function(t){t.setCenter(r.center),t.setZoom(r.zoom)}))}}))}))}function vd(t){f(yd),t.registerChartView(Hc),t.registerSeriesModel(jc),t.registerLayout(Uc),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,$c),(0,qr.I)("map",t.registerAction)}var xd=i(3849);function _d(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var i,n,o=[e];while(i=o.pop())if(n=i.children,i.isExpand&&n.length)for(var r=n.length,a=r-1;a>=0;a--){var s=n[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},o.push(s)}}function bd(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,o=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){Ad(t);var r=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-r):t.hierNode.prelim=r}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=Cd(t,o,t.parentNode.hierNode.defaultAncestor||n[0],e)}function wd(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Md(t){return arguments.length?t:Pd}function Sd(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function Id(t,e){return Kr.dV(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ad(t){var e=t.children,i=e.length,n=0,o=0;while(--i>=0){var r=e[i];r.hierNode.prelim+=n,r.hierNode.modifier+=n,o+=r.hierNode.change,n+=r.hierNode.shift+o}}function Cd(t,e,i,n){if(e){var o=t,r=t,a=r.parentNode.children[0],s=e,l=o.hierNode.modifier,h=r.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier;while(s=Td(s),r=Dd(r),s&&r){o=Td(o),a=Dd(a),o.hierNode.ancestor=t;var d=s.hierNode.prelim+c-r.hierNode.prelim-h+n(s,r);d>0&&(kd(Ld(s,t,i),t,d),h+=d,l+=d),c+=s.hierNode.modifier,h+=r.hierNode.modifier,l+=o.hierNode.modifier,u+=a.hierNode.modifier}s&&!Td(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=c-l),r&&!Dd(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=h-u,i=t)}return i}function Td(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Dd(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Ld(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function kd(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function Pd(t,e){return t.parentNode===e.parentNode?1:2}var Od=i(8813),Nd=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),Rd=function(t){function e(e){return t.call(this,e)||this}return(0,Pi.C6)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Nd},e.prototype.buildPath=function(t,e){var i=e.childPoints,n=i.length,o=e.parentPoint,r=i[0],a=i[n-1];if(1===n)return t.moveTo(o[0],o[1]),void t.lineTo(r[0],r[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,h=1-l,u=(0,_.lo)(e.forkPosition,1),c=[];c[l]=o[l],c[h]=o[h]+(a[h]-o[h])*u,t.moveTo(o[0],o[1]),t.lineTo(c[0],c[1]),t.moveTo(r[0],r[1]),c[l]=r[l],t.lineTo(c[0],c[1]),c[l]=a[l],t.lineTo(c[0],c[1]),t.lineTo(a[0],a[1]);for(var d=1;d<n-1;d++){var p=i[d];t.moveTo(p[0],p[1]),c[l]=p[l],t.lineTo(c[0],c[1])}},e}(M.Ay),Ed=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._mainGroup=new Fn.A,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){this._controller=new su(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,i){var n=t.getData(),o=t.layoutInfo,r=this._mainGroup,a=t.get("layout");"radial"===a?(r.x=o.x+o.width/2,r.y=o.y+o.height/2):(r.x=o.x,r.y=o.y),this._updateViewCoordSys(t,i),this._updateController(t,e,i);var s=this._data;n.diff(s).add((function(e){zd(n,e)&&Vd(n,e,null,r,t)})).update((function(e,i){var o=s.getItemGraphicEl(i);zd(n,e)?Vd(n,e,o,r,t):o&&Gd(s,i,o,r,t)})).remove((function(e){var i=s.getItemGraphicEl(e);i&&Gd(s,e,i,r,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&n.eachItemGraphicEl((function(e,n){e.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:n})}))})),this._data=n},e.prototype._updateViewCoordSys=function(t,e){var i=t.getData(),n=[];i.each((function(t){var e=i.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||n.push([+e.x,+e.y])}));var o=[],r=[];Od.Cr(n,o,r);var a=this._min,s=this._max;r[0]-o[0]===0&&(o[0]=a?a[0]:o[0]-1,r[0]=s?s[0]:r[0]+1),r[1]-o[1]===0&&(o[1]=a?a[1]:o[1]-1,r[1]=s?s[1]:r[1]+1);var l=t.coordinateSystem=new Jc;l.zoomLimit=t.get("scaleLimit"),l.setBoundingRect(o[0],o[1],r[0]-o[0],r[1]-o[1]),l.setCenter(t.get("center"),e),l.setZoom(t.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=o,this._max=r},e.prototype._updateController=function(t,e,i){var n=this,o=this._controller,r=this._controllerHost,a=this.group;o.setPointerChecker((function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)&&!cu(e,i,t)})),o.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){lu(r,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){hu(r,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),n._updateNodeAndLinkScale(t),i.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),i=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(i)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scaleX||1,o=e.getZoom(),r=(o-1)*i+1;return r/n},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(s.A);function zd(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)}function Vd(t,e,i,n,o){var r=!i,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,h=!1===a.isExpand&&0!==a.children.length?l:"#fff",c=t.tree.root,d=a.parentNode===c?a:a.parentNode||a,p=t.getItemGraphicEl(d.dataIndex),g=d.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:g,m=a.getLayout();r?(i=new Un(t,e,null,{symbolInnerColor:h,useNameLabel:!0}),i.x=f.x,i.y=f.y):i.updateData(t,e,null,{symbolInnerColor:h,useNameLabel:!0}),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=m.rawX,i.__radialRawY=m.rawY,n.add(i),t.setItemGraphicEl(e,i),i.__oldX=i.x,i.__oldY=i.y,v.oi(i,{x:m.x,y:m.y},o);var y=i.getSymbolPath();if("radial"===o.get("layout")){var _=c.children[0],b=_.getLayout(),w=_.children.length,M=void 0,S=void 0;if(m.x===b.x&&!0===a.isExpand&&_.children.length){var I={x:(_.children[0].getLayout().x+_.children[w-1].getLayout().x)/2,y:(_.children[0].getLayout().y+_.children[w-1].getLayout().y)/2};M=Math.atan2(I.y-b.y,I.x-b.x),M<0&&(M=2*Math.PI+M),S=I.x<b.x,S&&(M-=Math.PI)}else M=Math.atan2(m.y-b.y,m.x-b.x),M<0&&(M=2*Math.PI+M),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(S=m.x<b.x,S&&(M-=Math.PI)):(S=m.x>b.x,S||(M-=Math.PI));var A=S?"left":"right",C=s.getModel("label"),T=C.get("rotate"),D=T*(Math.PI/180),k=y.getTextContent();k&&(y.setTextConfig({position:C.get("position")||A,rotation:null==T?-M:D,origin:"center"}),k.setStyle("verticalAlign","middle"))}var P=s.get(["emphasis","focus"]),O="relative"===P?u.yB(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===P?a.getAncestorsIndices():"descendant"===P?a.getDescendantIndices():null;O&&((0,x.z)(i).focus=O),Bd(o,a,c,i,f,g,m,n),i.__edge&&(i.onHoverStateChange=function(e){if("blur"!==e){var n=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);n&&n.hoverState===L.zX||(0,L.Pk)(i.__edge,e)}})}function Bd(t,e,i,n,o,r,a,s){var l=e.getModel(),h=t.get("edgeShape"),c=t.get("layout"),d=t.getOrient(),p=t.get(["lineStyle","curveness"]),g=t.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),m=n.__edge;if("curve"===h)e.parentNode&&e.parentNode!==i&&(m||(m=n.__edge=new xd.A({shape:Hd(c,d,p,o,o)})),v.oi(m,{shape:Hd(c,d,p,r,a)},t));else if("polyline"===h)if("orthogonal"===c){if(e!==i&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var y=e.children,x=[],_=0;_<y.length;_++){var b=y[_].getLayout();x.push([b.x,b.y])}m||(m=n.__edge=new Rd({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:g}})),v.oi(m,{shape:{parentPoint:[a.x,a.y],childPoints:x}},t)}}else 0;m&&("polyline"!==h||e.isExpand)&&(m.useStyle(u.NT({strokeNoScale:!0,fill:null},f)),(0,L.Mx)(m,l,"lineStyle"),(0,L.DW)(m),s.add(m))}function Fd(t,e,i,n,o){var r=e.tree.root,a=Wd(r,t),s=a.source,l=a.sourceLayout,h=e.getItemGraphicEl(t.dataIndex);if(h){var u=e.getItemGraphicEl(s.dataIndex),c=u.__edge,d=h.__edge||(!1===s.isExpand||1===s.children.length?c:void 0),p=n.get("edgeShape"),g=n.get("layout"),f=n.get("orient"),m=n.get(["lineStyle","curveness"]);d&&("curve"===p?v.Nz(d,{shape:Hd(g,f,m,l,l),style:{opacity:0}},n,{cb:function(){i.remove(d)},removeOpt:o}):"polyline"===p&&"orthogonal"===n.get("layout")&&v.Nz(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){i.remove(d)},removeOpt:o}))}}function Wd(t,e){var i,n=e.parentNode===t?e:e.parentNode||e;while(i=n.getLayout(),null==i)n=n.parentNode===t?n:n.parentNode||n;return{source:n,sourceLayout:i}}function Gd(t,e,i,n,o){var r=t.tree.getNodeByDataIndex(e),a=t.tree.root,s=Wd(a,r).sourceLayout,l={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};v.Nz(i,{x:s.x+1,y:s.y+1},o,{cb:function(){n.remove(i),t.setItemGraphicEl(e,null)},removeOpt:l}),i.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:l}),r.children.forEach((function(e){Fd(e,t,n,o,l)})),Fd(r,t,n,o,l)}function Hd(t,e,i,n,o){var r,a,s,l,h,u,c,d;if("radial"===t){h=n.rawX,c=n.rawY,u=o.rawX,d=o.rawY;var p=Sd(h,c),g=Sd(h,c+(d-c)*i),f=Sd(u,d+(c-d)*i),m=Sd(u,d);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return h=n.x,c=n.y,u=o.x,d=o.y,"LR"!==e&&"RL"!==e||(r=h+(u-h)*i,a=c,s=u+(h-u)*i,l=d),"TB"!==e&&"BT"!==e||(r=h,a=c+(d-c)*i,s=u,l=d+(c-d)*i),{x1:h,y1:c,x2:u,y2:d,cpx1:r,cpy1:a,cpx2:s,cpy2:l}}var Xd=Ed,jd=(0,m.$r)();function Yd(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,Qd(e,i,t),(0,u.__)(i,(function(i){(0,u.__)(e.TRANSFERABLE_METHODS,(function(e){i.wrapMethod(e,(0,u.cF)($d,t))}))})),e.wrapMethod("cloneShallow",(0,u.cF)(Zd,t)),(0,u.__)(e.CHANGABLE_METHODS,(function(i){e.wrapMethod(i,(0,u.cF)(Ud,t))})),(0,u.vA)(i[e.dataType]===e)}function $d(t,e){if(Jd(this)){var i=(0,u.X$)({},jd(this).datas);i[this.dataType]=e,Qd(e,i,t)}else tp(e,this.dataType,jd(this).mainData,t);return e}function Ud(t,e){return t.struct&&t.struct.update(),e}function Zd(t,e){return(0,u.__)(jd(e).datas,(function(i,n){i!==e&&tp(i.cloneShallow(),n,e,t)})),e}function qd(t){var e=jd(this).mainData;return null==t||null==e?e:jd(e).datas[t]}function Kd(){var t=jd(this).mainData;return null==t?[{data:t}]:(0,u.Tj)((0,u.HP)(jd(t).datas),(function(e){return{type:e,data:jd(t).datas[e]}}))}function Jd(t){return jd(t).mainData===t}function Qd(t,e,i){jd(t).datas={},(0,u.__)(e,(function(e,n){tp(e,n,t,i)}))}function tp(t,e,i,n){jd(i).datas[e]=t,jd(t).mainData=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=qd,t.getLinkedDataAll=Kd}var ep=Yd,ip=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,i){u.Tn(t)&&(i=e,e=t,t=null),t=t||{},u.Kg(t)&&(t={order:t});var n,o=t.order||"preorder",r=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var a=0;!n&&a<r.length;a++)r[a].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},t.prototype.getAncestors=function(t){var e=[],i=t?this:this.parentNode;while(i)e.push(i),i=i.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){var t=[],e=this;while(e)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,i=e.data.getItemModel(this.dataIndex);return i.getModel(t)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){var e=t.parentNode;while(e){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),np=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,i){this.root.eachNode(t,e,i)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,i,n){var o=new t(i),r=[],a=1;function s(t,e){var i=t.value;a=Math.max(a,u.cy(i)?i.length:1),r.push(t);var n=new ip((0,m.vS)(t.name,""),o);e?op(n,e):o.root=n,o._nodes.push(n);var l=t.children;if(l)for(var h=0;h<l.length;h++)s(l[h],n)}s(e),o.root.updateDepthAndHeight(0);var l=_n(r,{coordDimensions:["value"],dimensionsCount:a}).dimensions,h=new vn(l,i);return h.initData(r),n&&n(h),ep({mainData:h,struct:o,structAttr:"tree"}),o.update(),o},t}();function op(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e)}var rp=np;function ap(t,e,i){if(t&&u.qh(e,t.type)>=0){var n=i.getData().tree.root,o=t.targetNode;if(u.Kg(o)&&(o=n.getNodeById(o)),o&&n.contains(o))return{node:o};var r=t.targetNodeId;if(null!=r&&(o=n.getNodeById(r)))return{node:o}}}function sp(t){var e=[];while(t)t=t.parentNode,t&&e.push(t);return e.reverse()}function lp(t,e){var i=sp(t);return u.qh(i,e)>=0}function hp(t,e){var i=[];while(t){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}var up=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n=new Oi.A(i,this,this.ecModel),o=rp.createTree(e,this,r);function r(t){t.wrapMethod("getItemModel",(function(t,e){var i=o.getNodeByDataIndex(e);return i&&i.children.length&&i.isExpand||(t.parentModel=n),t}))}var a=0;o.eachNode("preorder",(function(t){t.depth>a&&(a=t.depth)}));var s=t.expandAndCollapse,l=s&&t.initialTreeDepth>=0?t.initialTreeDepth:a;return o.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=l})),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,i){var n=this.getData().tree,o=n.root.children[0],r=n.getNodeByDataIndex(t),a=r.getValue(),s=r.name;while(r&&r!==o)s=r.parentNode.name+"."+s,r=r.parentNode;return(0,Oh.Qx)("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=hp(n,this),i.collapsed=!n.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(h.A),cp=up;function dp(t,e,i){var n,o=[t],r=[];while(n=o.pop())if(r.push(n),n.isExpand){var a=n.children;if(a.length)for(var s=0;s<a.length;s++)o.push(a[s])}while(n=r.pop())e(n,i)}function pp(t,e){var i,n=[t];while(i=n.pop())if(e(i),i.isExpand){var o=i.children;if(o.length)for(var r=o.length-1;r>=0;r--)n.push(o[r])}}function gp(t,e){t.eachSeriesByType("tree",(function(t){fp(t,e)}))}function fp(t,e){var i=Id(t,e);t.layoutInfo=i;var n=t.get("layout"),o=0,r=0,a=null;"radial"===n?(o=2*Math.PI,r=Math.min(i.height,i.width)/2,a=Md((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(o=i.width,r=i.height,a=Md());var s=t.getData().tree.root,l=s.children[0];if(l){_d(s),dp(l,bd,a),s.hierNode.modifier=-l.hierNode.prelim,pp(l,wd);var h=l,u=l,c=l;pp(l,(function(t){var e=t.getLayout().x;e<h.getLayout().x&&(h=t),e>u.getLayout().x&&(u=t),t.depth>c.depth&&(c=t)}));var d=h===u?1:a(h,u)/2,p=d-h.getLayout().x,g=0,f=0,m=0,y=0;if("radial"===n)g=o/(u.getLayout().x+d+p),f=r/(c.depth-1||1),pp(l,(function(t){m=(t.getLayout().x+p)*g,y=(t.depth-1)*f;var e=Sd(m,y);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:y},!0)}));else{var v=t.getOrient();"RL"===v||"LR"===v?(f=r/(u.getLayout().x+d+p),g=o/(c.depth-1||1),pp(l,(function(t){y=(t.getLayout().x+p)*f,m="LR"===v?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:m,y:y},!0)}))):"TB"!==v&&"BT"!==v||(g=o/(u.getLayout().x+d+p),f=r/(c.depth-1||1),pp(l,(function(t){m=(t.getLayout().x+p)*g,y="TB"===v?(t.depth-1)*f:r-(t.depth-1)*f,t.setLayout({x:m,y:y},!0)})))}}}function mp(t){t.eachSeriesByType("tree",(function(t){var e=t.getData(),i=e.tree;i.eachNode((function(t){var i=t.getModel(),n=i.getModel("itemStyle").getItemStyle(),o=e.ensureUniqueItemVisual(t.dataIndex,"style");(0,u.X$)(o,n)}))}))}function yp(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=t.dataIndex,n=e.getData().tree,o=n.getNodeByDataIndex(i);o.isExpand=!o.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,i){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=e.coordinateSystem,o=dd(n,t,void 0,i);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom)}))}))}function vp(t){t.registerChartView(Xd),t.registerSeriesModel(cp),t.registerLayout(gp),t.registerVisual(mp),yp(t)}var xp=["treemapZoomToNode","treemapRender","treemapMove"];function _p(t){for(var e=0;e<xp.length;e++)t.registerAction({type:xp[e],update:"updateView"},u.lQ);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){function i(e,i){var n=["treemapZoomToNode","treemapRootToNode"],o=ap(t,n,e);if(o){var r=e.getViewRoot();r&&(t.direction=lp(r,o.node)?"rollUp":"drillDown"),e.resetViewRoot(o.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},i)}))}var bp=i(6501);function wp(t){var e=t.getData(),i=e.tree,n={};i.eachNode((function(e){var i=e;while(i&&i.depth>1)i=i.parentNode;var o=(0,bp.x)(t.ecModel,i.name||i.dataIndex+"",n);e.setVisual("decal",o)}))}var Mp=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.preventUsingHoverLayer=!0,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){var i={name:t.name,children:t.data};Sp(i);var n=t.levels||[],o=this.designatedVisualItemStyle={},r=new Oi.A({itemStyle:o},this,e);n=t.levels=Ip(n,e);var a=u.Tj(n||[],(function(t){return new Oi.A(t,r,e)}),this),s=rp.createTree(i,this,l);function l(t){t.wrapMethod("getItemModel",(function(t,e){var i=s.getNodeByDataIndex(e),n=i?a[i.depth]:null;return t.parentModel=n||r,t}))}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=this.getRawValue(t),r=n.getName(t);return(0,Oh.Qx)("nameValue",{name:r,value:o})},e.prototype.getDataParams=function(e){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=hp(n,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},u.X$(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=u.nt(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){wp(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(h.A);function Sp(t){var e=0;u.__(t.children,(function(t){Sp(t);var i=t.value;u.cy(i)&&(i=i[0]),e+=i}));var i=t.value;u.cy(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),u.cy(t.value)?t.value[0]=i:t.value=i}function Ip(t,e){var i=(0,m.qB)(e.get("color")),n=(0,m.qB)(e.get(["aria","decal","decals"]));if(i){var o,r;t=t||[],u.__(t,(function(t){var e=new Oi.A(t),i=e.get("color"),n=e.get("decal");(e.get(["itemStyle","color"])||i&&"none"!==i)&&(o=!0),(e.get(["itemStyle","decal"])||n&&"none"!==n)&&(r=!0)}));var a=t[0]||(t[0]={});return o||(a.color=i.slice()),!r&&n&&(a.decal=n.slice()),t}}var Ap=Mp,Cp=8,Tp=8,Dp=5,Lp=function(){function t(t){this.group=new Fn.A,t.add(this.group)}return t.prototype.render=function(t,e,i,n){var o=t.getModel("breadcrumb"),r=this.group;if(r.removeAll(),o.get("show")&&i){var a=o.getModel("itemStyle"),s=o.getModel("emphasis"),l=a.getModel("textStyle"),h=s.getModel(["itemStyle","textStyle"]),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,u,l),this._renderContent(t,u,a,s,l,h,n),Kr.m$(r,u.pos,u.box)}},t.prototype._prepare=function(t,e,i){for(var n=t;n;n=n.parentNode){var o=(0,m.vS)(n.getModel().get("name"),""),r=i.getTextRect(o),a=Math.max(r.width+2*Cp,e.emptyItemWidth);e.totalWidth+=a+Tp,e.renderList.push({node:n,text:o,width:a})}},t.prototype._renderContent=function(t,e,i,n,o,r,a){for(var s=0,l=e.emptyItemWidth,h=t.get(["breadcrumb","height"]),c=Kr.HU(e.pos,e.box),d=e.totalWidth,p=e.renderList,g=n.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var m=p[f],y=m.node,v=m.width,x=m.text;d>c.width&&(d-=v-l,v=l,x=null);var _=new Lh.A({shape:{points:kp(s,0,v,h,f===p.length-1,0===f)},style:(0,u.NT)(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ne.Ay({style:(0,st.VB)(o,{text:x})}),textConfig:{position:"inside"},z2:1e4*L.CA,onclick:(0,u.cF)(a,y)});_.disableLabelAnimation=!0,_.getTextContent().ensureState("emphasis").style=(0,st.VB)(r,{text:x}),_.ensureState("emphasis").style=g,(0,L.Lm)(_,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(_),Pp(_,t,y),s+=v+Tp}},t.prototype.remove=function(){this.group.removeAll()},t}();function kp(t,e,i,n,o,r){var a=[[o?t:t-Dp,e],[t+i,e],[t+i,e+n],[o?t:t-Dp,e+n]];return!r&&a.splice(2,0,[t+i+Dp,e+n/2]),!o&&a.push([t,e+n/2]),a}function Pp(t,e,i){(0,x.z)(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&hp(i,e)}}var Op=Lp,Np=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,i,n,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:i,delay:n,easing:o}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,i=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},n=0,o=this._storage.length;n<o;n++){var r=this._storage[n];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:i,aborted:i})}return this},t}();function Rp(){return new Np}var Ep=i(2944),zp=Fn.A,Vp=vo.A,Bp=3,Fp="label",Wp="upperLabel",Gp=10*L.CA,Hp=2*L.CA,Xp=3*L.CA,jp=(0,Ep.A)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Yp=function(t){var e=jp(t);return e.stroke=e.fill=e.lineWidth=null,e},$p=(0,m.$r)(),Up=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._state="ready",i._storage=Zp(),i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){var o=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!((0,u.qh)(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var r=["treemapZoomToNode","treemapRootToNode"],a=ap(n,r,t),s=n&&n.type,l=t.layoutInfo,h=!this._oldTree,c=this._storage,d="treemapRootToNode"===s&&a&&c?{rootNodeGroup:c.nodeGroup[a.node.getRawIndex()],direction:n.direction}:null,p=this._giveContainerGroup(l),g=t.get("animation"),f=this._doRender(p,t,d);!g||h||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?f.renderFinally():this._doAnimation(p,f,t,d),this._resetController(i),this._renderBreadcrumb(t,i,a)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new zp,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,i){var n=e.getData().tree,o=this._oldTree,r=Zp(),a=Zp(),s=this._storage,l=[];function h(t,n,o,h){return qp(e,a,s,i,r,l,t,n,o,h)}g(n.root?[n.root]:[],o&&o.root?[o.root]:[],t,n===o||!o,0);var c=f(s);if(this._oldTree=n,this._storage=a,this._controllerHost){var d=this.seriesModel.layoutInfo,p=n.root.getLayout();p.width===d.width&&p.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:r,willDeleteEls:c,renderFinally:m};function g(t,e,i,n,o){function r(t){return t.getId()}function a(r,a){var s=null!=r?t[r]:null,l=null!=a?e[a]:null,u=h(s,l,i,o);u&&g(s&&s.viewChildren||[],l&&l.viewChildren||[],u,n,o+1)}n?(e=t,(0,u.__)(t,(function(t,e){!t.isRemoved()&&a(e,e)}))):new zi(e,t,r,r).add(a).update(a).remove((0,u.cF)(a,null)).execute()}function f(t){var e=Zp();return t&&(0,u.__)(t,(function(t,i){var n=e[i];(0,u.__)(t,(function(t){t&&(n.push(t),$p(t).willDelete=!0)}))})),e}function m(){(0,u.__)(c,(function(t){(0,u.__)(t,(function(t){t.parent&&t.parent.remove(t)}))})),(0,u.__)(l,(function(t){t.invisible=!0,t.dirty()}))}},e.prototype._doAnimation=function(t,e,i,n){var o=i.get("animationDurationUpdate"),r=i.get("animationEasing"),a=((0,u.Tn)(o)?0:o)||0,s=((0,u.Tn)(r)?null:r)||"cubicOut",l=Rp();(0,u.__)(e.willDeleteEls,(function(t,e){(0,u.__)(t,(function(t,i){if(!t.invisible){var o,r=t.parent,h=$p(r);if(n&&"drillDown"===n.direction)o=r===n.rootNodeGroup?{shape:{x:0,y:0,width:h.nodeWidth,height:h.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,c=0;h.willDelete||(u=h.nodeWidth/2,c=h.nodeHeight/2),o="nodeGroup"===e?{x:u,y:c,style:{opacity:0}}:{shape:{x:u,y:c,width:0,height:0},style:{opacity:0}}}o&&l.add(t,o,a,0,s)}}))})),(0,u.__)(this._storage,(function(t,i){(0,u.__)(t,(function(t,n){var o=e.lastsForAnimation[i][n],r={};o&&(t instanceof Fn.A?null!=o.oldX&&(r.x=t.x,r.y=t.y,t.x=o.oldX,t.y=o.oldY):(o.oldShape&&(r.shape=(0,u.X$)({},t.shape),t.setShape(o.oldShape)),o.fadein?(t.setStyle("opacity",0),r.style={opacity:1}):1!==t.style.opacity&&(r.style={opacity:1})),l.add(t,r,a,0,s))}))}),this),this._state="animating",l.finished((0,u.oI)((function(){this._state="ready",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),e||(e=this._controller=new su(t.getZr()),e.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),e.on("pan",(0,u.oI)(this._onPan,this)),e.on("zoom",(0,u.oI)(this._onZoom,this)));var n=new y.A(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>Bp||Math.abs(t.dy)>Bp)){var e=this.seriesModel.getData().tree.root;if(!e)return;var i=e.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var e=t.originX,i=t.originY,n=t.scale;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var a=new y.A(r.x,r.y,r.width,r.height),s=null,l=this._controllerHost;s=l.zoomLimit;var h=l.zoom=l.zoom||1;if(h*=n,s){var u=s.min||0,c=s.max||1/0;h=Math.max(Math.min(c,h),u)}var d=h/l.zoom;l.zoom=h;var p=this.seriesModel.layoutInfo;e-=p.x,i-=p.y;var g=T.vt();T.Tl(g,g,[-e,-i]),T.hs(g,g,[d,d]),T.Tl(g,g,[e,i]),a.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var i=e.seriesModel.get("nodeClick",!0);if(i){var n=e.findTarget(t.offsetX,t.offsetY);if(n){var o=n.node;if(o.getLayout().isLeafRoot)e._rootToNode(n);else if("zoomToNode"===i)e._zoomToNode(n);else if("link"===i){var r=o.hostTree.data.getItemModel(o.dataIndex),a=r.get("link",!0),s=r.get("target",!0)||"blank";a&&(0,So.JW)(a,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,i){var n=this;i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Op(this.group))).render(t,e,i.node,(function(e){"animating"!==n._state&&(lp(t.getViewRoot(),e)?n._rootToNode({node:e}):n._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Zp(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},(function(n){var o=this._storage.background[n.getRawIndex()];if(o){var r=o.transformCoordToLocal(t,e),a=o.shape;if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}}),this),i},e.type="treemap",e}(s.A);function Zp(){return{nodeGroup:[],background:[],content:[]}}function qp(t,e,i,n,o,r,a,s,l,h){if(a){var c=a.getLayout(),d=t.getData(),p=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),c&&c.isInView){var g=c.width,f=c.height,y=c.borderWidth,v=c.invisible,_=a.getRawIndex(),b=s&&s.getRawIndex(),w=a.viewChildren,M=c.upperHeight,S=w&&w.length,I=p.getModel("itemStyle"),A=p.getModel(["emphasis","itemStyle"]),C=p.getModel(["blur","itemStyle"]),T=p.getModel(["select","itemStyle"]),D=I.get("borderRadius")||0,k=X("nodeGroup",zp);if(k){if(l.add(k),k.x=c.x||0,k.y=c.y||0,k.markRedraw(),$p(k).nodeWidth=g,$p(k).nodeHeight=f,c.isAboveViewRoot)return k;var P=X("background",Vp,h,Hp);P&&B(k,P,S&&c.upperLabelHeight);var O=p.getModel("emphasis"),N=O.get("focus"),R=O.get("blurScope"),E=O.get("disabled"),z="ancestor"===N?a.getAncestorsIndices():"descendant"===N?a.getDescendantIndices():N;if(S)(0,L.u6)(k)&&(0,L.ix)(k,!1),P&&((0,L.ix)(P,!E),d.setItemGraphicEl(a.dataIndex,P),(0,L.gR)(P,z,R));else{var V=X("content",Vp,h,Xp);V&&F(k,V),P.disableMorphing=!0,P&&(0,L.u6)(P)&&(0,L.ix)(P,!1),(0,L.ix)(k,!E),d.setItemGraphicEl(a.dataIndex,k),(0,L.gR)(k,z,R)}return k}}}function B(e,i,n){var o=(0,x.z)(i);if(o.dataIndex=a.dataIndex,o.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:g,height:f,r:D}),v)W(i);else{i.invisible=!1;var r=a.getVisual("style"),s=r.stroke,l=Yp(I);l.fill=s;var h=jp(A);h.fill=A.get("borderColor");var u=jp(C);u.fill=C.get("borderColor");var c=jp(T);if(c.fill=T.get("borderColor"),n){var d=g-2*y;G(i,s,r.opacity,{x:y,y:0,width:d,height:M})}else i.removeTextContent();i.setStyle(l),i.ensureState("emphasis").style=h,i.ensureState("blur").style=u,i.ensureState("select").style=c,(0,L.DW)(i)}e.add(i)}function F(e,i){var n=(0,x.z)(i);n.dataIndex=a.dataIndex,n.seriesIndex=t.seriesIndex;var o=Math.max(g-2*y,0),r=Math.max(f-2*y,0);if(i.culling=!0,i.setShape({x:y,y:y,width:o,height:r,r:D}),v)W(i);else{i.invisible=!1;var s=a.getVisual("style"),l=s.fill,h=Yp(I);h.fill=l,h.decal=s.decal;var u=jp(A),c=jp(C),d=jp(T);G(i,l,s.opacity,null),i.setStyle(h),i.ensureState("emphasis").style=u,i.ensureState("blur").style=c,i.ensureState("select").style=d,(0,L.DW)(i)}e.add(i)}function W(t){!t.invisible&&r.push(t)}function G(e,i,n,o){var r=p.getModel(o?Wp:Fp),s=(0,m.vS)(p.get("name"),null),l=r.getShallow("show");(0,st.qM)(e,(0,st.lx)(p,o?Wp:Fp),{defaultText:l?s:null,inheritColor:i,defaultOpacity:n,labelFetcher:t,labelDataIndex:a.dataIndex});var h=e.getTextContent();if(h){var d=h.style,g=(0,u.QX)(d.padding||0);o&&(e.setTextConfig({layoutRect:o}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var t=Math.max((o?o.width:e.shape.width)-g[1]-g[3],0),i=Math.max((o?o.height:e.shape.height)-g[0]-g[2],0);d.width===t&&d.height===i||h.setStyle({width:t,height:i})},d.truncateMinChar=2,d.lineOverflow="truncate",H(d,o,c);var f=h.getState("emphasis");H(f?f.style:null,o,c)}}function H(e,i,n){var o=e?e.text:null;if(!i&&n.isLeafRoot&&null!=o){var r=t.get("drillDownIcon",!0);e.text=r?r+" "+o:o}}function X(t,n,r,a){var s=null!=b&&i[t][b],l=o[t];return s?(i[t][b]=null,j(l,s)):v||(s=new n,s instanceof Ac.Ay&&(s.z2=Kp(r,a)),Y(l,s)),e[t][_]=s}function j(t,e){var i=t[_]={};e instanceof zp?(i.oldX=e.x,i.oldY=e.y):i.oldShape=(0,u.X$)({},e.shape)}function Y(t,e){var i=t[_]={},r=a.parentNode,s=e instanceof Fn.A;if(r&&(!n||"drillDown"===n.direction)){var l=0,h=0,u=o.background[r.getRawIndex()];!n&&u&&u.oldShape&&(l=u.oldShape.width,h=u.oldShape.height),s?(i.oldX=0,i.oldY=h):i.oldShape={x:l,y:h,width:0,height:0}}i.fadein=!s}}function Kp(t,e){return t*Gp+e}var Jp=Up,Qp=u.__,tg=u.Gv,eg=-1,ig=function(){function t(e){var i=e.mappingMethod,n=e.type,o=this.option=u.o8(e);this.type=n,this.mappingMethod=i,this._normalizeData=gg[i];var r=t.visualHandlers[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._normalizedToVisual=r._normalizedToVisual[i],"piecewise"===i?(rg(o),ng(o)):"category"===i?o.categories?og(o):rg(o,!0):(u.vA("linear"!==i||o.dataExtent),rg(o))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return u.oI(this._normalizeData,this)},t.listVisualTypes=function(){return u.HP(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,i){u.Gv(t)?u.__(t,e,i):e.call(i,t)},t.mapVisual=function(e,i,n){var o,r=u.cy(e)?[]:u.Gv(e)?{}:(o=!0,null);return t.eachVisual(e,(function(t,e){var a=i.call(n,t,e);o?r=a:r[e]=a})),r},t.retrieveVisuals=function(e){var i,n={};return e&&Qp(t.visualHandlers,(function(t,o){e.hasOwnProperty(o)&&(n[o]=e[o],i=!0)})),i?n:null},t.prepareVisualTypes=function(t){if(u.cy(t))t=t.slice();else{if(!tg(t))return[];var e=[];Qp(t,(function(t,i){e.push(i)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,i){for(var n,o=1/0,r=0,a=e.length;r<a;r++){var s=e[r].value;if(null!=s){if(s===t||u.Kg(s)&&s===t+"")return r;i&&d(s,r)}}for(r=0,a=e.length;r<a;r++){var l=e[r],h=l.interval,c=l.close;if(h){if(h[0]===-1/0){if(fg(c[1],t,h[1]))return r}else if(h[1]===1/0){if(fg(c[0],h[0],t))return r}else if(fg(c[0],h[0],t)&&fg(c[1],t,h[1]))return r;i&&d(h[0],r),i&&d(h[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:n;function d(e,i){var r=Math.abs(e-t);r<o&&(o=r,n=i)}},t.visualHandlers={color:{applyVisual:lg("color"),getColorMapper:function(){var t=this.option;return u.oI("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),hg.call(this,t)}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=Re.ad(e,t.parsedVisual,n),o?n:Re.As(n,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Re.As(Re.ad(t,this.option.parsedVisual),"rgba")},category:hg,piecewise:function(t,e){var i=dg.call(this,e);return null==i&&(i=Re.As(Re.ad(t,this.option.parsedVisual),"rgba")),i},fixed:ug}},colorHue:ag((function(t,e){return Re.Yu(t,e)})),colorSaturation:ag((function(t,e){return Re.Yu(t,null,e)})),colorLightness:ag((function(t,e){return Re.Yu(t,null,null,e)})),colorAlpha:ag((function(t,e){return Re.hm(t,e)})),decal:{applyVisual:lg("decal"),_normalizedToVisual:{linear:null,category:hg,piecewise:null,fixed:null}},opacity:{applyVisual:lg("opacity"),_normalizedToVisual:cg([0,1])},liftZ:{applyVisual:lg("liftZ"),_normalizedToVisual:{linear:ug,category:ug,piecewise:ug,fixed:ug}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);i("symbol",n)},_normalizedToVisual:{linear:sg,category:hg,piecewise:function(t,e){var i=dg.call(this,e);return null==i&&(i=sg.call(this,t)),i},fixed:ug}},symbolSize:{applyVisual:lg("symbolSize"),_normalizedToVisual:cg([0,1])}},t}();function ng(t){var e=t.pieceList;t.hasSpecialVisual=!1,u.__(e,(function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)}))}function og(t){var e=t.categories,i=t.categoryMap={},n=t.visual;if(Qp(e,(function(t,e){i[t]=e})),!u.cy(n)){var o=[];u.Gv(n)?Qp(n,(function(t,e){var n=i[e];o[null!=n?n:eg]=t})):o[eg]=n,n=pg(t,o)}for(var r=e.length-1;r>=0;r--)null==n[r]&&(delete i[e[r]],e.pop())}function rg(t,e){var i=t.visual,n=[];u.Gv(i)?Qp(i,(function(t){n.push(t)})):null!=i&&n.push(i);var o={color:1,symbol:1};e||1!==n.length||o.hasOwnProperty(t.type)||(n[1]=n[0]),pg(t,n)}function ag(t){return{applyVisual:function(e,i,n){var o=this.mapValueToVisual(e);n("color",t(i("color"),o))},_normalizedToVisual:cg([0,1])}}function sg(t){var e=this.option.visual;return e[Math.round((0,_.Cb)(t,[0,1],[0,e.length-1],!0))]||{}}function lg(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function hg(t){var e=this.option.visual;return e[this.option.loop&&t!==eg?t%e.length:t]}function ug(){return this.option.visual[0]}function cg(t){return{linear:function(e){return(0,_.Cb)(e,t,this.option.visual,!0)},category:hg,piecewise:function(e,i){var n=dg.call(this,i);return null==n&&(n=(0,_.Cb)(e,t,this.option.visual,!0)),n},fixed:ug}}function dg(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=ig.findPieceIndex(t,i),o=i[n];if(o&&o.visual)return o.visual[this.type]}}function pg(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=u.Tj(e,(function(t){var e=Re.qg(t);return e||[0,0,0,1]}))),e}var gg={linear:function(t){return(0,_.Cb)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=ig.findPieceIndex(t,e,!0);if(null!=i)return(0,_.Cb)(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?eg:e},fixed:u.lQ};function fg(t,e,i){return t?e<=i:e<i}var mg=ig,yg="itemStyle",vg=(0,m.$r)(),xg={seriesType:"treemap",reset:function(t){var e=t.getData().tree,i=e.root;i.isRemoved()||_g(i,{},t.getViewRoot().getAncestors(),t)}};function _g(t,e,i,n){var o=t.getModel(),r=t.getLayout(),a=t.hostTree.data;if(r&&!r.invisible&&r.isInView){var s,l=o.getModel(yg),h=bg(l,e,n),c=a.ensureUniqueItemVisual(t.dataIndex,"style"),d=l.get("borderColor"),p=l.get("borderColorSaturation");null!=p&&(s=wg(h),d=Mg(p,s)),c.stroke=d;var g=t.viewChildren;if(g&&g.length){var f=Ig(t,o,r,l,h,g);(0,u.__)(g,(function(t,e){if(t.depth>=i.length||t===i[t.depth]){var r=Cg(o,h,t,e,f,n);_g(t,r,i,n)}}))}else s=wg(h),c.fill=s}}function bg(t,e,i){var n=(0,u.X$)({},e),o=i.designatedVisualItemStyle;return(0,u.__)(["color","colorAlpha","colorSaturation"],(function(i){o[i]=e[i];var r=t.get(i);o[i]=null,null!=r&&(n[i]=r)})),n}function wg(t){var e=Sg(t,"color");if(e){var i=Sg(t,"colorAlpha"),n=Sg(t,"colorSaturation");return n&&(e=(0,Re.Yu)(e,null,null,n)),i&&(e=(0,Re.hm)(e,i)),e}}function Mg(t,e){return null!=e?(0,Re.Yu)(e,null,null,t):null}function Sg(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function Ig(t,e,i,n,o,r){if(r&&r.length){var a=Ag(e,"color")||null!=o.color&&"none"!==o.color&&(Ag(e,"colorAlpha")||Ag(e,"colorSaturation"));if(a){var s=e.get("visualMin"),l=e.get("visualMax"),h=i.dataExtent.slice();null!=s&&s<h[0]&&(h[0]=s),null!=l&&l>h[1]&&(h[1]=l);var u=e.get("colorMappingBy"),c={type:a.name,dataExtent:h,visual:a.range};"color"!==c.type||"index"!==u&&"id"!==u?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var d=new mg(c);return vg(d).drColorMappingBy=u,d}}}function Ag(t,e){var i=t.get(e);return(0,u.cy)(i)&&i.length?{name:e,range:i}:null}function Cg(t,e,i,n,o,r){var a=(0,u.X$)({},e);if(o){var s=o.type,l="color"===s&&vg(o).drColorMappingBy,h="index"===l?n:"id"===l?r.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));a[s]=o.mapValueToVisual(h)}return a}var Tg=Math.max,Dg=Math.min,Lg=u.Je,kg=u.__,Pg=["itemStyle","borderWidth"],Og=["itemStyle","gapWidth"],Ng=["upperLabel","show"],Rg=["upperLabel","height"],Eg={seriesType:"treemap",reset:function(t,e,i,n){var o=i.getWidth(),r=i.getHeight(),a=t.option,s=Kr.dV(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),l=a.size||[],h=(0,_.lo)(Lg(s.width,l[0]),o),c=(0,_.lo)(Lg(s.height,l[1]),r),d=n&&n.type,p=["treemapZoomToNode","treemapRootToNode"],g=ap(n,p,t),f="treemapRender"===d||"treemapMove"===d?n.rootRect:null,m=t.getViewRoot(),v=sp(m);if("treemapMove"!==d){var x="treemapZoomToNode"===d?Xg(t,g,m,h,c):f?[f.width,f.height]:[h,c],b=a.sort;b&&"asc"!==b&&"desc"!==b&&(b="desc");var w={squareRatio:a.squareRatio,sort:b,leafDepth:a.leafDepth};m.hostTree.clearLayouts();var M={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};m.setLayout(M),zg(m,w,!1,0),M=m.getLayout(),kg(v,(function(t,e){var i=(v[e+1]||m).getValue();t.setLayout(u.X$({dataExtent:[i,i],borderWidth:0,upperHeight:0},M))}))}var S=t.getData().tree.root;S.setLayout(jg(s,f,g),!0),t.setLayoutInfo(s),Yg(S,new y.A(-s.x,-s.y,o,r),v,m,0)}};function zg(t,e,i,n){var o,r;if(!t.isRemoved()){var a=t.getLayout();o=a.width,r=a.height;var s=t.getModel(),l=s.get(Pg),h=s.get(Og)/2,u=$g(s),c=Math.max(l,u),d=l-h,p=c-h;t.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:u},!0),o=Tg(o-2*d,0),r=Tg(r-d-p,0);var g=o*r,f=Vg(t,s,g,e,i,n);if(f.length){var m={x:d,y:p,width:o,height:r},y=Dg(o,r),v=1/0,x=[];x.area=0;for(var _=0,b=f.length;_<b;){var w=f[_];x.push(w),x.area+=w.getLayout().area;var M=Gg(x,y,e.squareRatio);M<=v?(_++,v=M):(x.area-=x.pop().getLayout().area,Hg(x,y,m,h,!1),y=Dg(m.width,m.height),x.length=x.area=0,v=1/0)}if(x.length&&Hg(x,y,m,h,!0),!i){var S=s.get("childrenVisibleMin");null!=S&&g<S&&(i=!0)}for(_=0,b=f.length;_<b;_++)zg(f[_],e,i,n+1)}}}function Vg(t,e,i,n,o,r){var a=t.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=n.leafDepth&&n.leafDepth<=r;if(o&&!l)return t.viewChildren=[];a=u.pb(a,(function(t){return!t.isRemoved()})),Fg(a,s);var h=Wg(e,a,s);if(0===h.sum)return t.viewChildren=[];if(h.sum=Bg(e,i,h.sum,s,a),0===h.sum)return t.viewChildren=[];for(var c=0,d=a.length;c<d;c++){var p=a[c].getValue()/h.sum*i;a[c].setLayout({area:p})}return l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:h.dataExtent},!0),a}function Bg(t,e,i,n,o){if(!n)return i;for(var r=t.get("visibleMin"),a=o.length,s=a,l=a-1;l>=0;l--){var h=o["asc"===n?a-l-1:l].getValue();h/i*e<r&&(s=l,i-=h)}return"asc"===n?o.splice(0,a-s):o.splice(s,a-s),i}function Fg(t,e){return e&&t.sort((function(t,i){var n="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n})),t}function Wg(t,e,i){for(var n=0,o=0,r=e.length;o<r;o++)n+=e[o].getValue();var a,s=t.get("visualDimension");return e&&e.length?"value"===s&&i?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&a.reverse()):(a=[1/0,-1/0],kg(e,(function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN],{sum:n,dataExtent:a}}function Gg(t,e,i){for(var n=0,o=1/0,r=0,a=void 0,s=t.length;r<s;r++)a=t[r].getLayout().area,a&&(a<o&&(o=a),a>n&&(n=a));var l=t.area*t.area,h=e*e*i;return l?Tg(h*n/l,l/(h*o)):1/0}function Hg(t,e,i,n,o){var r=e===i.width?0:1,a=1-r,s=["x","y"],l=["width","height"],h=i[s[r]],u=e?t.area/e:0;(o||u>i[l[a]])&&(u=i[l[a]]);for(var c=0,d=t.length;c<d;c++){var p=t[c],g={},f=u?p.getLayout().area/u:0,m=g[l[a]]=Tg(u-2*n,0),y=i[s[r]]+i[l[r]]-h,v=c===d-1||y<f?y:f,x=g[l[r]]=Tg(v-2*n,0);g[s[a]]=i[s[a]]+Dg(n,m/2),g[s[r]]=h+Dg(n,x/2),h+=v,p.setLayout(g,!0)}i[s[a]]+=u,i[l[a]]-=u}function Xg(t,e,i,n,o){var r,a=(e||{}).node,s=[n,o];if(!a||a===i)return s;var l=n*o,h=l*t.option.zoomToNodeRatio;while(r=a.parentNode){for(var u=0,c=r.children,d=0,p=c.length;d<p;d++)u+=c[d].getValue();var g=a.getValue();if(0===g)return s;h*=u/g;var f=r.getModel(),m=f.get(Pg),y=Math.max(m,$g(f));h+=4*m*m+(3*m+y)*Math.pow(h,.5),h>_.Is&&(h=_.Is),a=r}h<l&&(h=l);var v=Math.pow(h/l,.5);return[n*v,o*v]}function jg(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,r=o.getLayout();if(!r)return n;var a=[r.width/2,r.height/2],s=o;while(s){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function Yg(t,e,i,n,o){var r=t.getLayout(),a=i[o],s=a&&a===t;if(!(a&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(r),isAboveViewRoot:s},!0);var l=new y.A(e.x-r.x,e.y-r.y,e.width,e.height);kg(t.viewChildren||[],(function(t){Yg(t,l,i,n,o+1)}))}}function $g(t){return t.get(Ng)?t.get(Rg):0}function Ug(t){t.registerSeriesModel(Ap),t.registerChartView(Jp),t.registerVisual(xg),t.registerLayout(Eg),_p(t)}function Zg(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),n=t.getGraph(),o=n.data,r=i.mapArray(i.getName);o.filterSelf((function(t){var i=o.getItemModel(t),n=i.getShallow("category");if(null!=n){(0,u.Et)(n)&&(n=r[n]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(n))return!1}return!0}))}))}function qg(t){var e={};t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),n=t.getData(),o={};i.each((function(n){var r=i.getName(n);o["ec-"+r]=n;var a=i.getItemModel(n),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(r,e)),i.setItemVisual(n,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],h=0;h<l.length;h++){var u=a.getShallow(l[h],!0);null!=u&&i.setItemVisual(n,l[h],u)}})),i.count()&&n.each((function(t){var e=n.getItemModel(t),r=e.getShallow("category");if(null!=r){(0,u.Kg)(r)&&(r=o["ec-"+r]);var a=i.getItemVisual(r,"style"),s=n.ensureUniqueItemVisual(t,"style");(0,u.X$)(s,a);for(var l=["symbol","symbolSize","symbolKeepAspect"],h=0;h<l.length;h++)n.setItemVisual(t,l[h],i.getItemVisual(r,l[h]))}}))}))}function Kg(t){return t instanceof Array||(t=[t,t]),t}function Jg(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),i=t.getEdgeData(),n=Kg(t.get("edgeSymbol")),o=Kg(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",n&&n[0]),i.setVisual("toSymbol",n&&n[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each((function(t){var n=i.getItemModel(t),o=e.getEdgeByIndex(t),r=Kg(n.getShallow("symbol",!0)),a=Kg(n.getShallow("symbolSize",!0)),s=n.getModel("lineStyle").getLineStyle(),l=i.ensureUniqueItemVisual(t,"style");switch((0,u.X$)(l,s),l.stroke){case"source":var h=o.node1.getVisual("style");l.stroke=h&&h.fill;break;case"target":h=o.node2.getVisual("style");l.stroke=h&&h.fill;break}r[0]&&o.setVisual("fromSymbol",r[0]),r[1]&&o.setVisual("toSymbol",r[1]),a[0]&&o.setVisual("fromSymbolSize",a[0]),a[1]&&o.setVisual("toSymbolSize",a[1])}))}))}var Qg="--\x3e",tf=function(t){return t.get("autoCurveness")||null},ef=function(t,e){var i=tf(t),n=20,o=[];if(u.Et(i))n=i;else if(u.cy(i))return void(t.__curvenessList=i);e>n&&(n=e);var r=n%2?n+2:n+3;o=[];for(var a=0;a<r;a++)o.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=o},nf=function(t,e,i){var n=[t.id,t.dataIndex].join("."),o=[e.id,e.dataIndex].join(".");return[i.uid,n,o].join(Qg)},of=function(t){var e=t.split(Qg);return[e[0],e[2],e[1]].join(Qg)},rf=function(t,e){var i=nf(t.node1,t.node2,e);return e.__edgeMap[i]},af=function(t,e){var i=sf(nf(t.node1,t.node2,e),e),n=sf(nf(t.node2,t.node1,e),e);return i+n},sf=function(t,e){var i=e.__edgeMap;return i[t]?i[t].length:0};function lf(t){tf(t)&&(t.__curvenessList=[],t.__edgeMap={},ef(t))}function hf(t,e,i,n){if(tf(i)){var o=nf(t,e,i),r=i.__edgeMap,a=r[of(o)];r[o]&&!a?r[o].isForward=!0:a&&r[o]&&(a.isForward=!0,r[o].isForward=!1),r[o]=r[o]||[],r[o].push(n)}}function uf(t,e,i,n){var o=tf(e),r=u.cy(o);if(!o)return null;var a=rf(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===i){s=l;break}var h=af(t,e);ef(e,h),t.lineStyle=t.lineStyle||{};var c=nf(t.node1,t.node2,e),d=e.__curvenessList,p=r||h%2?0:1;if(a.isForward)return d[p+s];var g=of(c),f=sf(g,e),m=d[s+f+p];return n?r?o&&0===o[0]?(f+p)%2?m:-m:((f%2?0:1)+p)%2?m:-m:(f+p)%2?m:-m:d[s+f+p]}function cf(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),df(i,t)}}function df(t,e){t.eachEdge((function(t,i){var n=u.WV(t.getModel().get(["lineStyle","curveness"]),-uf(t,e,i,!0),0),o=D.o8(t.node1.getLayout()),r=D.o8(t.node2.getLayout()),a=[o,r];+n&&a.push([(o[0]+r[0])/2-(o[1]-r[1])*n,(o[1]+r[1])/2-(r[0]-o[0])*n]),t.setLayout(a)}))}function pf(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var n=t.getData(),o=[];(0,u.__)(i.dimensions,(function(t){o=o.concat(n.mapDimensionsAll(t))}));for(var r=0;r<n.count();r++){for(var a=[],s=!1,l=0;l<o.length;l++){var h=n.get(o[l],r);isNaN(h)||(s=!0),a.push(h)}s?n.setItemLayout(r,i.dataToPoint(a)):n.setItemLayout(r,[NaN,NaN])}df(n.graph,t)}else e&&"none"!==e||cf(t)}))}function gf(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=t.option.nodeScaleRatio,n=e.scaleX,o=e.getZoom(),r=(o-1)*i+1;return r/n}function ff(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var mf=Math.PI,yf=[];function vf(t,e,i,n){var o=t.coordinateSystem;if(!o||"view"===o.type){var r=o.getBoundingRect(),a=t.getData(),s=a.graph,l=r.width/2+r.x,h=r.height/2+r.y,c=Math.min(r.width,r.height)/2,d=a.count();if(a.setLayout({cx:l,cy:h}),d){if(i){var p=o.pointToData(n),g=p[0],f=p[1],m=[g-l,f-h];D.S8(m,m),D.hs(m,m,c),i.setLayout([l+m[0],h+m[1]],!0);var y=t.get(["circular","rotateLabel"]);_f(i,y,l,h)}xf[e](t,s,a,c,l,h,d),s.eachEdge((function(e,i){var n,o=u.WV(e.getModel().get(["lineStyle","curveness"]),uf(e,t,i),0),r=D.o8(e.node1.getLayout()),a=D.o8(e.node2.getLayout()),s=(r[0]+a[0])/2,c=(r[1]+a[1])/2;+o&&(o*=3,n=[l*o+s*(1-o),h*o+c*(1-o)]),e.setLayout([r,a,n])}))}}}var xf={value:function(t,e,i,n,o,r,a){var s=0,l=i.getSum("value"),h=2*Math.PI/(l||a);e.eachNode((function(t){var e=t.getValue("value"),i=h*(l?e:1)/2;s+=i,t.setLayout([n*Math.cos(s)+o,n*Math.sin(s)+r]),s+=i}))},symbolSize:function(t,e,i,n,o,r,a){var s=0;yf.length=a;var l=gf(t);e.eachNode((function(t){var e=ff(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var i=Math.asin(e/2/n);isNaN(i)&&(i=mf/2),yf[t.dataIndex]=i,s+=2*i}));var h=(2*mf-s)/a/2,u=0;e.eachNode((function(t){var e=h+yf[t.dataIndex];u+=e,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([n*Math.cos(u)+o,n*Math.sin(u)+r]),u+=e}))}};function _f(t,e,i,n){var o=t.getGraphicEl();if(o){var r=t.getModel(),a=r.get(["label","rotate"])||0,s=o.getSymbolPath();if(e){var l=t.getLayout(),h=Math.atan2(l[1]-n,l[0]-i);h<0&&(h=2*Math.PI+h);var c=l[0]<i;c&&(h-=Math.PI);var d=c?"left":"right";s.setTextConfig({rotation:-h,position:d,origin:"center"});var p=s.ensureState("emphasis");u.X$(p.textConfig||(p.textConfig={}),{position:d})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function bf(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&vf(t,"symbolSize")}))}var wf=D.Ln;function Mf(t,e,i){for(var n=t,o=e,r=i.rect,a=r.width,s=r.height,l=[r.x+a/2,r.y+s/2],h=null==i.gravity?.1:i.gravity,u=0;u<n.length;u++){var c=n[u];c.p||(c.p=D.vt(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=D.o8(c.p),c.edges=null}var d,p,g=null==i.friction?.6:i.friction,f=g;return{warmUp:function(){f=.8*g},setFixed:function(t){n[t].fixed=!0},setUnfixed:function(t){n[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){p=t},step:function(t){d&&d(n,o);for(var e=[],i=n.length,r=0;r<o.length;r++){var a=o[r];if(!a.ignoreForceLayout){var s=a.n1,u=a.n2;D.jb(e,u.p,s.p);var c=D.Il(e)-a.d,g=u.w/(s.w+u.w);isNaN(g)&&(g=0),D.S8(e,e),!s.fixed&&wf(s.p,s.p,e,g*c*f),!u.fixed&&wf(u.p,u.p,e,-(1-g)*c*f)}}for(r=0;r<i;r++){var m=n[r];m.fixed||(D.jb(e,l,m.p),wf(m.p,m.p,e,h*f))}for(r=0;r<i;r++){s=n[r];for(var y=r+1;y<i;y++){u=n[y];D.jb(e,u.p,s.p);c=D.Il(e);0===c&&(D.hZ(e,Math.random()-.5,Math.random()-.5),c=1);var v=(s.rep+u.rep)/c/c;!s.fixed&&wf(s.pp,s.pp,e,v),!u.fixed&&wf(u.pp,u.pp,e,-v)}}var x=[];for(r=0;r<i;r++){m=n[r];m.fixed||(D.jb(x,m.p,m.pp),wf(m.p,m.p,x,f),D.C(m.pp,m.p))}f*=.992;var _=f<.01;p&&p(n,o,_),t&&t(_)}}}function Sf(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},n=t.getGraph(),o=n.data,r=n.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?o.each((function(t){var e=o.getId(t);o.setItemLayout(t,i[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&vf(t,"value"):cf(t);var l=o.getDataExtent("value"),h=r.getDataExtent("value"),c=a.get("repulsion"),d=a.get("edgeLength"),p=u.cy(c)?c:[c,c],g=u.cy(d)?d:[d,d];g=[g[1],g[0]];var f=o.mapArray("value",(function(t,e){var i=o.getItemLayout(e),n=(0,_.Cb)(t,l,p);return isNaN(n)&&(n=(p[0]+p[1])/2),{w:n,rep:n,fixed:o.getItemModel(e).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}})),m=r.mapArray("value",(function(e,i){var o=n.getEdgeByIndex(i),r=(0,_.Cb)(e,h,g);isNaN(r)&&(r=(g[0]+g[1])/2);var a=o.getModel(),s=u.WV(o.getModel().get(["lineStyle","curveness"]),-uf(o,t,i,!0),0);return{n1:f[o.node1.dataIndex],n2:f[o.node2.dataIndex],d:r,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),y=e.getBoundingRect(),v=Mf(f,m,{rect:y,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(t,e){for(var i=0,o=t.length;i<o;i++)t[i].fixed&&D.C(t[i].p,n.getNodeByIndex(i).getLayout())})),v.afterStep((function(t,e,r){for(var a=0,s=t.length;a<s;a++)t[a].fixed||n.getNodeByIndex(a).setLayout(t[a].p),i[o.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],h=n.getEdgeByIndex(a),u=l.n1.p,c=l.n2.p,d=h.getLayout();d=d?d.slice():[],d[0]=d[0]||[],d[1]=d[1]||[],D.C(d[0],u),D.C(d[1],c),+l.curveness&&(d[2]=[(u[0]+c[0])/2-(u[1]-c[1])*l.curveness,(u[1]+c[1])/2-(c[0]-u[0])*l.curveness]),h.setLayout(d)}})),t.forceLayout=v,t.preservedPoints=i,v.step()}else t.forceLayout=null}))}function If(t,e,i){var n=(0,u.X$)(t.getBoxLayoutParams(),{aspect:i});return(0,Kr.dV)(n,{width:e.getWidth(),height:e.getHeight()})}function Af(t,e){var i=[];return t.eachSeriesByType("graph",(function(t){var n=t.get("coordinateSystem");if(!n||"view"===n){var o=t.getData(),r=o.mapArray((function(t){var e=o.getItemModel(t);return[+e.get("x"),+e.get("y")]})),a=[],s=[];Od.Cr(r,a,s),s[0]-a[0]===0&&(s[0]+=1,a[0]-=1),s[1]-a[1]===0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),h=If(t,e,l);isNaN(l)&&(a=[h.x,h.y],s=[h.x+h.width,h.y+h.height]);var u=s[0]-a[0],c=s[1]-a[1],d=h.width,p=h.height,g=t.coordinateSystem=new Jc;g.zoomLimit=t.get("scaleLimit"),g.setBoundingRect(a[0],a[1],u,c),g.setViewRect(h.x,h.y,d,p),g.setCenter(t.get("center"),e),g.setZoom(t.get("zoom")),i.push(g)}})),i}var Cf=Bl.A.prototype,Tf=xd.A.prototype,Df=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}(0,Pi.C6)(e,t)})(Df);function Lf(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var kf=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-line",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Df},e.prototype.buildPath=function(t,e){Lf(e)?Cf.buildPath.call(this,t,e):Tf.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return Lf(this.shape)?Cf.pointAt.call(this,t):Tf.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,i=Lf(e)?[e.x2-e.x1,e.y2-e.y1]:Tf.tangentAt.call(this,t);return D.S8(i,i)},e}(M.Ay),Pf=kf,Of=["fromSymbol","toSymbol"];function Nf(t){return"_"+t+"Type"}function Rf(t,e,i){var n=e.getItemVisual(i,t);if(!n||"none"===n)return n;var o=e.getItemVisual(i,t+"Size"),r=e.getItemVisual(i,t+"Rotate"),a=e.getItemVisual(i,t+"Offset"),s=e.getItemVisual(i,t+"KeepAspect"),l=Bn.xU(o),h=Bn.hV(a||0,l);return n+l+h+(r||"")+(s||"")}function Ef(t,e,i){var n=e.getItemVisual(i,t);if(n&&"none"!==n){var o=e.getItemVisual(i,t+"Size"),r=e.getItemVisual(i,t+"Rotate"),a=e.getItemVisual(i,t+"Offset"),s=e.getItemVisual(i,t+"KeepAspect"),l=Bn.xU(o),h=Bn.hV(a||0,l),u=Bn.v5(n,-l[0]/2+h[0],-l[1]/2+h[1],l[0],l[1],null,s);return u.__specifiedRotation=null==r||isNaN(r)?void 0:+r*Math.PI/180||0,u.name=t,u}}function zf(t){var e=new Pf({name:"line",subPixelOptimize:!0});return Vf(e.shape,t),e}function Vf(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var i=e[2];i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Bf=function(t){function e(e,i,n){var o=t.call(this)||this;return o._createLine(e,i,n),o}return(0,Pi.C6)(e,t),e.prototype._createLine=function(t,e,i){var n=t.hostModel,o=t.getItemLayout(e),r=zf(o);r.shape.percent=0,v.LW(r,{shape:{percent:1}},n,e),this.add(r),(0,u.__)(Of,(function(i){var n=Ef(i,t,e);this.add(n),this[Nf(i)]=Rf(i,t,e)}),this),this._updateCommonStl(t,e,i)},e.prototype.updateData=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),r=t.getItemLayout(e),a={shape:{}};Vf(a.shape,r),v.oi(o,a,n,e),(0,u.__)(Of,(function(i){var n=Rf(i,t,e),o=Nf(i);if(this[o]!==n){this.remove(this.childOfName(i));var r=Ef(i,t,e);this.add(r)}this[o]=n}),this),this._updateCommonStl(t,e,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),r=i&&i.emphasisLineStyle,a=i&&i.blurLineStyle,s=i&&i.selectLineStyle,l=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,c=i&&i.focus,d=i&&i.blurScope;if(!i||t.hasItemOption){var p=t.getItemModel(e),g=p.getModel("emphasis");r=g.getModel("lineStyle").getLineStyle(),a=p.getModel(["blur","lineStyle"]).getLineStyle(),s=p.getModel(["select","lineStyle"]).getLineStyle(),h=g.get("disabled"),c=g.get("focus"),d=g.get("blurScope"),l=(0,st.lx)(p)}var f=t.getItemVisual(e,"style"),m=f.stroke;o.useStyle(f),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=r,o.ensureState("blur").style=a,o.ensureState("select").style=s,(0,u.__)(Of,(function(t){var e=this.childOfName(t);if(e){e.setColor(m),e.style.opacity=f.opacity;for(var i=0;i<L.BV.length;i++){var n=L.BV[i],r=o.getState(n);if(r){var a=r.style||{},s=e.ensureState(n),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}}),this);var y=n.getRawValue(e);(0,st.qM)(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,i){return n.getFormattedLabel(e,i,t.dataType)}},inheritColor:m||"#000",defaultOpacity:f.opacity,defaultText:(null==y?t.getName(e):isFinite(y)?(0,_.LI)(y):y)+""});var v=this.getTextContent();if(v){var x=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=x.get("position")||"middle";var b=x.get("distance");(0,u.cy)(b)||(b=[b,b]),v.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),(0,L.Lm)(this,c,d,h)},e.prototype.highlight=function(){(0,L.HY)(this)},e.prototype.downplay=function(){(0,L.SD)(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");Vf(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),n=t.getTextContent();if(e||i||n&&!n.ignore){var o=1,r=this.parent;while(r)r.scaleX&&(o/=r.scaleX),r=r.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),h=a.pointAt(s),u=D.jb([],h,l);if(D.S8(u,u),e&&(e.setPosition(l),M(e,0),e.scaleX=e.scaleY=o*s,e.markRedraw()),i&&(i.setPosition(h),M(i,1),i.scaleX=i.scaleY=o*s,i.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var c=void 0,d=void 0,p=n.__labelDistance,g=p[0]*o,f=p[1]*o,m=s/2,y=a.tangentAt(m),v=[y[1],-y[0]],x=a.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var _=y[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var b=-Math.atan2(y[1],y[0]);h[0]<l[0]&&(b=Math.PI+b),n.rotation=b}var w=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-f,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=f,d="top";break;default:w=0,d="middle"}switch(n.__position){case"end":n.x=u[0]*g+h[0],n.y=u[1]*f+h[1],c=u[0]>.8?"left":u[0]<-.8?"right":"center",d=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":n.x=-u[0]*g+l[0],n.y=-u[1]*f+l[1],c=u[0]>.8?"right":u[0]<-.8?"left":"center",d=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=g*_+l[0],n.y=l[1]+w,c=y[0]<0?"right":"left",n.originX=-g*_,n.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=x[0],n.y=x[1]+w,c="center",n.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-g*_+h[0],n.y=h[1]+w,c=y[0]>=0?"right":"left",n.originX=g*_,n.originY=-w;break}n.scaleX=n.scaleY=o,n.setStyle({verticalAlign:n.__verticalAlign||d,align:n.__align||c})}}}function M(t,e){var i=t.__specifiedRotation;if(null==i){var n=a.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else t.attr("rotation",i)}},e}(Fn.A),Ff=Bf,Wf=function(){function t(t){this.group=new Fn.A,this._LineCtor=t||Ff}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var i=this,n=i.group,o=i._lineData;i._lineData=t,o||n.removeAll();var r=Hf(t);t.diff(o).add((function(i){e._doAdd(t,i,r)})).update((function(i,n){e._doUpdate(o,t,n,i,r)})).remove((function(t){n.remove(o.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,i){e.updateLayout(t,i)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Hf(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function i(t){t.isGroup||Gf(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var n=t.start;n<t.end;n++){var o=e.getItemLayout(n);if(jf(o)){var r=new this._LineCtor(e,n,this._seriesScope);r.traverse(i),this.group.add(r),e.setItemGraphicEl(n,r),this._progressiveEls.push(r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Hn.traverseElements(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,i){var n=t.getItemLayout(e);if(jf(n)){var o=new this._LineCtor(t,e,i);t.setItemGraphicEl(e,o),this.group.add(o)}},t.prototype._doUpdate=function(t,e,i,n,o){var r=t.getItemGraphicEl(i);jf(e.getItemLayout(n))?(r?r.updateData(e,n,o):r=new this._LineCtor(e,n,o),e.setItemGraphicEl(n,r),this.group.add(r)):this.group.remove(r)},t}();function Gf(t){return t.animators&&t.animators.length>0}function Hf(t){var e=t.hostModel,i=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:(0,st.lx)(e)}}function Xf(t){return isNaN(t[0])||isNaN(t[1])}function jf(t){return t&&!Xf(t[0])&&!Xf(t[1])}var Yf=Wf,$f=[],Uf=[],Zf=[],qf=C.k3,Kf=D.oi,Jf=Math.abs;function Qf(t,e,i){for(var n,o=t[0],r=t[1],a=t[2],s=1/0,l=i*i,h=.1,u=.1;u<=.9;u+=.1){$f[0]=qf(o[0],r[0],a[0],u),$f[1]=qf(o[1],r[1],a[1],u);var c=Jf(Kf($f,e)-l);c<s&&(s=c,n=u)}for(var d=0;d<32;d++){var p=n+h;Uf[0]=qf(o[0],r[0],a[0],n),Uf[1]=qf(o[1],r[1],a[1],n),Zf[0]=qf(o[0],r[0],a[0],p),Zf[1]=qf(o[1],r[1],a[1],p);c=Kf(Uf,e)-l;if(Jf(c)<.01)break;var g=Kf(Zf,e)-l;h/=2,c<0?g>=0?n+=h:n-=h:g>=0?n-=h:n+=h}return n}function tm(t,e){var i=[],n=C.kx,o=[[],[],[]],r=[[],[]],a=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),h=t.getVisual("fromSymbol"),u=t.getVisual("toSymbol");l.__original||(l.__original=[D.o8(l[0]),D.o8(l[1])],l[2]&&l.__original.push(D.o8(l[2])));var c=l.__original;if(null!=l[2]){if(D.C(o[0],c[0]),D.C(o[1],c[2]),D.C(o[2],c[1]),h&&"none"!==h){var d=ff(t.node1),p=Qf(o,c[0],d*e);n(o[0][0],o[1][0],o[2][0],p,i),o[0][0]=i[3],o[1][0]=i[4],n(o[0][1],o[1][1],o[2][1],p,i),o[0][1]=i[3],o[1][1]=i[4]}if(u&&"none"!==u){d=ff(t.node2),p=Qf(o,c[1],d*e);n(o[0][0],o[1][0],o[2][0],p,i),o[1][0]=i[1],o[2][0]=i[2],n(o[0][1],o[1][1],o[2][1],p,i),o[1][1]=i[1],o[2][1]=i[2]}D.C(l[0],o[0]),D.C(l[1],o[2]),D.C(l[2],o[1])}else{if(D.C(r[0],c[0]),D.C(r[1],c[1]),D.jb(a,r[1],r[0]),D.S8(a,a),h&&"none"!==h){d=ff(t.node1);D.Ln(r[0],r[0],a,d*e)}if(u&&"none"!==u){d=ff(t.node2);D.Ln(r[1],r[1],a,-d*e)}D.C(l[0],r[0]),D.C(l[1],r[1])}}))}function em(t){return"view"===t.type}var im=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){var i=new Qn,n=new Yf,o=this.group;this._controller=new su(e.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},e.prototype.render=function(t,e,i){var n=this,o=t.coordinateSystem;this._model=t;var r=this._symbolDraw,a=this._lineDraw,s=this.group;if(em(o)){var l={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?s.attr(l):v.oi(s,l,t)}tm(t.getGraph(),gf(t));var h=t.getData();r.updateData(h);var u=t.getEdgeData();a.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var c=t.forceLayout,d=t.get(["force","layoutAnimation"]);c&&this._startForceLayoutIteration(c,d);var p=t.get("layout");h.graph.eachNode((function(e){var i=e.dataIndex,o=e.getGraphicEl(),r=e.getModel();if(o){o.off("drag").off("dragend");var a=r.get("draggable");a&&o.on("drag",(function(r){switch(p){case"force":c.warmUp(),!n._layouting&&n._startForceLayoutIteration(c,d),c.setFixed(i),h.setItemLayout(i,[o.x,o.y]);break;case"circular":h.setItemLayout(i,[o.x,o.y]),e.setLayout({fixed:!0},!0),vf(t,"symbolSize",e,[r.offsetX,r.offsetY]),n.updateLayout(t);break;case"none":default:h.setItemLayout(i,[o.x,o.y]),df(t.getGraph(),t),n.updateLayout(t);break}})).on("dragend",(function(){c&&c.setUnfixed(i)})),o.setDraggable(a,!!r.get("cursor"));var s=r.get(["emphasis","focus"]);"adjacency"===s&&((0,x.z)(o).focus=e.getAdjacentDataIndices())}})),h.graph.eachEdge((function(t){var e=t.getGraphicEl(),i=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===i&&((0,x.z)(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var g="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),f=h.getLayout("cx"),m=h.getLayout("cy");h.graph.eachNode((function(t){_f(t,g,f,m)})),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var i=this;(function n(){t.step((function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())}))})()},e.prototype._updateController=function(t,e,i){var n=this,o=this._controller,r=this._controllerHost,a=this.group;o.setPointerChecker((function(e,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)&&!cu(e,i,t)})),em(t.coordinateSystem)?(o.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){lu(r,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){hu(r,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),n._updateNodeAndLinkScale(),tm(t.getGraph(),gf(t)),n._lineDraw.updateLayout(),i.updateLabelLayout()}))):o.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),i=gf(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(i)}))},e.prototype.updateLayout=function(t){tm(t.getGraph(),gf(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(s.A),nm=im;function om(t){return"_EC_"+t}var rm=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var i=this._nodesMap;if(!i[om(t)]){var n=new am(t,e);return n.hostGraph=this,this.nodes.push(n),i[om(t)]=n,n}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[om(t)]},t.prototype.addEdge=function(t,e,i){var n=this._nodesMap,o=this._edgesMap;if(u.Et(t)&&(t=this.nodes[t]),u.Et(e)&&(e=this.nodes[e]),t instanceof am||(t=n[om(t)]),e instanceof am||(e=n[om(e)]),t&&e){var r=t.id+"-"+e.id,a=new sm(t,e,i);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),o[r]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof am&&(t=t.id),e instanceof am&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},t.prototype.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},t.prototype.breadthFirstTraverse=function(t,e,i,n){if(e instanceof am||(e=this._nodesMap[om(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(n,e,null)){var a=[e];while(a.length){var s=a.shift(),l=s[o];for(r=0;r<l.length;r++){var h=l[r],u=h.node1===s?h.node2:h.node1;if(!u.__visited){if(t.call(n,u,s))return;a.push(u),u.__visited=!0}}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,r=i.length;o<r;o++)i[o].dataIndex=-1;for(o=0,r=t.count();o<r;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf((function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(o=0,r=n.length;o<r;o++)n[o].dataIndex=-1;for(o=0,r=e.count();o<r;o++)n[e.getRawIndex(o)].dataIndex=o},t.prototype.clone=function(){for(var e=new t(this._directed),i=this.nodes,n=this.edges,o=0;o<i.length;o++)e.addNode(i[o].id,i[o].dataIndex);for(o=0;o<n.length;o++){var r=n[o];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},t}(),am=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.data.getItemModel(this.dataIndex);return i.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var i=this.edges[e];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=u.nt(),e=u.nt(),i=0;i<this.edges.length;i++){var n=this.edges[i];if(!(n.dataIndex<0)){t.set(n.dataIndex,!0);var o=[n.node1],r=[n.node2],a=0;while(a<o.length){var s=o[a];a++,e.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)t.set(s.inEdges[l].dataIndex,!0),o.push(s.inEdges[l].node1)}a=0;while(a<r.length){var h=r[a];a++,e.set(h.dataIndex,!0);for(l=0;l<h.outEdges.length;l++)t.set(h.outEdges[l].dataIndex,!0),r.push(h.outEdges[l].node2)}}}return{edge:t.keys(),node:e.keys()}},t}(),sm=function(){function t(t,e,i){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}return t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.edgeData.getItemModel(this.dataIndex);return i.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=u.nt(),e=u.nt();t.set(this.dataIndex,!0);var i=[this.node1],n=[this.node2],o=0;while(o<i.length){var r=i[o];o++,e.set(r.dataIndex,!0);for(var a=0;a<r.inEdges.length;a++)t.set(r.inEdges[a].dataIndex,!0),i.push(r.inEdges[a].node1)}o=0;while(o<n.length){var s=n[o];o++,e.set(s.dataIndex,!0);for(a=0;a<s.outEdges.length;a++)t.set(s.outEdges[a].dataIndex,!0),n.push(s.outEdges[a].node2)}return{edge:t.keys(),node:e.keys()}},t}();function lm(t,e){return{getValue:function(i){var n=this[t][e];return n.getStore().get(n.getDimensionIndex(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i){return this[t][e].getItemVisual(this.dataIndex,i)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}u.co(am,lm("hostGraph","data")),u.co(sm,lm("hostGraph","edgeData"));var hm=rm;function um(t,e,i,n,o){for(var r=new hm(n),a=0;a<t.length;a++)r.addNode(u.Je(t[a].id,t[a].name,a),a);var s=[],l=[],h=0;for(a=0;a<e.length;a++){var c=e[a],d=c.source,p=c.target;r.addEdge(d,p,h)&&(l.push(c),s.push(u.Je((0,m.vS)(c.id,null),d+" > "+p)),h++)}var g,f=i.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)g=Vn(t,i);else{var y=Sn.A.get(f),v=y&&y.dimensions||[];u.qh(v,"value")<0&&v.concat(["value"]);var x=_n(t,{coordDimensions:v,encodeDefine:i.getEncode()}).dimensions;g=new vn(x,i),g.initData(t)}var _=new vn(["value"],i);return _.initData(l,s),o&&o(g,_),ep({mainData:g,struct:r,structAttr:"graph",datas:{node:g,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),r.update(),r}var cm=i(4235),dm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return(0,Pi.C6)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var i=this;function n(){return i._categoriesData}this.legendVisualProvider=new ma(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,m.M5)(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var i=t.edges||t.links||[],n=t.data||t.nodes||[],o=this;if(n&&i){lf(this);var r=um(n,i,this,!0,a);return u.__(r.edges,(function(t){hf(t.node1,t.node2,this,t.dataIndex)}),this),r.data}function a(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels,i=t.getShallow("category"),n=e[i];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t}));var i=Oi.A.prototype.getModel;function n(t,e){var n=i.call(this,t,e);return n.resolveParentPath=r,n}function r(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=r,t.getModel=n,t}))}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(t,i),r=n.graph.getEdgeByIndex(t),a=n.getName(r.node1.dataIndex),s=n.getName(r.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),(0,Oh.Qx)("nameValue",{name:l.join(" > "),value:o.value,noValue:null==o.value})}var h=(0,cm.J)({series:this,dataIndex:t,multipleSeries:e});return h},e.prototype._updateCategoriesData=function(){var t=u.Tj(this.option.categories||[],(function(t){return null!=t.value?t:u.X$({value:0},t)})),e=new vn(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(h.A),pm=dm,gm={type:"graphRoam",event:"graphRoam",update:"none"};function fm(t){t.registerChartView(nm),t.registerSeriesModel(pm),t.registerProcessor(Zg),t.registerVisual(qg),t.registerVisual(Jg),t.registerLayout(pf),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,bf),t.registerLayout(Sf),t.registerCoordinateSystem("graphView",{dimensions:Jc.dimensions,create:Af}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},u.lQ),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},u.lQ),t.registerAction(gm,(function(t,e,i){e.eachComponent({mainType:"series",query:t},(function(e){var n=e.coordinateSystem,o=dd(n,t,void 0,i);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom)}))}))}var mm=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),ym=function(t){function e(e){var i=t.call(this,e)||this;return i.type="pointer",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new mm},e.prototype.buildPath=function(t,e){var i=Math.cos,n=Math.sin,o=e.r,r=e.width,a=e.angle,s=e.x-i(a)*r*(r>=o/3?1:2),l=e.y-n(a)*r*(r>=o/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(a)*r,e.y+n(a)*r),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(a)*r,e.y-n(a)*r),t.lineTo(s,l)},e}(M.Ay),vm=ym;function xm(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o),a=(0,_.lo)(i[0],e.getWidth()),s=(0,_.lo)(i[1],e.getHeight()),l=(0,_.lo)(t.get("radius"),r/2);return{cx:a,cy:s,r:l}}function _m(t,e){var i=null==t?"":t+"";return e&&((0,u.Kg)(e)?i=e.replace("{value}",i):(0,u.Tn)(e)&&(i=e(t))),i}var bm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){this.group.removeAll();var n=t.get(["axisLine","lineStyle","color"]),o=xm(t,i);this._renderMain(t,e,i,n,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,i,n,o){var r=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,h=t.getModel("axisLine"),c=h.get("roundCap"),d=c?vr:xo.A,p=h.get("show"),g=h.getModel("lineStyle"),f=g.get("width"),m=[s,l];(0,I.q)(m,!a),s=m[0],l=m[1];for(var y=l-s,v=s,x=[],_=0;p&&_<n.length;_++){var b=Math.min(Math.max(n[_][0],0),1);l=s+y*b;var w=new d({shape:{startAngle:v,endAngle:l,cx:o.cx,cy:o.cy,clockwise:a,r0:o.r-f,r:o.r},silent:!0});w.setStyle({fill:n[_][1]}),w.setStyle(g.getLineStyle(["color","width"])),x.push(w),v=l}x.reverse(),(0,u.__)(x,(function(t){return r.add(t)}));var M=function(t){if(t<=0)return n[0][1];var e;for(e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};this._renderTicks(t,e,i,M,o,s,l,a,f),this._renderTitleAndDetail(t,e,i,M,o),this._renderAnchor(t,o),this._renderPointer(t,e,i,M,o,s,l,a,f)},e.prototype._renderTicks=function(t,e,i,n,o,r,a,s,l){for(var h,c,d=this.group,p=o.cx,g=o.cy,f=o.r,m=+t.get("min"),y=+t.get("max"),v=t.getModel("splitLine"),x=t.getModel("axisTick"),b=t.getModel("axisLabel"),w=t.get("splitNumber"),M=x.get("splitNumber"),S=(0,_.lo)(v.get("length"),f),I=(0,_.lo)(x.get("length"),f),A=r,C=(a-r)/w,T=C/M,D=v.getModel("lineStyle").getLineStyle(),L=x.getModel("lineStyle").getLineStyle(),k=v.get("distance"),P=0;P<=w;P++){if(h=Math.cos(A),c=Math.sin(A),v.get("show")){var O=k?k+l:l,N=new Bl.A({shape:{x1:h*(f-O)+p,y1:c*(f-O)+g,x2:h*(f-S-O)+p,y2:c*(f-S-O)+g},style:D,silent:!0});"auto"===D.stroke&&N.setStyle({stroke:n(P/w)}),d.add(N)}if(b.get("show")){O=b.get("distance")+k;var R=_m((0,_.LI)(P/w*(y-m)+m),b.get("formatter")),E=n(P/w),z=h*(f-S-O)+p,V=c*(f-S-O)+g,B=b.get("rotate"),F=0;"radial"===B?(F=-A+2*Math.PI,F>Math.PI/2&&(F+=Math.PI)):"tangential"===B?F=-A-Math.PI/2:(0,u.Et)(B)&&(F=B*Math.PI/180),0===F?d.add(new Ne.Ay({style:(0,st.VB)(b,{text:R,x:z,y:V,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:h<-.4?"left":h>.4?"right":"center"},{inheritColor:E}),silent:!0})):d.add(new Ne.Ay({style:(0,st.VB)(b,{text:R,x:z,y:V,verticalAlign:"middle",align:"center"},{inheritColor:E}),silent:!0,originX:z,originY:V,rotation:F}))}if(x.get("show")&&P!==w){O=x.get("distance");O=O?O+l:l;for(var W=0;W<=M;W++){h=Math.cos(A),c=Math.sin(A);var G=new Bl.A({shape:{x1:h*(f-O)+p,y1:c*(f-O)+g,x2:h*(f-I-O)+p,y2:c*(f-I-O)+g},silent:!0,style:L});"auto"===L.stroke&&G.setStyle({stroke:n((P+W/M)/w)}),d.add(G),A+=T}A-=T}else A+=C}},e.prototype._renderPointer=function(t,e,i,n,o,r,a,s,l){var h=this.group,c=this._data,d=this._progressEls,p=[],g=t.get(["pointer","show"]),f=t.getModel("progress"),m=f.get("show"),y=t.getData(),b=y.mapDimension("value"),w=+t.get("min"),M=+t.get("max"),S=[w,M],I=[r,a];function A(e,i){var n,r=y.getItemModel(e),a=r.getModel("pointer"),s=(0,_.lo)(a.get("width"),o.r),l=(0,_.lo)(a.get("length"),o.r),h=t.get(["pointer","icon"]),u=a.get("offsetCenter"),c=(0,_.lo)(u[0],o.r),d=(0,_.lo)(u[1],o.r),p=a.get("keepAspect");return n=h?(0,Bn.v5)(h,c-s/2,d-l,s,l,null,p):new vm({shape:{angle:-Math.PI/2,width:s,r:l,x:c,y:d}}),n.rotation=-(i+Math.PI/2),n.x=o.cx,n.y=o.cy,n}function C(t,e){var i=f.get("roundCap"),n=i?vr:xo.A,a=f.get("overlap"),h=a?f.get("width"):l/y.count(),u=a?o.r-h:o.r-(t+1)*h,c=a?o.r:o.r-t*h,d=new n({shape:{startAngle:r,endAngle:e,cx:o.cx,cy:o.cy,clockwise:s,r0:u,r:c}});return a&&(d.z2=M-y.get(b,t)%M),d}(m||g)&&(y.diff(c).add((function(e){var i=y.get(b,e);if(g){var n=A(e,r);v.LW(n,{rotation:-((isNaN(+i)?I[0]:(0,_.Cb)(i,S,I,!0))+Math.PI/2)},t),h.add(n),y.setItemGraphicEl(e,n)}if(m){var o=C(e,r),a=f.get("clip");v.LW(o,{shape:{endAngle:(0,_.Cb)(i,S,I,a)}},t),h.add(o),(0,x.a)(t.seriesIndex,y.dataType,e,o),p[e]=o}})).update((function(e,i){var n=y.get(b,e);if(g){var o=c.getItemGraphicEl(i),a=o?o.rotation:r,s=A(e,a);s.rotation=a,v.oi(s,{rotation:-((isNaN(+n)?I[0]:(0,_.Cb)(n,S,I,!0))+Math.PI/2)},t),h.add(s),y.setItemGraphicEl(e,s)}if(m){var l=d[i],u=l?l.shape.endAngle:r,w=C(e,u),M=f.get("clip");v.oi(w,{shape:{endAngle:(0,_.Cb)(n,S,I,M)}},t),h.add(w),(0,x.a)(t.seriesIndex,y.dataType,e,w),p[e]=w}})).execute(),y.each((function(t){var e=y.getItemModel(t),i=e.getModel("emphasis"),o=i.get("focus"),r=i.get("blurScope"),a=i.get("disabled");if(g){var s=y.getItemGraphicEl(t),l=y.getItemVisual(t,"style"),h=l.fill;if(s instanceof Gt.Ay){var c=s.style;s.useStyle((0,u.X$)({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(h);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",n((0,_.Cb)(y.get(b,t),S,[0,1],!0))),s.z2EmphasisLift=0,(0,L.Mx)(s,e),(0,L.Lm)(s,o,r,a)}if(m){var d=p[t];d.useStyle(y.getItemVisual(t,"style")),d.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),d.z2EmphasisLift=0,(0,L.Mx)(d,e),(0,L.Lm)(d,o,r,a)}})),this._progressEls=p)},e.prototype._renderAnchor=function(t,e){var i=t.getModel("anchor"),n=i.get("show");if(n){var o=i.get("size"),r=i.get("icon"),a=i.get("offsetCenter"),s=i.get("keepAspect"),l=(0,Bn.v5)(r,e.cx-o/2+(0,_.lo)(a[0],e.r),e.cy-o/2+(0,_.lo)(a[1],e.r),o,o,null,s);l.z2=i.get("showAbove")?1:0,l.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(l)}},e.prototype._renderTitleAndDetail=function(t,e,i,n,o){var r=this,a=t.getData(),s=a.mapDimension("value"),l=+t.get("min"),h=+t.get("max"),u=new Fn.A,c=[],d=[],p=t.isAnimationEnabled(),g=t.get(["pointer","showAbove"]);a.diff(this._data).add((function(t){c[t]=new Ne.Ay({silent:!0}),d[t]=new Ne.Ay({silent:!0})})).update((function(t,e){c[t]=r._titleEls[e],d[t]=r._detailEls[e]})).execute(),a.each((function(e){var i=a.getItemModel(e),r=a.get(s,e),f=new Fn.A,m=n((0,_.Cb)(r,[l,h],[0,1],!0)),y=i.getModel("title");if(y.get("show")){var v=y.get("offsetCenter"),x=o.cx+(0,_.lo)(v[0],o.r),b=o.cy+(0,_.lo)(v[1],o.r),w=c[e];w.attr({z2:g?0:2,style:(0,st.VB)(y,{x:x,y:b,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:m})}),f.add(w)}var M=i.getModel("detail");if(M.get("show")){var S=M.get("offsetCenter"),I=o.cx+(0,_.lo)(S[0],o.r),A=o.cy+(0,_.lo)(S[1],o.r),C=(0,_.lo)(M.get("width"),o.r),T=(0,_.lo)(M.get("height"),o.r),D=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:m,L=(w=d[e],M.get("formatter"));w.attr({z2:g?0:2,style:(0,st.VB)(M,{x:I,y:A,text:_m(r,L),width:isNaN(C)?null:C,height:isNaN(T)?null:T,align:"center",verticalAlign:"middle"},{inheritColor:D})}),(0,st.Oh)(w,{normal:M},r,(function(t){return _m(t,L)})),p&&(0,st.xb)(w,e,a,t,{getFormattedLabel:function(t,e,i,n,o,a){return _m(a?a.interpolatedValue:r,L)}}),f.add(w)}u.add(f)})),this.group.add(u),this._titleEls=c,this._detailEls=d},e.type="gauge",e}(s.A),wm=bm,Mm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.visualStyleAccessPath="itemStyle",i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){return ga(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(h.A),Sm=Mm;function Im(t){t.registerChartView(wm),t.registerSeriesModel(Sm)}var Am=["itemStyle","opacity"],Cm=function(t){function e(e,i){var n=t.call(this)||this,o=n,r=new S.A,a=new Ne.Ay;return o.setTextContent(a),n.setTextGuideLine(r),n.updateData(e,i,!0),n}return(0,Pi.C6)(e,t),e.prototype.updateData=function(t,e,i){var n=this,o=t.hostModel,r=t.getItemModel(e),a=t.getItemLayout(e),s=r.getModel("emphasis"),l=r.get(Am);l=null==l?1:l,i||(0,v.ap)(n),n.useStyle(t.getItemVisual(e,"style")),n.style.lineJoin="round",i?(n.setShape({points:a.points}),n.style.opacity=0,v.LW(n,{style:{opacity:l}},o,e)):v.oi(n,{style:{opacity:l},shape:{points:a.points}},o,e),(0,L.Mx)(n,r),this._updateLabel(t,e),(0,L.Lm)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t,e){var i=this,n=this.getTextGuideLine(),o=i.getTextContent(),r=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e),l=s.label,h=t.getItemVisual(e,"style"),u=h.fill;(0,st.qM)(o,(0,st.lx)(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:h.opacity,defaultText:t.getName(e)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),i.setTextConfig({local:!0,inside:!!l.inside,insideStroke:u,outsideFill:u});var c=l.linePoints;n.setShape({points:c}),i.textGuideLineConfig={anchor:c?new w.A(c[0][0],c[0][1]):null},v.oi(o,{style:{x:l.x,y:l.y}},r,e),o.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),Q(i,tt(a),{stroke:u})},e}(Lh.A),Tm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.ignoreLabelLineUpdate=!0,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this._data,r=this.group;n.diff(o).add((function(t){var e=new Cm(n,t);n.setItemGraphicEl(t,e),r.add(e)})).update((function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),r.add(i),n.setItemGraphicEl(t,i)})).remove((function(e){var i=o.getItemGraphicEl(e);v.t5(i,t,e)})).execute(),this._data=n},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(s.A),Dm=Tm,Lm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new ma(u.oI(this.getData,this),u.oI(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return ga(this,{coordDimensions:["value"],encodeDefaulter:u.cF(xn.ln,this)})},e.prototype._defaultLabelLine=function(t){(0,m.M5)(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var i=this.getData(),n=t.prototype.getDataParams.call(this,e),o=i.mapDimension("value"),r=i.getSum(o);return n.percent=r?+(i.get(o,e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(h.A),km=Lm;function Pm(t,e){return Kr.dV(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Om(t,e){for(var i=t.mapDimension("value"),n=t.mapArray(i,(function(t){return t})),o=[],r="ascending"===e,a=0,s=t.count();a<s;a++)o[a]=a;return(0,u.Tn)(e)?o.sort(e):"none"!==e&&o.sort((function(t,e){return r?n[t]-n[e]:n[e]-n[t]})),o}function Nm(t){var e=t.hostModel,i=e.get("orient");t.each((function(e){var n,o,r,a,s=t.getItemModel(e),l=s.getModel("label"),h=l.get("position"),u=s.getModel("labelLine"),c=t.getItemLayout(e),d=c.points,p="inner"===h||"inside"===h||"center"===h||"insideLeft"===h||"insideRight"===h;if(p)"insideLeft"===h?(o=(d[0][0]+d[3][0])/2+5,r=(d[0][1]+d[3][1])/2,n="left"):"insideRight"===h?(o=(d[1][0]+d[2][0])/2-5,r=(d[1][1]+d[2][1])/2,n="right"):(o=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,r=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,n="center"),a=[[o,r],[o,r]];else{var g=void 0,f=void 0,m=void 0,y=void 0,v=u.get("length");0,"left"===h?(g=(d[3][0]+d[0][0])/2,f=(d[3][1]+d[0][1])/2,m=g-v,o=m-5,n="right"):"right"===h?(g=(d[1][0]+d[2][0])/2,f=(d[1][1]+d[2][1])/2,m=g+v,o=m+5,n="left"):"top"===h?(g=(d[3][0]+d[0][0])/2,f=(d[3][1]+d[0][1])/2,y=f-v,r=y-5,n="center"):"bottom"===h?(g=(d[1][0]+d[2][0])/2,f=(d[1][1]+d[2][1])/2,y=f+v,r=y+5,n="center"):"rightTop"===h?(g="horizontal"===i?d[3][0]:d[1][0],f="horizontal"===i?d[3][1]:d[1][1],"horizontal"===i?(y=f-v,r=y-5,n="center"):(m=g+v,o=m+5,n="top")):"rightBottom"===h?(g=d[2][0],f=d[2][1],"horizontal"===i?(y=f+v,r=y+5,n="center"):(m=g+v,o=m+5,n="bottom")):"leftTop"===h?(g=d[0][0],f="horizontal"===i?d[0][1]:d[1][1],"horizontal"===i?(y=f-v,r=y-5,n="center"):(m=g-v,o=m-5,n="right")):"leftBottom"===h?(g="horizontal"===i?d[1][0]:d[3][0],f="horizontal"===i?d[1][1]:d[2][1],"horizontal"===i?(y=f+v,r=y+5,n="center"):(m=g-v,o=m-5,n="right")):(g=(d[1][0]+d[2][0])/2,f=(d[1][1]+d[2][1])/2,"horizontal"===i?(y=f+v,r=y+5,n="center"):(m=g+v,o=m+5,n="left")),"horizontal"===i?(m=g,o=m):(y=f,r=y),a=[[g,f],[m,y]]}c.label={linePoints:a,x:o,y:r,verticalAlign:"middle",textAlign:n,inside:p}}))}function Rm(t,e){t.eachSeriesByType("funnel",(function(t){var i=t.getData(),n=i.mapDimension("value"),o=t.get("sort"),r=Pm(t,e),a=t.get("orient"),s=r.width,l=r.height,h=Om(i,o),u=r.x,c=r.y,d="horizontal"===a?[(0,_.lo)(t.get("minSize"),l),(0,_.lo)(t.get("maxSize"),l)]:[(0,_.lo)(t.get("minSize"),s),(0,_.lo)(t.get("maxSize"),s)],p=i.getDataExtent(n),g=t.get("min"),f=t.get("max");null==g&&(g=Math.min(p[0],0)),null==f&&(f=p[1]);var m=t.get("funnelAlign"),y=t.get("gap"),v="horizontal"===a?s:l,x=(v-y*(i.count()-1))/i.count(),b=function(t,e){if("horizontal"===a){var o=i.get(n,t)||0,r=(0,_.Cb)(o,[g,f],d,!0),h=void 0;switch(m){case"top":h=c;break;case"center":h=c+(l-r)/2;break;case"bottom":h=c+(l-r);break}return[[e,h],[e,h+r]]}var p,y=i.get(n,t)||0,v=(0,_.Cb)(y,[g,f],d,!0);switch(m){case"left":p=u;break;case"center":p=u+(s-v)/2;break;case"right":p=u+s-v;break}return[[p,e],[p+v,e]]};"ascending"===o&&(x=-x,y=-y,"horizontal"===a?u+=s:c+=l,h=h.reverse());for(var w=0;w<h.length;w++){var M=h[w],S=h[w+1],I=i.getItemModel(M);if("horizontal"===a){var A=I.get(["itemStyle","width"]);null==A?A=x:(A=(0,_.lo)(A,s),"ascending"===o&&(A=-A));var C=b(M,u),T=b(S,u+A);u+=A+y,i.setItemLayout(M,{points:C.concat(T.slice().reverse())})}else{var D=I.get(["itemStyle","height"]);null==D?D=x:(D=(0,_.lo)(D,l),"ascending"===o&&(D=-D));C=b(M,c),T=b(S,c+D);c+=D+y,i.setItemLayout(M,{points:C.concat(T.slice().reverse())})}}Nm(i)}))}function Em(t){t.registerChartView(Dm),t.registerSeriesModel(km),t.registerLayout(Rm),t.registerProcessor(oa("funnel"))}var zm=.3,Vm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._dataGroup=new Fn.A,i._initialized=!1,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,i,n){this._progressiveEls=null;var o=this._dataGroup,r=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,h=Gm(t);function u(t){var e=Wm(r,o,t,l,s);Hm(e,r,t,h)}function c(e,i){var n=a.getItemGraphicEl(i),o=Fm(r,e,l,s);r.setItemGraphicEl(e,n),v.oi(n,{shape:{points:o}},t,e),(0,v.ap)(n),Hm(n,r,e,h)}function d(t){var e=a.getItemGraphicEl(t);o.remove(e)}if(r.diff(a).add(u).update(c).remove(d).execute(),!this._initialized){this._initialized=!0;var p=Bm(s,t,(function(){setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(p)}this._data=r},e.prototype.incrementalPrepareRender=function(t,e,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,i){for(var n=e.getData(),o=e.coordinateSystem,r=o.dimensions,a=Gm(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var h=Wm(n,this._dataGroup,l,r,o);h.incremental=!0,Hm(h,n,l,a),s.push(h)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(s.A);function Bm(t,e,i){var n=t.model,o=t.getRect(),r=new vo.A({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===n.get("layout")?"width":"height";return r.setShape(a,0),v.LW(r,{shape:{width:o.width,height:o.height}},e,i),r}function Fm(t,e,i,n){for(var o=[],r=0;r<i.length;r++){var a=i[r],s=t.get(t.mapDimension(a),e);Xm(s,n.getAxis(a).type)||o.push(n.dataToPoint(s,a))}return o}function Wm(t,e,i,n,o){var r=Fm(t,i,n,o),a=new S.A({shape:{points:r},z2:10});return e.add(a),t.setItemGraphicEl(i,a),a}function Gm(t){var e=t.get("smooth",!0);return!0===e&&(e=zm),e=(0,_.Sm)(e),(0,u.Yp)(e)&&(e=0),{smooth:e}}function Hm(t,e,i,n){t.useStyle(e.getItemVisual(i,"style")),t.style.fill=null,t.setShape("smooth",n.smooth);var o=e.getItemModel(i),r=o.getModel("emphasis");(0,L.Mx)(t,o,"lineStyle"),(0,L.Lm)(t,r.get("focus"),r.get("blurScope"),r.get("disabled"))}function Xm(t,e){return"category"===e?null==t:null==t||isNaN(t)}var jm=Vm,Ym=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){return Vn(null,this,{useEncodeDefaulter:(0,u.oI)($m,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,(function(e,o){t===e&&n.push(i.getRawIndex(o))})),n},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(h.A);function $m(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var i={};return(0,u.__)(e.dimensions,(function(t){var e=Um(t);i[t]=e})),i}}function Um(t){return+t.replace("dim","")}var Zm=Ym,qm=["lineStyle","opacity"],Km={seriesType:"parallel",reset:function(t,e){var i=t.coordinateSystem,n={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){i.eachActiveState(e,(function(t,i){var o=n[t];if("normal"===t&&e.hasItemOption){var r=e.getItemModel(i).get(qm,!0);null!=r&&(o=r)}var a=e.ensureUniqueItemVisual(i,"style");a.opacity=o}),t.start,t.end)}}}},Jm=Km;function Qm(t){ty(t),ey(t)}function ty(t){if(!t.parallel){var e=!1;u.__(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}}function ey(t){var e=m.qB(t.parallelAxis);u.__(e,(function(e){if(u.Gv(e)){var i=e.parallelIndex||0,n=m.qB(t.parallel)[i];n&&n.parallelAxisDefault&&u.h1(e,n.parallelAxisDefault,!1)}}))}var iy=5,ny=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},(0,u.__)(oy,(function(t,e){i.getZr().on(e,this._handlers[e]=(0,u.oI)(t,this))}),this)),(0,fr.N)(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){(0,fr.IU)(this,"_throttledDispatchExpand"),(0,u.__)(this._handlers,(function(t,i){e.getZr().off(i,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction((0,u.X$)({type:"parallelAxisExpand"},t))},e.type="parallel",e}(a.A),oy={mousedown:function(t){ry(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(ry(this,"click")&&e){var i=[t.offsetX,t.offsetY],n=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2);if(n>iy)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&ry(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n?null:{duration:0}})}}};function ry(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e}var ay=ny,sy=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&u.h1(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){u.__(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=u.pb(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);u.__(i,(function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(l.A),ly=sy,hy=function(t){function e(e,i,n,o,r){var a=t.call(this,e,i,n)||this;return a.type=o||"value",a.axisIndex=r,a}return(0,Pi.C6)(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(Il),uy=hy;function cy(t,e,i,n,o,r){t=t||0;var a=i[1]-i[0];if(null!=o&&(o=py(o,[0,a])),null!=r&&(r=Math.max(r,null!=o?o:0)),"all"===n){var s=Math.abs(e[1]-e[0]);s=py(s,[0,a]),o=r=py(s,[o,r]),n=0}e[0]=py(e[0],i),e[1]=py(e[1],i);var l=dy(e,n);e[n]+=t;var h,u=o||0,c=i.slice();return l.sign<0?c[0]+=u:c[1]-=u,e[n]=py(e[n],c),h=dy(e,n),null!=o&&(h.sign!==l.sign||h.span<o)&&(e[1-n]=e[n]+l.sign*o),h=dy(e,n),null!=r&&h.span>r&&(e[1-n]=e[n]+h.sign*r),e}function dy(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function py(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var gy=u.__,fy=Math.min,my=Math.max,yy=Math.floor,vy=Math.ceil,xy=_.LI,_y=Math.PI,by=function(){function t(t,e,i){this.type="parallel",this._axesMap=u.nt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}return t.prototype._init=function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;gy(n,(function(t,i){var n=o[i],r=e.getComponent("parallelAxis",n),a=this._axesMap.set(t,new uy(t,Hs(r),[0,0],r.get("type"),n)),s="category"===a.type;a.onBand=s&&r.get("boundaryGap"),a.inverse=r.get("inverse"),r.axis=a,a.model=r,a.coordinateSystem=r.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,r=t[1-o],a=t[o];return r>=i&&r<=i+e.axisLength&&a>=n&&a<=n+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(i){if(t.contains(i,e)){var n=i.getData();gy(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),Gs(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Kr.dV(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,i=this._rect,n=["x","y"],o=["width","height"],r=e.get("layout"),a="horizontal"===r?0:1,s=i[o[a]],l=[0,s],h=this.dimensions.length,u=wy(e.get("axisExpandWidth"),l),c=wy(e.get("axisExpandCount")||0,[0,h]),d=e.get("axisExpandable")&&h>3&&h>c&&c>1&&u>0&&s>0,p=e.get("axisExpandWindow");if(p)t=wy(p[1]-p[0],l),p[1]=p[0]+t;else{t=wy(u*(c-1),l);var g=e.get("axisExpandCenter")||yy(h/2);p=[u*g-t/2],p[1]=p[0]+t}var f=(s-t)/(h-c);f<3&&(f=0);var m=[yy(xy(p[0]/u,1))+1,vy(xy(p[1]/u,1))-1],y=f/u*p[0];return{layout:r,pixelDimIndex:a,layoutBase:i[n[a]],layoutLength:s,axisBase:i[n[1-a]],axisLength:i[o[1-a]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:f,axisExpandWindow:p,axisCount:h,winInnerIndices:m,axisExpandWindow0Pos:y}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;e.each((function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])})),gy(i,(function(e,i){var r=(n.axisExpandable?Sy:My)(i,n),a={horizontal:{x:r.position,y:n.axisLength},vertical:{x:0,y:r.position}},s={horizontal:_y/2,vertical:0},l=[a[o].x+t.x,a[o].y+t.y],h=s[o],u=T.vt();T.e$(u,u,h),T.Tl(u,u,l),this._axesLayout[e]={position:l,rotation:h,transform:u,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,i,n){null==i&&(i=0),null==n&&(n=t.count());var o=this._axesMap,r=this.dimensions,a=[],s=[];u.__(r,(function(e){a.push(t.mapDimension(e)),s.push(o.get(e).model)}));for(var l=this.hasAxisBrushed(),h=i;h<n;h++){var c=void 0;if(l){c="active";for(var d=t.getValues(a,h),p=0,g=r.length;p<g;p++){var f=s[p].getActiveState(d[p]);if("inactive"===f){c="inactive";break}}}else c="normal";e(c,h)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)"normal"!==e.get(t[n]).model.getActiveState()&&(i=!0);return i},t.prototype.axisCoordToPoint=function(t,e){var i=this._axesLayout[e];return Hn.applyTransform([t,0],i.transform)},t.prototype.getAxisLayout=function(t){return u.o8(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],r=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:n};var a,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",h=e.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),c=null!=u[0];if(h)c&&h&&s<o*u[0]?(l="jump",a=s-o*u[2]):c&&h&&s>o*(1-u[0])?(l="jump",a=s-o*(1-u[2])):(a=s-o*u[1])>=0&&(a=s-o*(1-u[1]))<=0&&(a=0),a*=e.axisExpandWidth/h,a?cy(a,n,r,"all"):l="none";else{var d=n[1]-n[0],p=r[1]*s/d;n=[my(0,p-d/2)],n[1]=fy(r[1],n[0]+d),n[0]=n[1]-d}return{axisExpandWindow:n,behavior:l}},t}();function wy(t,e){return fy(my(t,e[0]),e[1])}function My(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function Sy(t,e){var i,n,o=e.layoutLength,r=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,h=s,u=!1;return t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],h=r,u=!0):(i=o-(a-1-t)*s,n=s),{position:i,axisNameAvailableWidth:h,axisLabelShow:u,nameTruncateMaxWidth:n}}var Iy=by;function Ay(t,e){var i=[];return t.eachComponent("parallel",(function(n,o){var r=new Iy(n,t,e);r.name="parallel_"+o,r.resize(n,e),n.coordinateSystem=r,r.model=n,i.push(r)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",m.US).models[0];t.coordinateSystem=e.coordinateSystem}})),i}var Cy={create:Ay},Ty=Cy,Dy=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.activeIntervals=[],i}return(0,Pi.C6)(e,t),e.prototype.getAreaSelectStyle=function(){return(0,Ep.A)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=u.o8(t);if(e)for(var i=e.length-1;i>=0;i--)_.Y6(e[i])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var i=e[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var n=0,o=e.length;n<o;n++)if(e[n][0]<=t&&t<=e[n][1])return"active";return"inactive"},e}(l.A);u.co(Dy,Oa);var Ly=Dy,ky=!0,Py=Math.min,Oy=Math.max,Ny=Math.pow,Ry=1e4,Ey=6,zy=6,Vy="globalPan",By={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Fy={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Wy={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Gy=0,Hy=function(t){function e(e){var i=t.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new Fn.A,i._uid="brushController_"+Gy++,(0,u.__)(bv,(function(t,e){this._handlers[e]=(0,u.oI)(t,this)}),i),i}return(0,Pi.C6)(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||Qh(e,Vy,this._uid),(0,u.__)(this._handlers,(function(t,i){e.on(i,t)})),this._brushType=t.brushType,this._brushOption=(0,u.h1)((0,u.o8)(Wy),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;tu(t,Vy,this._uid),(0,u.__)(this._handlers,(function(e,i){t.off(i,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};(0,u.__)(t,(function(t){e[t.panelId]=(0,u.o8)(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=(0,u.Tj)(t,(function(t){return(0,u.h1)((0,u.o8)(Wy),t,!0)}));var e="\0-brush-index-",i=this._covers,n=this._covers=[],o=this,r=this._creatingCover;return new zi(i,t,s,a).add(l).update(l).remove(h).execute(),this;function a(t,i){return(null!=t.id?t.id:e+i)+"-"+t.brushType}function s(t,e){return a(t.__brushOption,e)}function l(e,a){var s=t[e];if(null!=a&&i[a]===r)n[e]=i[a];else{var l=n[e]=null!=a?(i[a].__brushOption=s,i[a]):jy(o,Xy(o,s));Uy(o,l)}}function h(t){i[t]!==r&&o.group.remove(i[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),Jy(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(wt.A);function Xy(t,e){var i=Sv[e.brushType].createCover(t,e);return i.__brushOption=e,$y(i,e),t.group.add(i),i}function jy(t,e){var i=Zy(e);return i.endCreating&&(i.endCreating(t,e),$y(e,e.__brushOption)),e}function Yy(t,e){var i=e.__brushOption;Zy(e).updateCoverShape(t,e,i.range,i)}function $y(t,e){var i=e.z;null==i&&(i=Ry),t.traverse((function(t){t.z=i,t.z2=i}))}function Uy(t,e){Zy(e).updateCommon(t,e),Yy(t,e)}function Zy(t){return Sv[t.__brushOption.brushType]}function qy(t,e,i){var n,o=t._panels;if(!o)return ky;var r=t._transform;return(0,u.__)(o,(function(t){t.isTargetByCursor(e,i,r)&&(n=t)})),n}function Ky(t,e){var i=t._panels;if(!i)return ky;var n=e.__brushOption.panelId;return null!=n?i[n]:ky}function Jy(t){var e=t._covers,i=e.length;return(0,u.__)(e,(function(e){t.group.remove(e)}),t),e.length=0,!!i}function Qy(t,e){var i=(0,u.Tj)(t._covers,(function(t){var e=t.__brushOption,i=(0,u.o8)(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}}));t.trigger("brush",{areas:i,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function tv(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],r=i[1]-n[1],a=Ny(o*o+r*r,.5);return a>Ey}function ev(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function iv(t,e,i,n){var o=new Fn.A;return o.add(new vo.A({name:"main",style:av(i),silent:!0,draggable:!0,cursor:"move",drift:(0,u.cF)(cv,t,e,o,["n","s","w","e"]),ondragend:(0,u.cF)(Qy,e,{isEnd:!0})})),(0,u.__)(n,(function(i){o.add(new vo.A({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,u.cF)(cv,t,e,o,i),ondragend:(0,u.cF)(Qy,e,{isEnd:!0})}))})),o}function nv(t,e,i,n){var o=n.brushStyle.lineWidth||0,r=Oy(o,zy),a=i[0][0],s=i[1][0],l=a-o/2,h=s-o/2,u=i[0][1],c=i[1][1],d=u-r+o/2,p=c-r+o/2,g=u-a,f=c-s,m=g+o,y=f+o;rv(t,e,"main",a,s,g,f),n.transformable&&(rv(t,e,"w",l,h,r,y),rv(t,e,"e",d,h,r,y),rv(t,e,"n",l,h,m,r),rv(t,e,"s",l,p,m,r),rv(t,e,"nw",l,h,r,r),rv(t,e,"ne",d,h,r,r),rv(t,e,"sw",l,p,r,r),rv(t,e,"se",d,p,r,r))}function ov(t,e){var i=e.__brushOption,n=i.transformable,o=e.childAt(0);o.useStyle(av(i)),o.attr({silent:!n,cursor:n?"move":"default"}),(0,u.__)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(i){var o=e.childOfName(i.join("")),r=1===i.length?hv(t,i[0]):uv(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?Fy[r]+"-resize":null})}))}function rv(t,e,i,n,o,r,a){var s=e.childOfName(i);s&&s.setShape(fv(gv(t,e,[[n,o],[n+r,o+a]])))}function av(t){return(0,u.NT)({strokeNoScale:!0},t.brushStyle)}function sv(t,e,i,n){var o=[Py(t,i),Py(e,n)],r=[Oy(t,i),Oy(e,n)];return[[o[0],r[0]],[o[1],r[1]]]}function lv(t){return Hn.getTransform(t.group)}function hv(t,e){var i={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},o=Hn.transformDirection(i[e],lv(t));return n[o]}function uv(t,e){var i=[hv(t,e[0]),hv(t,e[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("")}function cv(t,e,i,n,o,r){var a=i.__brushOption,s=t.toRectRange(a.range),l=pv(e,o,r);(0,u.__)(n,(function(t){var e=By[t];s[e[0]][e[1]]+=l[e[0]]})),a.range=t.fromRectRange(sv(s[0][0],s[1][0],s[0][1],s[1][1])),Uy(e,i),Qy(e,{isEnd:!1})}function dv(t,e,i,n){var o=e.__brushOption.range,r=pv(t,i,n);(0,u.__)(o,(function(t){t[0]+=r[0],t[1]+=r[1]})),Uy(t,e),Qy(t,{isEnd:!1})}function pv(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),r=n.transformCoordToLocal(0,0);return[o[0]-r[0],o[1]-r[1]]}function gv(t,e,i){var n=Ky(t,e);return n&&n!==ky?n.clipPath(i,t._transform):(0,u.o8)(i)}function fv(t){var e=Py(t[0][0],t[1][0]),i=Py(t[0][1],t[1][1]),n=Oy(t[0][0],t[1][0]),o=Oy(t[0][1],t[1][1]);return{x:e,y:i,width:n-e,height:o-i}}function mv(t,e,i){if(t._brushType&&!Mv(t,e.offsetX,e.offsetY)){var n=t._zr,o=t._covers,r=qy(t,e,i);if(!t._dragging)for(var a=0;a<o.length;a++){var s=o[a].__brushOption;if(r&&(r===ky||s.panelId===r.panelId)&&Sv[s.brushType].contain(o[a],i[0],i[1]))return}r&&n.setCursorStyle("crosshair")}}function yv(t){var e=t.event;e.preventDefault&&e.preventDefault()}function vv(t,e,i){return t.childOfName("main").contain(e,i)}function xv(t,e,i,n){var o,r=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(i.slice()),tv(t)||r){if(a&&!r){"single"===s.brushMode&&Jy(t);var l=(0,u.o8)(s);l.brushType=_v(l.brushType,a),l.panelId=a===ky?null:a.panelId,r=t._creatingCover=Xy(t,l),t._covers.push(r)}if(r){var h=Sv[_v(t._brushType,a)],c=r.__brushOption;c.range=h.getCreatingRange(gv(t,r,t._track)),n&&(jy(t,r),h.updateCommon(t,r)),Yy(t,r),o={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&qy(t,e,i)&&Jy(t)&&(o={isEnd:n,removeOnClick:!0});return o}function _v(t,e){return"auto"===t?e.defaultBrushType:t}var bv={mousedown:function(t){if(this._dragging)wv(this,t);else if(!t.target||!t.target.draggable){yv(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var i=this._creatingPanel=qy(this,t,e);i&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,i=t.offsetY,n=this.group.transformCoordToLocal(e,i);if(mv(this,t,n),this._dragging){yv(t);var o=xv(this,t,n,!1);o&&Qy(this,o)}},mouseup:function(t){wv(this,t)}};function wv(t,e){if(t._dragging){yv(e);var i=e.offsetX,n=e.offsetY,o=t.group.transformCoordToLocal(i,n),r=xv(t,e,o,!0);t._dragging=!1,t._track=[],t._creatingCover=null,r&&Qy(t,r)}}function Mv(t,e,i){var n=t._zr;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}var Sv={lineX:Iv(0),lineY:Iv(1),rect:{createCover:function(t,e){function i(t){return t}return iv({toRectRange:i,fromRectRange:i},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=ev(t);return sv(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){nv(t,e,i,n)},updateCommon:ov,contain:vv},polygon:{createCover:function(t,e){var i=new Fn.A;return i.add(new S.A({name:"main",style:av(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Lh.A({name:"main",draggable:!0,drift:(0,u.cF)(dv,t,e),ondragend:(0,u.cF)(Qy,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:gv(t,e,i)})},updateCommon:ov,contain:vv}};function Iv(t){return{createCover:function(e,i){return iv({toRectRange:function(e){var i=[e,[0,100]];return t&&i.reverse(),i},fromRectRange:function(e){return e[t]}},e,i,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var i=ev(e),n=Py(i[0][t],i[1][t]),o=Oy(i[0][t],i[1][t]);return[n,o]},updateCoverShape:function(e,i,n,o){var r,a=Ky(e,i);if(a!==ky&&a.getLinearBrushOtherExtent)r=a.getLinearBrushOtherExtent(t);else{var s=e._zr;r=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,r];t&&l.reverse(),nv(e,i,l,o)},updateCommon:ov,contain:vv}}var Av=Hy;function Cv(t){return t=Lv(t),function(e){return Hn.clipPointsByRect(e,t)}}function Tv(t,e){return t=Lv(t),function(i){var n=null!=e?e:i,o=n?t.width:t.height,r=n?t.x:t.y;return[r,r+(o||0)]}}function Dv(t,e,i){var n=Lv(t);return function(t,o){return n.contain(o[0],o[1])&&!cu(t,e,i)}}function Lv(t){return y.A.create(t)}var kv=["axisLine","axisTickLabel","axisName"],Pv=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(e,i){t.prototype.init.apply(this,arguments),(this._brushController=new Av(i.getZr())).on("brush",u.oI(this._onBrush,this))},e.prototype.render=function(t,e,i,n){if(!Ov(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Fn.A,this.group.add(this._axisGroup),t.get("show")){var r=Rv(t,e),a=r.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,h=t.axis.dim,c=a.getAxisLayout(h),d=u.X$({strokeContainThreshold:l},c),p=new Jl(t,d);u.__(kv,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(d,s,t,r,l,i),Hn.groupTransition(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,i,n,o,r){var a=i.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),h=y.A.create({x:a[0],y:-o/2,width:s,height:o});h.x-=l,h.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Cv(h),isTargetByCursor:Dv(h,r,n),getLinearBrushOtherExtent:Tv(h,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(Nv(i))},e.prototype._onBrush=function(t){var e=t.areas,i=this.axisModel,n=i.axis,o=u.Tj(e,(function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]}));(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(a.A);function Ov(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}function Nv(t){var e=t.axis;return u.Tj(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}function Rv(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var Ev=Pv,zv={type:"axisAreaSelect",event:"axisAreaSelected"};function Vv(t){t.registerAction(zv,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}var Bv={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Fv(t){t.registerComponentView(ay),t.registerComponentModel(ly),t.registerCoordinateSystem("parallel",Ty),t.registerPreprocessor(Qm),t.registerComponentModel(Ly),t.registerComponentView(Ev),Ya(t,"parallel",Ly,Bv),Vv(t)}function Wv(t){f(Fv),t.registerChartView(jm),t.registerSeriesModel(Zm),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,Jm)}var Gv=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),Hv=function(t){function e(e){return t.call(this,e)||this}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new Gv},e.prototype.buildPath=function(t,e){var i=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+i,e.y2),t.bezierCurveTo(e.cpx2+i,e.cpy2,e.cpx1+i,e.cpy1,e.x1+i,e.y1)):(t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i)),t.closePath()},e.prototype.highlight=function(){(0,L.HY)(this)},e.prototype.downplay=function(){(0,L.SD)(this)},e}(M.Ay),Xv=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._focusAdjacencyDisabled=!1,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=this,o=t.getGraph(),r=this.group,a=t.layoutInfo,s=a.width,l=a.height,h=t.getData(),c=t.getData("edge"),d=t.get("orient");this._model=t,r.removeAll(),r.x=a.x,r.y=a.y,o.eachEdge((function(e){var i=new Hv,n=(0,x.z)(i);n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var o,a,h,p,g,f,m,y,v=e.getModel(),_=v.getModel("lineStyle"),b=_.get("curveness"),w=e.node1.getLayout(),M=e.node1.getModel(),S=M.get("localX"),I=M.get("localY"),A=e.node2.getLayout(),C=e.node2.getModel(),T=C.get("localX"),D=C.get("localY"),k=e.getLayout();i.shape.extent=Math.max(1,k.dy),i.shape.orient=d,"vertical"===d?(o=(null!=S?S*s:w.x)+k.sy,a=(null!=I?I*l:w.y)+w.dy,h=(null!=T?T*s:A.x)+k.ty,p=null!=D?D*l:A.y,g=o,f=a*(1-b)+p*b,m=h,y=a*b+p*(1-b)):(o=(null!=S?S*s:w.x)+w.dx,a=(null!=I?I*l:w.y)+k.sy,h=null!=T?T*s:A.x,p=(null!=D?D*l:A.y)+k.ty,g=o*(1-b)+h*b,f=a,m=o*b+h*(1-b),y=p),i.setShape({x1:o,y1:a,x2:h,y2:p,cpx1:g,cpy1:f,cpx2:m,cpy2:y}),i.useStyle(_.getItemStyle()),jv(i.style,d,e);var P=""+v.get("value"),O=(0,st.lx)(v,"edgeLabel");(0,st.qM)(i,O,{labelFetcher:{getFormattedLabel:function(e,i,n,o,r,a){return t.getFormattedLabel(e,i,"edge",o,(0,u.WV)(r,O.normal&&O.normal.get("formatter"),P),a)}},labelDataIndex:e.dataIndex,defaultText:P}),i.setTextConfig({position:"inside"});var N=v.getModel("emphasis");(0,L.Mx)(i,v,"lineStyle",(function(t){var i=t.getItemStyle();return jv(i,d,e),i})),r.add(i),c.setItemGraphicEl(e.dataIndex,i);var R=N.get("focus");(0,L.Lm)(i,"adjacency"===R?e.getAdjacentDataIndices():"trajectory"===R?e.getTrajectoryDataIndices():R,N.get("blurScope"),N.get("disabled"))})),o.eachNode((function(e){var i=e.getLayout(),n=e.getModel(),o=n.get("localX"),a=n.get("localY"),u=n.getModel("emphasis"),c=n.get(["itemStyle","borderRadius"])||0,d=new vo.A({shape:{x:null!=o?o*s:i.x,y:null!=a?a*l:i.y,width:i.dx,height:i.dy,r:c},style:n.getModel("itemStyle").getItemStyle(),z2:10});(0,st.qM)(d,(0,st.lx)(n),{labelFetcher:{getFormattedLabel:function(e,i){return t.getFormattedLabel(e,i,"node")}},labelDataIndex:e.dataIndex,defaultText:e.id}),d.disableLabelAnimation=!0,d.setStyle("fill",e.getVisual("color")),d.setStyle("decal",e.getVisual("style").decal),(0,L.Mx)(d,n),r.add(d),h.setItemGraphicEl(e.dataIndex,d),(0,x.z)(d).dataType="node";var p=u.get("focus");(0,L.Lm)(d,"adjacency"===p?e.getAdjacentDataIndices():"trajectory"===p?e.getTrajectoryDataIndices():p,u.get("blurScope"),u.get("disabled"))})),h.eachItemGraphicEl((function(e,o){var r=h.getItemModel(o);r.get("draggable")&&(e.drift=function(e,r){n._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=r,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:h.getRawIndex(o),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){n._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&r.setClipPath(Yv(r.getBoundingRect(),t,(function(){r.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(s.A);function jv(t,e,i){switch(t.fill){case"source":t.fill=i.node1.getVisual("color"),t.decal=i.node1.getVisual("style").decal;break;case"target":t.fill=i.node2.getVisual("color"),t.decal=i.node2.getVisual("style").decal;break;case"gradient":var n=i.node1.getVisual("color"),o=i.node2.getVisual("color");(0,u.Kg)(n)&&(0,u.Kg)(o)&&(t.fill=new lo.A(0,0,+("horizontal"===e),+("vertical"===e),[{color:n,offset:0},{color:o,offset:1}]))}}function Yv(t,e,i){var n=new vo.A({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return v.LW(n,{shape:{width:t.width+20}},e,i),n}var $v=Xv,Uv=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){var i=t.edges||t.links,n=t.data||t.nodes,o=t.levels;this.levelModels=[];for(var r=this.levelModels,a=0;a<o.length;a++)null!=o[a].depth&&o[a].depth>=0&&(r[o[a].depth]=new Oi.A(o[a],this,e));if(n&&i){var s=um(n,i,this,!0,l);return s.data}function l(t,e){t.wrapMethod("getItemModel",(function(t,e){var i=t.parentModel,n=i.getData().getItemLayout(e);if(n){var o=n.depth,r=i.levelModels[o];r&&(t.parentModel=r)}return t})),e.wrapMethod("getItemModel",(function(t,e){var i=t.parentModel,n=i.getGraph().getEdgeByIndex(e),o=n.node1.getLayout();if(o){var r=o.depth,a=i.levelModels[r];a&&(t.parentModel=a)}return t}))}},e.prototype.setNodePosition=function(t,e){var i=this.option.data||this.option.nodes,n=i[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,i){function n(t){return isNaN(t)||null==t}if("edge"===i){var o=this.getDataParams(t,i),r=o.data,a=o.value,s=r.source+" -- "+r.target;return(0,Oh.Qx)("nameValue",{name:s,value:a,noValue:n(a)})}var l=this.getGraph().getNodeByIndex(t),h=l.getLayout().value,u=this.getDataParams(t,i).data.name;return(0,Oh.Qx)("nameValue",{name:null!=u?u+"":null,value:h,noValue:n(h)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,i){var n=t.prototype.getDataParams.call(this,e,i);if(null==n.value&&"node"===i){var o=this.getGraph().getNodeByIndex(e),r=o.getLayout().value;n.value=r}return n},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(h.A),Zv=Uv;function qv(t,e){t.eachSeriesByType("sankey",(function(t){var i=t.get("nodeWidth"),n=t.get("nodeGap"),o=Kv(t,e);t.layoutInfo=o;var r=o.width,a=o.height,s=t.getGraph(),l=s.nodes,h=s.edges;Qv(l);var c=u.pb(l,(function(t){return 0===t.getLayout().value})),d=0!==c.length?0:t.get("layoutIterations"),p=t.get("orient"),g=t.get("nodeAlign");Jv(l,h,i,n,r,a,d,p,g)}))}function Kv(t,e){return Kr.dV(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Jv(t,e,i,n,o,r,a,s,l){tx(t,e,i,o,r,s,l),rx(t,e,r,o,n,a,s),vx(t,s)}function Qv(t){u.__(t,(function(t){var e=mx(t.outEdges,fx),i=mx(t.inEdges,fx),n=t.getValue()||0,o=Math.max(e,i,n);t.setLayout({value:o},!0)}))}function tx(t,e,i,n,o,r,a){for(var s=[],l=[],h=[],u=[],c=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&h.push(t[d]);var p=-1;while(h.length){for(var g=0;g<h.length;g++){var f=h[g],m=f.hostGraph.data.getRawDataItem(f.dataIndex),y=null!=m.depth&&m.depth>=0;y&&m.depth>p&&(p=m.depth),f.setLayout({depth:y?m.depth:c},!0),"vertical"===r?f.setLayout({dy:i},!0):f.setLayout({dx:i},!0);for(var v=0;v<f.outEdges.length;v++){var x=f.outEdges[v],_=e.indexOf(x);s[_]=0;var b=x.node2,w=t.indexOf(b);0===--l[w]&&u.indexOf(b)<0&&u.push(b)}}++c,h=u,u=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var M=p>c-1?p:c-1;a&&"left"!==a&&ix(t,a,r,M);var S="vertical"===r?(o-i)/M:(n-i)/M;ox(t,S,r)}function ex(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function ix(t,e,i,n){if("right"===e){var o=[],r=t,a=0;while(r.length){for(var s=0;s<r.length;s++){var l=r[s];l.setLayout({skNodeHeight:a},!0);for(var h=0;h<l.inEdges.length;h++){var c=l.inEdges[h];o.indexOf(c.node1)<0&&o.push(c.node1)}}r=o,o=[],++a}u.__(t,(function(t){ex(t)||t.setLayout({depth:Math.max(0,n-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&nx(t,n)}function nx(t,e){u.__(t,(function(t){ex(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}function ox(t,e,i){u.__(t,(function(t){var n=t.getLayout().depth*e;"vertical"===i?t.setLayout({y:n},!0):t.setLayout({x:n},!0)}))}function rx(t,e,i,n,o,r,a){var s=ax(t,a);sx(s,e,i,n,o,a),lx(s,o,i,n,a);for(var l=1;r>0;r--)l*=.99,hx(s,l,a),lx(s,o,i,n,a),yx(s,l,a),lx(s,o,i,n,a)}function ax(t,e){var i=[],n="vertical"===e?"y":"x",o=(0,m.Sq)(t,(function(t){return t.getLayout()[n]}));return o.keys.sort((function(t,e){return t-e})),u.__(o.keys,(function(t){i.push(o.buckets.get(t))})),i}function sx(t,e,i,n,o,r){var a=1/0;u.__(t,(function(t){var e=t.length,s=0;u.__(t,(function(t){s+=t.getLayout().value}));var l="vertical"===r?(n-(e-1)*o)/s:(i-(e-1)*o)/s;l<a&&(a=l)})),u.__(t,(function(t){u.__(t,(function(t,e){var i=t.getLayout().value*a;"vertical"===r?(t.setLayout({x:e},!0),t.setLayout({dx:i},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:i},!0))}))})),u.__(e,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))}function lx(t,e,i,n,o){var r="vertical"===o?"x":"y";u.__(t,(function(t){var a,s,l;t.sort((function(t,e){return t.getLayout()[r]-e.getLayout()[r]}));for(var h=0,u=t.length,c="vertical"===o?"dx":"dy",d=0;d<u;d++)s=t[d],l=h-s.getLayout()[r],l>0&&(a=s.getLayout()[r]+l,"vertical"===o?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),h=s.getLayout()[r]+s.getLayout()[c]+e;var p="vertical"===o?n:i;if(l=h-e-p,l>0){a=s.getLayout()[r]-l,"vertical"===o?s.setLayout({x:a},!0):s.setLayout({y:a},!0),h=a;for(d=u-2;d>=0;--d)s=t[d],l=s.getLayout()[r]+s.getLayout()[c]+e-h,l>0&&(a=s.getLayout()[r]-l,"vertical"===o?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),h=s.getLayout()[r]}}))}function hx(t,e,i){u.__(t.slice().reverse(),(function(t){u.__(t,(function(t){if(t.outEdges.length){var n=mx(t.outEdges,ux,i)/mx(t.outEdges,fx);if(isNaN(n)){var o=t.outEdges.length;n=o?mx(t.outEdges,cx,i)/o:0}if("vertical"===i){var r=t.getLayout().x+(n-gx(t,i))*e;t.setLayout({x:r},!0)}else{var a=t.getLayout().y+(n-gx(t,i))*e;t.setLayout({y:a},!0)}}}))}))}function ux(t,e){return gx(t.node2,e)*t.getValue()}function cx(t,e){return gx(t.node2,e)}function dx(t,e){return gx(t.node1,e)*t.getValue()}function px(t,e){return gx(t.node1,e)}function gx(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function fx(t){return t.getValue()}function mx(t,e,i){var n=0,o=t.length,r=-1;while(++r<o){var a=+e(t[r],i);isNaN(a)||(n+=a)}return n}function yx(t,e,i){u.__(t,(function(t){u.__(t,(function(t){if(t.inEdges.length){var n=mx(t.inEdges,dx,i)/mx(t.inEdges,fx);if(isNaN(n)){var o=t.inEdges.length;n=o?mx(t.inEdges,px,i)/o:0}if("vertical"===i){var r=t.getLayout().x+(n-gx(t,i))*e;t.setLayout({x:r},!0)}else{var a=t.getLayout().y+(n-gx(t,i))*e;t.setLayout({y:a},!0)}}}))}))}function vx(t,e){var i="vertical"===e?"x":"y";u.__(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[i]-e.node2.getLayout()[i]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[i]-e.node1.getLayout()[i]}))})),u.__(t,(function(t){var e=0,i=0;u.__(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),u.__(t.inEdges,(function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy}))}))}function xx(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph(),i=e.nodes,n=e.edges;if(i.length){var o=1/0,r=-1/0;u.__(i,(function(t){var e=t.getLayout().value;e<o&&(o=e),e>r&&(r=e)})),u.__(i,(function(e){var i=new mg({type:"color",mappingMethod:"linear",dataExtent:[o,r],visual:t.get("color")}),n=i.mapValueToVisual(e.getLayout().value),a=e.getModel().get(["itemStyle","color"]);null!=a?(e.setVisual("color",a),e.setVisual("style",{fill:a})):(e.setVisual("color",n),e.setVisual("style",{fill:n}))}))}n.length&&u.__(n,(function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)}))}))}function _x(t){t.registerChartView($v),t.registerSeriesModel(Zv),t.registerLayout(qv),t.registerVisual(xx),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))}var bx=function(){function t(){}return t.prototype.getInitialData=function(t,e){var i,n,o=e.getComponent("xAxis",this.get("xAxisIndex")),r=e.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),s=r.get("type");"category"===a?(t.layout="horizontal",i=o.getOrdinalMeta(),n=!0):"category"===s?(t.layout="vertical",i=r.getOrdinalMeta(),n=!0):t.layout=t.layout||"horizontal";var l=["x","y"],h="horizontal"===t.layout?0:1,c=this._baseAxisDim=l[h],d=l[1-h],p=[o,r],g=p[h].get("type"),f=p[1-h].get("type"),m=t.data;if(m&&n){var y=[];u.__(m,(function(t,e){var i;u.cy(t)?(i=t.slice(),t.unshift(e)):u.cy(t.value)?(i=u.X$({},t),i.value=i.value.slice(),t.value.unshift(e)):i=t,y.push(i)})),t.data=y}var v=this.defaultValueDimensions,x=[{name:c,type:Hi(g),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:Hi(f),dimsDef:v.slice()}];return ga(this,{coordDimensions:x,dimensionsCount:v.length+1,encodeDefaulter:u.cF(xn.OC,x,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),wx=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],i.visualDrawType="stroke",i}return(0,Pi.C6)(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(h.A);(0,u.co)(wx,bx,!0);var Mx=wx,Sx=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this.group,r=this._data;this._data||o.removeAll();var a="horizontal"===t.get("layout")?1:0;n.diff(r).add((function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),i=Cx(e,n,t,a,!0);n.setItemGraphicEl(t,i),o.add(i)}})).update((function(t,e){var i=r.getItemGraphicEl(e);if(n.hasValue(t)){var s=n.getItemLayout(t);i?((0,v.ap)(i),Tx(s,i,n,t)):i=Cx(s,n,t,a),o.add(i),n.setItemGraphicEl(t,i)}else o.remove(i)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&o.remove(e)})).execute(),this._data=n},e.prototype.remove=function(t){var e=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(s.A),Ix=function(){function t(){}return t}(),Ax=function(t){function e(e){var i=t.call(this,e)||this;return i.type="boxplotBoxPath",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new Ix},e.prototype.buildPath=function(t,e){var i=e.points,n=0;for(t.moveTo(i[n][0],i[n][1]),n++;n<4;n++)t.lineTo(i[n][0],i[n][1]);for(t.closePath();n<i.length;n++)t.moveTo(i[n][0],i[n][1]),n++,t.lineTo(i[n][0],i[n][1])},e}(M.Ay);function Cx(t,e,i,n,o){var r=t.ends,a=new Ax({shape:{points:o?Dx(r,n,t):r}});return Tx(t,a,e,i,o),a}function Tx(t,e,i,n,o){var r=i.hostModel,a=Hn[o?"initProps":"updateProps"];a(e,{shape:{points:t.ends}},r,n),e.useStyle(i.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=i.getItemModel(n),l=s.getModel("emphasis");(0,L.Mx)(e,s),(0,L.Lm)(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Dx(t,e,i){return u.Tj(t,(function(t){return t=t.slice(),t[e]=i.initBaseline,t}))}var Lx=Sx,kx=u.__;function Px(t){var e=Ox(t);kx(e,(function(t){var e=t.seriesModels;e.length&&(Nx(t),kx(e,(function(e,i){Rx(e,t.boxOffsetList[i],t.boxWidthList[i])})))}))}function Ox(t){var e=[],i=[];return t.eachSeriesByType("boxplot",(function(t){var n=t.getBaseAxis(),o=u.qh(i,n);o<0&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)})),e}function Nx(t){var e,i=t.axis,n=t.seriesModels,o=n.length,r=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if("category"===i.type)e=i.getBandWidth();else{var l=0;kx(n,(function(t){l=Math.max(l,t.getData().count())}));var h=i.getExtent();e=Math.abs(h[1]-h[0])/l}kx(n,(function(t){var i=t.get("boxWidth");u.cy(i)||(i=[i,i]),s.push([(0,_.lo)(i[0],e)||0,(0,_.lo)(i[1],e)||0])}));var c=.8*e-2,d=c/o*.3,p=(c-d*(o-1))/o,g=p/2-c/2;kx(n,(function(t,e){a.push(g),g+=d+p,r.push(Math.min(Math.max(p,s[e][0]),s[e][1]))}))}function Rx(t,e,i){var n=t.coordinateSystem,o=t.getData(),r=i/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],h=o.mapDimension(l[a]),u=o.mapDimensionsAll(l[s]);if(!(null==h||u.length<5))for(var c=0;c<o.count();c++){var d=o.get(h,c),p=x(d,u[2],c),g=x(d,u[0],c),f=x(d,u[1],c),m=x(d,u[3],c),y=x(d,u[4],c),v=[];_(v,f,!1),_(v,m,!0),v.push(g,f,y,m),b(v,g),b(v,y),b(v,p),o.setItemLayout(c,{initBaseline:p[s],ends:v})}function x(t,i,r){var l,h=o.get(i,r),u=[];return u[a]=t,u[s]=h,isNaN(t)||isNaN(h)?l=[NaN,NaN]:(l=n.dataToPoint(u),l[a]+=e),l}function _(t,e,i){var n=e.slice(),o=e.slice();n[a]+=r,o[a]-=r,i?t.push(n,o):t.push(o,n)}function b(t,e){var i=e.slice(),n=e.slice();i[a]-=r,n[a]+=r,t.push(i,n)}}function Ex(t,e){e=e||{};for(var i=[],n=[],o=e.boundIQR,r="none"===o||0===o,a=0;a<t.length;a++){var s=(0,_.Y6)(t[a].slice()),l=(0,_.YV)(s,.25),h=(0,_.YV)(s,.5),c=(0,_.YV)(s,.75),d=s[0],p=s[s.length-1],g=(null==o?1.5:o)*(c-l),f=r?d:Math.max(d,l-g),m=r?p:Math.min(p,c+g),y=e.itemNameFormatter,v=(0,u.Tn)(y)?y({value:a}):(0,u.Kg)(y)?y.replace("{value}",a+""):a+"";i.push([v,f,l,h,c,m]);for(var x=0;x<s.length;x++){var b=s[x];if(b<f||b>m){var w=[v,b];n.push(w)}}}return{boxData:i,outliers:n}}var zx=i(1025),Vx={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Bi.Km){var i="";0,(0,zx.$8)(i)}var n=Ex(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function Bx(t){t.registerSeriesModel(Mx),t.registerChartView(Lx),t.registerLayout(Px),t.registerTransform(Vx)}var Fx=["color","borderColor"],Wx=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,i,n){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Hn.traverseElements(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),i=this._data,n=this.group,o=e.getLayout("isSimpleBox"),r=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||n.removeAll(),e.diff(i).add((function(i){if(e.hasValue(i)){var a=e.getItemLayout(i);if(r&&jx(s,a))return;var l=Xx(a,i,!0);v.LW(l,{shape:{points:a.ends}},t,i),Yx(l,e,i,o),n.add(l),e.setItemGraphicEl(i,l)}})).update((function(a,l){var h=i.getItemGraphicEl(l);if(e.hasValue(a)){var u=e.getItemLayout(a);r&&jx(s,u)?n.remove(h):(h?(v.oi(h,{shape:{points:u.ends}},t,a),(0,v.ap)(h)):h=Xx(u,a),Yx(h,e,a,o),n.add(h),e.setItemGraphicEl(a,h))}else n.remove(h)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&n.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),qx(t,this.group);var e=t.get("clip",!0)?wo(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){var i,n=e.getData(),o=n.getLayout("isSimpleBox");while(null!=(i=t.next())){var r=n.getItemLayout(i),a=Xx(r,i);Yx(a,n,i,o),a.incremental=!0,this.group.add(a),this._progressiveEls.push(a)}},e.prototype._incrementalRenderLarge=function(t,e){qx(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(s.A),Gx=function(){function t(){}return t}(),Hx=function(t){function e(e){var i=t.call(this,e)||this;return i.type="normalCandlestickBox",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new Gx},e.prototype.buildPath=function(t,e){var i=e.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e}(M.Ay);function Xx(t,e,i){var n=t.ends;return new Hx({shape:{points:i?$x(n,t):n},z2:100})}function jx(t,e){for(var i=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){i=!1;break}return i}function Yx(t,e,i,n){var o=e.getItemModel(i);t.useStyle(e.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.__simpleBox=n,(0,L.Mx)(t,o)}function $x(t,e){return u.Tj(t,(function(t){return t=t.slice(),t[1]=e.initBaseline,t}))}var Ux=function(){function t(){}return t}(),Zx=function(t){function e(e){var i=t.call(this,e)||this;return i.type="largeCandlestickBox",i}return(0,Pi.C6)(e,t),e.prototype.getDefaultShape=function(){return new Ux},e.prototype.buildPath=function(t,e){for(var i=e.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];t.moveTo(o,i[n++]),t.lineTo(o,i[n++])}else n+=3},e}(M.Ay);function qx(t,e,i,n){var o=t.getData(),r=o.getLayout("largePoints"),a=new Zx({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new Zx({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new Zx({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});e.add(l),Kx(1,a,t,o),Kx(-1,s,t,o),Kx(0,l,t,o),n&&(a.incremental=!0,s.incremental=!0),i&&i.push(a,s)}function Kx(t,e,i,n){var o=i.get(["itemStyle",t>0?"borderColor":"borderColor0"])||i.get(["itemStyle",t>0?"color":"color0"]);0===t&&(o=i.get(["itemStyle","borderColorDoji"]));var r=i.getModel("itemStyle").getItemStyle(Fx);e.useStyle(r),e.style.fill=null,e.style.stroke=o}var Jx=Wx,Qx=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],i}return(0,Pi.C6)(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,i){var n=e.getItemLayout(t);return n&&i.rect(n.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(h.A);(0,u.co)(Qx,bx,!0);var t_=Qx;function e_(t){t&&u.cy(t.series)&&u.__(t.series,(function(t){u.Gv(t)&&"k"===t.type&&(t.type="candlestick")}))}var i_=["itemStyle","borderColor"],n_=["itemStyle","borderColor0"],o_=["itemStyle","borderColorDoji"],r_=["itemStyle","color"],a_=["itemStyle","color0"],s_={seriesType:"candlestick",plan:(0,Xo.A)(),performRawSeries:!0,reset:function(t,e){function i(t,e){return e.get(t>0?r_:a_)}function n(t,e){return e.get(0===t?o_:t>0?i_:n_)}if(!e.isSeriesFiltered(t)){var o=t.pipelineContext.large;return!o&&{progress:function(t,e){var o;while(null!=(o=t.next())){var r=e.getItemModel(o),a=e.getItemLayout(o).sign,s=r.getItemStyle();s.fill=i(a,r),s.stroke=n(a,r)||s.fill;var l=e.ensureUniqueItemVisual(o,"style");(0,u.X$)(l,s)}}}}}},l_=s_,h_={seriesType:"candlestick",plan:(0,Xo.A)(),reset:function(t){var e=t.coordinateSystem,i=t.getData(),n=c_(t,i),o=0,r=1,a=["x","y"],s=i.getDimensionIndex(i.mapDimension(a[o])),l=(0,u.Tj)(i.mapDimensionsAll(a[r]),i.getDimensionIndex,i),h=l[0],c=l[1],d=l[2],p=l[3];if(i.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(s<0||l.length<4))return{progress:t.pipelineContext.large?f:g};function g(t,i){var a,l=i.getStore();while(null!=(a=t.next())){var u=l.get(s,a),g=l.get(h,a),f=l.get(c,a),m=l.get(d,a),y=l.get(p,a),v=Math.min(g,f),x=Math.max(g,f),_=C(v,u),b=C(x,u),w=C(m,u),M=C(y,u),S=[];T(S,b,0),T(S,_,1),S.push(L(M),L(b),L(w),L(_));var I=i.getItemModel(a),A=!!I.get(["itemStyle","borderColorDoji"]);i.setItemLayout(a,{sign:u_(l,a,g,f,c,A),initBaseline:g>f?b[r]:_[r],ends:S,brushRect:D(m,y,u)})}function C(t,i){var n=[];return n[o]=i,n[r]=t,isNaN(i)||isNaN(t)?[NaN,NaN]:e.dataToPoint(n)}function T(t,e,i){var r=e.slice(),a=e.slice();r[o]=(0,Hn.subPixelOptimize)(r[o]+n/2,1,!1),a[o]=(0,Hn.subPixelOptimize)(a[o]-n/2,1,!0),i?t.push(r,a):t.push(a,r)}function D(t,e,i){var a=C(t,i),s=C(e,i);return a[o]-=n/2,s[o]-=n/2,{x:a[0],y:a[1],width:r?n:s[0]-a[0],height:r?s[1]-a[1]:n}}function L(t){return t[o]=(0,Hn.subPixelOptimize)(t[o],1),t}}function f(i,n){var a,l,u=ro(4*i.count),g=0,f=[],m=[],y=n.getStore(),v=!!t.get(["itemStyle","borderColorDoji"]);while(null!=(l=i.next())){var x=y.get(s,l),_=y.get(h,l),b=y.get(c,l),w=y.get(d,l),M=y.get(p,l);isNaN(x)||isNaN(w)||isNaN(M)?(u[g++]=NaN,g+=3):(u[g++]=u_(y,l,_,b,c,v),f[o]=x,f[r]=w,a=e.dataToPoint(f,null,m),u[g++]=a?a[0]:NaN,u[g++]=a?a[1]:NaN,f[r]=M,a=e.dataToPoint(f,null,m),u[g++]=a?a[1]:NaN)}n.setLayout("largePoints",u)}}};function u_(t,e,i,n,o,r){var a;return a=i>n?-1:i<n?1:r?0:e>0?t.get(o,e-1)<=n?1:-1:1,a}function c_(t,e){var i,n=t.getBaseAxis(),o="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),r=(0,_.lo)((0,u.bZ)(t.get("barMaxWidth"),o),o),a=(0,_.lo)((0,u.bZ)(t.get("barMinWidth"),1),o),s=t.get("barWidth");return null!=s?(0,_.lo)(s,o):Math.max(Math.min(o/2,r),a)}var d_=h_;function p_(t){t.registerChartView(Jx),t.registerSeriesModel(t_),t.registerPreprocessor(e_),t.registerVisual(l_),t.registerLayout(d_)}function g_(t,e){var i=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?i:null,fill:"fill"===e.brushType?i:null}})}))}var f_=function(t){function e(e,i){var n=t.call(this)||this,o=new Un(e,i),r=new Fn.A;return n.add(o),n.add(r),n.updateData(e,i),n}return(0,Pi.C6)(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=t.rippleNumber,o=this.childAt(1),r=0;r<n;r++){var a=(0,Bn.v5)(e,-1,-1,2,2,i);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-r/n*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),o.add(a)}g_(o,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale","rippleNumber"],o=0;o<n.length;o++){var r=n[o];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}g_(i,t)},e.prototype.highlight=function(){(0,L.HY)(this)},e.prototype.downplay=function(){(0,L.SD)(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var i=this,n=t.hostModel;this.childAt(0).updateData(t,e);var o=this.childAt(1),r=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=(0,Bn.xU)(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),h=l&&l.fill,u=r.getModel("emphasis");o.setScale(s),o.traverse((function(t){t.setStyle("fill",h)}));var c=(0,Bn.hV)(t.getItemVisual(e,"symbolOffset"),s);c&&(o.x=c[0],o.y=c[1]);var d=t.getItemVisual(e,"symbolRotate");o.rotation=(d||0)*Math.PI/180||0;var p={};p.showEffectOn=n.get("showEffectOn"),p.rippleScale=r.get(["rippleEffect","scale"]),p.brushType=r.get(["rippleEffect","brushType"]),p.period=1e3*r.get(["rippleEffect","period"]),p.effectOffset=e/t.count(),p.z=n.getShallow("z")||0,p.zlevel=n.getShallow("zlevel")||0,p.symbolType=a,p.color=h,p.rippleEffectColor=r.get(["rippleEffect","color"]),p.rippleNumber=r.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==p.showEffectOn&&i.startEffectAnimation(p):"normal"===t&&"render"!==p.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=p,(0,L.Lm)(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Fn.A),m_=f_,y_=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){this._symbolDraw=new Qn(m_)},e.prototype.render=function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,i=e&&e.getArea&&e.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,e,i){var n=t.getData();this.group.dirty();var o=jo("").reset(t,e,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=T.o8(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(s.A),v_=y_,x_=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){return Vn(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,i){return i.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(h.A),__=x_;function b_(t){t.registerChartView(v_),t.registerSeriesModel(__),t.registerLayout(jo("effectScatter"))}var w_=function(t){function e(e,i,n){var o=t.call(this)||this;return o.add(o.createLine(e,i,n)),o._updateEffectSymbol(e,i),o}return(0,Pi.C6)(e,t),e.prototype.createLine=function(t,e,i){return new Ff(t,e,i)},e.prototype._updateEffectSymbol=function(t,e){var i=t.getItemModel(e),n=i.getModel("effect"),o=n.get("symbolSize"),r=n.get("symbol");u.cy(o)||(o=[o,o]);var a=t.getItemVisual(e,"style"),s=n.get("color")||a&&a.stroke,l=this.childAt(1);this._symbolType!==r&&(this.remove(l),l=(0,Bn.v5)(r,-.5,-.5,1,1,s),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(n.getItemStyle(["color"])),l.scaleX=o[0],l.scaleY=o[1],l.setColor(s),this._symbolType=r,this._symbolScale=o,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=t.getItemLayout(i),r=1e3*e.get("period"),a=e.get("loop"),s=e.get("roundTrip"),l=e.get("constantSpeed"),h=u.Je(e.get("delay"),(function(e){return e/t.count()*r/3}));if(n.ignore=!0,this._updateAnimationPoints(n,o),l>0&&(r=this._getLineLength(n)/l*1e3),r!==this._period||a!==this._loop||s!==this._roundTrip){n.stopAnimation();var c=void 0;c=u.Tn(h)?h(i):h,n.__t>0&&(c=-r*n.__t),this._animateSymbol(n,r,c,a,s)}this._period=r,this._loop=a,this._roundTrip=s}},e.prototype._animateSymbol=function(t,e,i,n,o){if(e>0){t.__t=0;var r=this,a=t.animate("",n).when(o?2*e:e,{__t:o?2:1}).delay(i).during((function(){r._updateSymbolPosition(t)}));n||a.done((function(){r.remove(t)})),a.start()}},e.prototype._getLineLength=function(t){return D.xg(t.__p1,t.__cp1)+D.xg(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t<1?t.__t:2-t.__t,r=[t.x,t.y],a=r.slice(),s=C.k3,l=C.z7;r[0]=s(e[0],n[0],i[0],o),r[1]=s(e[1],n[1],i[1],o);var h=t.__t<1?l(e[0],n[0],i[0],o):l(i[0],n[0],e[0],1-o),u=t.__t<1?l(e[1],n[1],i[1],o):l(i[1],n[1],e[1],1-o);t.rotation=-Math.atan2(u,h)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*D.xg(a,r),1===o&&(r[0]=a[0]+(r[0]-a[0])/2,r[1]=a[1]+(r[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*D.xg(e,r):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=r[0],t.y=r[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},e}(Fn.A),M_=w_,S_=function(t){function e(e,i,n){var o=t.call(this)||this;return o._createPolyline(e,i,n),o}return(0,Pi.C6)(e,t),e.prototype._createPolyline=function(t,e,i){var n=t.getItemLayout(e),o=new S.A({shape:{points:n}});this.add(o),this._updateCommonStl(t,e,i)},e.prototype.updateData=function(t,e,i){var n=t.hostModel,o=this.childAt(0),r={shape:{points:t.getItemLayout(e)}};v.oi(o,r,n,e),this._updateCommonStl(t,e,i)},e.prototype._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),r=i&&i.emphasisLineStyle,a=i&&i.focus,s=i&&i.blurScope,l=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var h=o.getModel("emphasis");r=h.getModel("lineStyle").getLineStyle(),l=h.get("disabled"),a=h.get("focus"),s=h.get("blurScope")}n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.style.strokeNoScale=!0;var u=n.ensureState("emphasis");u.style=r,(0,L.Lm)(this,a,s,l)},e.prototype.updateLayout=function(t,e){var i=this.childAt(0);i.setShape("points",t.getItemLayout(e))},e}(Fn.A),I_=S_,A_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return(0,Pi.C6)(e,t),e.prototype.createLine=function(t,e,i){return new I_(t,e,i)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var r=e[o-1],a=e[o];n+=D.xg(r,a),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var r,a=this._lastFrame;if(e<this._lastFramePercent){var s=Math.min(a+1,o-1);for(r=s;r>=0;r--)if(n[r]<=e)break;r=Math.min(r,o-2)}else{for(r=a;r<o;r++)if(n[r]>e)break;r=Math.min(r-1,o-2)}var l=(e-n[r])/(n[r+1]-n[r]),h=i[r],u=i[r+1];t.x=h[0]*(1-l)+l*u[0],t.y=h[1]*(1-l)+l*u[1];var c=t.__t<1?u[0]-h[0]:h[0]-u[0],d=t.__t<1?u[1]-h[1]:h[1]-u[1];t.rotation=-Math.atan2(d,c)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},e}(M_),C_=A_,T_=i(7043),D_=i(4423),L_=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),k_=function(t){function e(e){var i=t.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return(0,Pi.C6)(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new L_},e.prototype.buildPath=function(t,e){var i,n=e.segs,o=e.curveness;if(e.polyline)for(i=this._off;i<n.length;){var r=n[i++];if(r>0){t.moveTo(n[i++],n[i++]);for(var a=1;a<r;a++)t.lineTo(n[i++],n[i++])}}else for(i=this._off;i<n.length;){var s=n[i++],l=n[i++],h=n[i++],u=n[i++];if(t.moveTo(s,l),o>0){var c=(s+h)/2-(l-u)*o,d=(l+u)/2-(h-s)*o;t.quadraticCurveTo(c,d,h,u)}else t.lineTo(h,u)}this.incremental&&(this._off=i,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var i=this.shape,n=i.segs,o=i.curveness,r=this.style.lineWidth;if(i.polyline)for(var a=0,s=0;s<n.length;){var l=n[s++];if(l>0)for(var h=n[s++],u=n[s++],c=1;c<l;c++){var d=n[s++],p=n[s++];if(T_.l(h,u,d,p,r,t,e))return a}a++}else for(a=0,s=0;s<n.length;){h=n[s++],u=n[s++],d=n[s++],p=n[s++];if(o>0){var g=(h+d)/2-(u-p)*o,f=(u+p)/2-(d-h)*o;if(D_.l(h,u,g,f,d,p,r,t,e))return a}else if(T_.l(h,u,d,p,r,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();if(t=i[0],e=i[1],n.contain(t,e)){var o=this.hoverDataIdx=this.findDataIndex(t,e);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,i=e.segs,n=1/0,o=1/0,r=-1/0,a=-1/0,s=0;s<i.length;){var l=i[s++],h=i[s++];n=Math.min(l,n),r=Math.max(l,r),o=Math.min(h,o),a=Math.max(h,a)}t=this._rect=new y.A(n,o,r,a)}return t},e}(M.Ay),P_=function(){function t(){this.group=new Fn.A}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var i=this._newAdded[0],n=e.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var r=o.length,a=new Float32Array(r+n.length);a.set(o),a.set(n,r),i.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:n}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new k_({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var r=(0,x.z)(t);r.seriesIndex=n.seriesIndex,t.on("mousemove",(function(e){r.dataIndex=null;var i=t.hoverDataIdx;i>0&&(r.dataIndex=i+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),O_=P_,N_={seriesType:"lines",plan:(0,Xo.A)(),reset:function(t){var e=t.coordinateSystem;if(e){var i=t.get("polyline"),n=t.pipelineContext.large;return{progress:function(o,r){var a=[];if(n){var s=void 0,l=o.end-o.start;if(i){for(var h=0,u=o.start;u<o.end;u++)h+=t.getLineCoordsCount(u);s=new Float32Array(l+2*h)}else s=new Float32Array(4*l);var c=0,d=[];for(u=o.start;u<o.end;u++){var p=t.getLineCoords(u,a);i&&(s[c++]=p);for(var g=0;g<p;g++)d=e.dataToPoint(a[g],!1,d),s[c++]=d[0],s[c++]=d[1]}r.setLayout("linesPoints",s)}else for(u=o.start;u<o.end;u++){var f=r.getItemModel(u),m=(p=t.getLineCoords(u,a),[]);if(i)for(var y=0;y<p;y++)m.push(e.dataToPoint(a[y]));else{m[0]=e.dataToPoint(a[0]),m[1]=e.dataToPoint(a[1]);var v=f.get(["lineStyle","curveness"]);+v&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*v,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*v])}r.setItemLayout(u,m)}}}}}},R_=N_,E_=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),r=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=i.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),o.updateData(n);var h=t.get("clip",!0)&&wo(t.coordinateSystem,!1,t);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t);o.incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,i){var n=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var r=R_.reset(t,e,i);r.progress&&r.progress({start:0,end:n.count(),count:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get("polyline"),r=e.pipelineContext,a=r.large;return i&&n===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=a?new O_:new Yf(o?n?C_:I_:n?M_:Ff),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=a),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr(),i="svg"===e.painter.getType();i||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(s.A),z_=E_,V_="undefined"===typeof Uint32Array?Array:Uint32Array,B_="undefined"===typeof Float64Array?Array:Float64Array;function F_(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=(0,u.Tj)(e,(function(t){var e=[t[0].coord,t[1].coord],i={coords:e};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),(0,u.Um)([i,t[0],t[1]])})))}var W_=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return(0,Pi.C6)(e,t),e.prototype.init=function(e){e.data=e.data||[],F_(e);var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(F_(e),e.data){var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=(0,u.yB)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=(0,u.yB)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),i=e.option instanceof Array?e.option:e.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}var r=this._getCoordsFromItemModel(t);for(o=0;o<r.length;o++)e[o]=e[o]||[],e[o][0]=r[o][0],e[o][1]=r[o][1];return r.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),(0,u.Et)(t[0])){for(var i=t.length,n=new V_(i),o=new B_(i),r=0,a=0,s=0,l=0;l<i;){s++;var h=t[l++];n[a++]=r+e,n[a++]=h;for(var c=0;c<h;c++){var d=t[l++],p=t[l++];o[r++]=d,o[r++]=p}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,a),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var i=new vn(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],(function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[o]:r:void 0})),i},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=n.getItemModel(t),r=o.get("name");if(r)return r;var a=o.get("fromName"),s=o.get("toName"),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),(0,Oh.Qx)("nameValue",{name:l.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(h.A),G_=W_;function H_(t){return t instanceof Array||(t=[t,t]),t}var X_={seriesType:"lines",reset:function(t){var e=H_(t.get("symbol")),i=H_(t.get("symbolSize")),n=t.getData();function o(t,e){var i=t.getItemModel(e),n=H_(i.getShallow("symbol",!0)),o=H_(i.getShallow("symbolSize",!0));n[0]&&t.setItemVisual(e,"fromSymbol",n[0]),n[1]&&t.setItemVisual(e,"toSymbol",n[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1])}return n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),{dataEach:n.hasItemOption?o:null}}},j_=X_;function Y_(t){t.registerChartView(z_),t.registerSeriesModel(G_),t.registerLayout(R_),t.registerVisual(j_)}var $_=256,U_=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=At.yh.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,i,n,o,r){var a=this._getBrush(),s=this._getGradient(o,"inRange"),l=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,u=this.canvas,c=u.getContext("2d"),d=t.length;u.width=e,u.height=i;for(var p=0;p<d;++p){var g=t[p],f=g[0],m=g[1],y=g[2],v=n(y);c.globalAlpha=v,c.drawImage(a,f-h,m-h)}if(!u.width||!u.height)return u;var x=c.getImageData(0,0,u.width,u.height),_=x.data,b=0,w=_.length,M=this.minOpacity,S=this.maxOpacity,I=S-M;while(b<w){v=_[b+3]/256;var A=4*Math.floor(v*($_-1));if(v>0){var C=r(v)?s:l;v>0&&(v=v*I+M),_[b++]=C[A],_[b++]=C[A+1],_[b++]=C[A+2],_[b++]=C[A+3]*v*256}else b+=4}return c.putImageData(x,0,0),u},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=At.yh.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},t.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,n=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],r=0,a=0;a<256;a++)t[e](a/255,!0,o),n[r++]=o[0],n[r++]=o[1],n[r++]=o[2],n[r++]=o[3];return n},t}(),Z_=U_;function q_(t,e,i){var n=t[1]-t[0];e=u.Tj(e,(function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}}));var o=e.length,r=0;return function(t){var n;for(n=r;n<o;n++){var a=e[n].interval;if(a[0]<=t&&t<=a[1]){r=n;break}}if(n===o)for(n=r-1;n>=0;n--){a=e[n].interval;if(a[0]<=t&&t<=a[1]){r=n;break}}return n>=0&&n<o&&i[n]}}function K_(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}function J_(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var Q_=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(i){i===t&&(n=e)}))})),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):J_(o)&&this._renderOnGeo(o,t,n,i)},e.prototype.incrementalPrepareRender=function(t,e,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,i,n){var o=e.coordinateSystem;o&&(J_(o)?this.render(e,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Hn.traverseElements(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,i,n,o){var r,a,s,l,h=t.coordinateSystem,u=Mo(h,"cartesian2d");if(u){var c=h.getAxis("x"),d=h.getAxis("y");0,r=c.getBandWidth()+.5,a=d.getBandWidth()+.5,s=c.scale.getExtent(),l=d.scale.getExtent()}for(var p=this.group,g=t.getData(),f=t.getModel(["emphasis","itemStyle"]).getItemStyle(),m=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),v=t.get(["itemStyle","borderRadius"]),x=(0,st.lx)(t),_=t.getModel("emphasis"),b=_.get("focus"),w=_.get("blurScope"),M=_.get("disabled"),S=u?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],I=i;I<n;I++){var A=void 0,C=g.getItemVisual(I,"style");if(u){var T=g.get(S[0],I),D=g.get(S[1],I);if(isNaN(g.get(S[2],I))||isNaN(T)||isNaN(D)||T<s[0]||T>s[1]||D<l[0]||D>l[1])continue;var k=h.dataToPoint([T,D]);A=new vo.A({shape:{x:k[0]-r/2,y:k[1]-a/2,width:r,height:a},style:C})}else{if(isNaN(g.get(S[1],I)))continue;A=new vo.A({z2:1,shape:h.dataToRect([g.get(S[0],I)]).contentShape,style:C})}if(g.hasItemOption){var P=g.getItemModel(I),O=P.getModel("emphasis");f=O.getModel("itemStyle").getItemStyle(),m=P.getModel(["blur","itemStyle"]).getItemStyle(),y=P.getModel(["select","itemStyle"]).getItemStyle(),v=P.get(["itemStyle","borderRadius"]),b=O.get("focus"),w=O.get("blurScope"),M=O.get("disabled"),x=(0,st.lx)(P)}A.shape.r=v;var N=t.getRawValue(I),R="-";N&&null!=N[2]&&(R=N[2]+""),(0,st.qM)(A,x,{labelFetcher:t,labelDataIndex:I,defaultOpacity:C.opacity,defaultText:R}),A.ensureState("emphasis").style=f,A.ensureState("blur").style=m,A.ensureState("select").style=y,(0,L.Lm)(A,b,w,M),A.incremental=o,o&&(A.states.emphasis.hoverLayer=!0),p.add(A),g.setItemGraphicEl(I,A),this._progressiveEls&&this._progressiveEls.push(A)}},e.prototype._renderOnGeo=function(t,e,i,n){var o=i.targetVisuals.inRange,r=i.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new Z_;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),h=t.getRoamTransform();l.applyTransform(h);var u=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,n.getWidth()),p=Math.min(l.height+l.y,n.getHeight()),g=d-u,f=p-c,m=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],y=a.mapArray(m,(function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=u,o[1]-=c,o.push(n),o})),v=i.getExtent(),x="visualMap.continuous"===i.type?K_(v,i.option.range):q_(v,i.getPieceList(),i.option.selected);s.update(y,g,f,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:r.color.getColorMapper()},x);var _=new Gt.Ay({style:{width:g,height:f,x:u,y:c,image:s.canvas},silent:!0});this.group.add(_)},e.type="heatmap",e}(s.A),tb=Q_,eb=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){return Vn(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Sn.A.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(h.A),ib=eb;function nb(t){t.registerChartView(tb),t.registerSeriesModel(ib)}var ob=["itemStyle","borderWidth"],rb=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ab=new Fh.A,sb=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=this.group,o=t.getData(),r=this._data,a=t.coordinateSystem,s=a.getBaseAxis(),l=s.isHorizontal(),h=a.master.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:l,valueDim:rb[+l],categoryDim:rb[1-+l]};o.diff(r).add((function(t){if(o.hasValue(t)){var e=xb(o,t),i=lb(o,t,e,u),r=wb(o,u,i);o.setItemGraphicEl(t,r),n.add(r),Tb(r,u,i)}})).update((function(t,e){var i=r.getItemGraphicEl(e);if(o.hasValue(t)){var a=xb(o,t),s=lb(o,t,a,u),l=Ib(o,s);i&&l!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(t,null),i=null),i?Mb(i,u,s):i=wb(o,u,s,!0),o.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=s,n.add(i),Tb(i,u,s)}else n.remove(i)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&Sb(r,t,e.__pictorialSymbolMeta.animationModel,e)})).execute();var c=t.get("clip",!0)?wo(t.coordinateSystem,!1,t):null;return c?n.setClipPath(c):n.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl((function(e){Sb(n,(0,x.z)(e).dataIndex,t,e)})):i.removeAll()},e.type="pictorialBar",e}(s.A);function lb(t,e,i,n){var o=t.getItemLayout(e),r=i.get("symbolRepeat"),a=i.get("symbolClip"),s=i.get("symbolPosition")||"start",l=i.get("symbolRotate"),h=(l||0)*Math.PI/180||0,u=i.get("symbolPatternSize")||2,c=i.isAnimationEnabled(),d={dataIndex:e,layout:o,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:r,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:h,animationModel:c?i:null,hoverScale:c&&i.get(["emphasis","scale"]),z2:i.getShallow("z",!0)||0};hb(i,r,o,n,d),cb(t,e,o,r,a,d.boundingLength,d.pxSign,u,n,d),db(i,d.symbolScale,h,n,d);var p=d.symbolSize,g=(0,Bn.hV)(i.get("symbolOffset"),p);return pb(i,p,o,r,a,g,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,n,d),d}function hb(t,e,i,n,o){var r,a=n.valueDim,s=t.get("symbolBoundingData"),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(i[a.wh]<=0);if(u.cy(s)){var d=[ub(l,s[0])-h,ub(l,s[1])-h];d[1]<d[0]&&d.reverse(),r=d[c]}else r=null!=s?ub(l,s)-h:e?n.coordSysExtent[a.index][c]-h:i[a.wh];o.boundingLength=r,e&&(o.repeatCutLength=i[a.wh]),o.pxSign=r>0?1:-1}function ub(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function cb(t,e,i,n,o,r,a,s,l,h){var c,d=l.valueDim,p=l.categoryDim,g=Math.abs(i[p.wh]),f=t.getItemVisual(e,"symbolSize");c=u.cy(f)?f.slice():null==f?["100%","100%"]:[f,f],c[p.index]=(0,_.lo)(c[p.index],g),c[d.index]=(0,_.lo)(c[d.index],n?g:Math.abs(r)),h.symbolSize=c;var m=h.symbolScale=[c[0]/s,c[1]/s];m[d.index]*=(l.isHorizontal?-1:1)*a}function db(t,e,i,n,o){var r=t.get(ob)||0;r&&(ab.attr({scaleX:e[0],scaleY:e[1],rotation:i}),ab.updateTransform(),r/=ab.getLineScale(),r*=e[n.valueDim.index]),o.valueLineWidth=r||0}function pb(t,e,i,n,o,r,a,s,l,h,c,d){var p=c.categoryDim,g=c.valueDim,f=d.pxSign,m=Math.max(e[g.index]+s,0),y=m;if(n){var v=Math.abs(l),x=u.Je(t.get("symbolMargin"),"15%")+"",b=!1;x.lastIndexOf("!")===x.length-1&&(b=!0,x=x.slice(0,x.length-1));var w=(0,_.lo)(x,e[g.index]),M=Math.max(m+2*w,0),S=b?0:2*w,I=(0,_.kf)(n),A=I?n:Db((v+S)/M),C=v-A*m;w=C/2/(b?A:Math.max(A-1,1)),M=m+2*w,S=b?0:2*w,I||"fixed"===n||(A=h?Db((Math.abs(h)+S)/M):0),y=A*M-S,d.repeatTimes=A,d.symbolMargin=w}var T=f*(y/2),D=d.pathPosition=[];D[p.index]=i[p.wh]/2,D[g.index]="start"===a?T:"end"===a?l-T:l/2,r&&(D[0]+=r[0],D[1]+=r[1]);var L=d.bundlePosition=[];L[p.index]=i[p.xy],L[g.index]=i[g.xy];var k=d.barRectShape=u.X$({},i);k[g.wh]=f*Math.max(Math.abs(i[g.wh]),Math.abs(D[g.index]+T)),k[p.wh]=i[p.wh];var P=d.clipShape={};P[p.xy]=-i[p.xy],P[p.wh]=c.ecSize[p.wh],P[g.xy]=0,P[g.wh]=i[g.wh]}function gb(t){var e=t.symbolPatternSize,i=(0,Bn.v5)(t.symbolType,-e/2,-e/2,e,e);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function fb(t,e,i,n){var o=t.__pictorialBundle,r=i.symbolSize,a=i.valueLineWidth,s=i.pathPosition,l=e.valueDim,h=i.repeatTimes||0,u=0,c=r[e.valueDim.index]+a+2*i.symbolMargin;for(Ab(t,(function(t){t.__pictorialAnimationIndex=u,t.__pictorialRepeatTimes=h,u<h?Cb(t,null,g(u),i,n):Cb(t,null,{scaleX:0,scaleY:0},i,n,(function(){o.remove(t)})),u++}));u<h;u++){var d=gb(i);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=h,o.add(d);var p=g(u);Cb(d,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},i,n)}function g(t){var e=s.slice(),n=i.pxSign,o=t;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=h-1-t),e[l.index]=c*(o-h/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function mb(t,e,i,n){var o=t.__pictorialBundle,r=t.__pictorialMainPath;r?Cb(r,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,n):(r=t.__pictorialMainPath=gb(i),o.add(r),Cb(r,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,n))}function yb(t,e,i){var n=u.X$({},e.barRectShape),o=t.__pictorialBarRect;o?Cb(o,null,{shape:n},e,i):(o=t.__pictorialBarRect=new vo.A({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),o.disableMorphing=!0,t.add(o))}function vb(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,r=u.X$({},i.clipShape),a=e.valueDim,s=i.animationModel,l=i.dataIndex;if(o)v.oi(o,{shape:r},s,l);else{r[a.wh]=0,o=new vo.A({shape:r}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var h={};h[a.wh]=i.clipShape[a.wh],Hn[n?"updateProps":"initProps"](o,{shape:h},s,l)}}}function xb(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=_b,i.isAnimationEnabled=bb,i}function _b(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function bb(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function wb(t,e,i,n){var o=new Fn.A,r=new Fn.A;return o.add(r),o.__pictorialBundle=r,r.x=i.bundlePosition[0],r.y=i.bundlePosition[1],i.symbolRepeat?fb(o,e,i):mb(o,e,i),yb(o,i,n),vb(o,e,i,n),o.__pictorialShapeStr=Ib(t,i),o.__pictorialSymbolMeta=i,o}function Mb(t,e,i){var n=i.animationModel,o=i.dataIndex,r=t.__pictorialBundle;v.oi(r,{x:i.bundlePosition[0],y:i.bundlePosition[1]},n,o),i.symbolRepeat?fb(t,e,i,!0):mb(t,e,i,!0),yb(t,i,!0),vb(t,e,i,!0)}function Sb(t,e,i,n){var o=n.__pictorialBarRect;o&&o.removeTextContent();var r=[];Ab(n,(function(t){r.push(t)})),n.__pictorialMainPath&&r.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),u.__(r,(function(t){v.Nz(t,{scaleX:0,scaleY:0},i,e,(function(){n.parent&&n.parent.remove(n)}))})),t.setItemGraphicEl(e,null)}function Ib(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function Ab(t,e,i){u.__(t.__pictorialBundle.children(),(function(n){n!==t.__pictorialBarRect&&e.call(i,n)}))}function Cb(t,e,i,n,o,r){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&Hn[o?"updateProps":"initProps"](t,i,n.animationModel,n.dataIndex,r)}function Tb(t,e,i){var n=i.dataIndex,o=i.itemModel,r=o.getModel("emphasis"),a=r.getModel("itemStyle").getItemStyle(),s=o.getModel(["blur","itemStyle"]).getItemStyle(),l=o.getModel(["select","itemStyle"]).getItemStyle(),h=o.getShallow("cursor"),c=r.get("focus"),d=r.get("blurScope"),p=r.get("scale");Ab(t,(function(t){if(t instanceof Gt.Ay){var e=t.style;t.useStyle(u.X$({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},i.style))}else t.useStyle(i.style);var n=t.ensureState("emphasis");n.style=a,p&&(n.scaleX=1.1*t.scaleX,n.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=l,h&&(t.cursor=h),t.z2=i.z2}));var g=e.valueDim.posDesc[+(i.boundingLength>0)],f=t.__pictorialBarRect;f.ignoreClip=!0,(0,st.qM)(f,(0,st.lx)(o),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:Xn(e.seriesModel.getData(),n),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:g}),(0,L.Lm)(t,c,d,r.get("disabled"))}function Db(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var Lb=sb,kb=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i.defaultSymbol="roundRect",i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=(0,dr.G_)(cr.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(cr),Pb=kb;function Ob(t){t.registerChartView(Lb),t.registerSeriesModel(Pb),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,(0,u.cF)(rr,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ar("pictorialBar"))}var Nb=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._layers=[],i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=t.getData(),o=this,r=this.group,a=t.getLayerSeries(),s=n.getLayout("layoutInfo"),l=s.rect,h=s.boundaryGap;function c(t){return t.name}r.x=0,r.y=l.y+h[0];var d=new zi(this._layersSeries||[],a,c,c),p=[];function g(e,i,s){var l=o._layers;if("remove"!==e){for(var h,u,c=[],d=[],g=a[i].indices,f=0;f<g.length;f++){var m=n.getItemLayout(g[f]),y=m.x,x=m.y0,_=m.y;c.push(y,x),d.push(y,x+_),h=n.getItemVisual(g[f],"style")}var b=n.getItemLayout(g[0]),w=t.getModel("label"),M=w.get("margin"),S=t.getModel("emphasis");if("add"===e){var I=p[i]=new Fn.A;u=new yo({shape:{points:c,stackedOnPoints:d,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),I.add(u),r.add(I),t.isAnimationEnabled()&&u.setClipPath(Rb(u.getBoundingRect(),t,(function(){u.removeClipPath()})))}else{I=l[s];u=I.childAt(0),r.add(I),p[i]=I,v.oi(u,{shape:{points:c,stackedOnPoints:d}},t),(0,v.ap)(u)}(0,st.qM)(u,(0,st.lx)(t),{labelDataIndex:g[f-1],defaultText:n.getName(g[f-1]),inheritColor:h.fill},{normal:{verticalAlign:"middle"}}),u.setTextConfig({position:null,local:!0});var A=u.getTextContent();A&&(A.x=b.x-M,A.y=b.y0+b.y/2),u.useStyle(h),n.setItemGraphicEl(i,u),(0,L.Mx)(u,t),(0,L.Lm)(u,S.get("focus"),S.get("blurScope"),S.get("disabled"))}else r.remove(l[i])}d.add((0,u.oI)(g,this,"add")).update((0,u.oI)(g,this,"update")).remove((0,u.oI)(g,this,"remove")).execute(),this._layersSeries=a,this._layers=p},e.type="themeRiver",e}(s.A);function Rb(t,e,i){var n=new vo.A({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return v.LW(n,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,i),n}var Eb=Nb,zb=2,Vb=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new ma(u.oI(this.getData,this),u.oI(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,i={},n=(0,m.Sq)(t,(function(t){return i.hasOwnProperty(t[0]+"")||(i[t[0]+""]=-1),t[2]})),o=[];n.buckets.each((function(t,e){o.push({name:e,dataList:t})}));for(var r=o.length,a=0;a<r;++a){for(var s=o[a].name,l=0;l<o[a].dataList.length;++l){var h=o[a].dataList[l][0]+"";i[h]=a}for(var h in i)i.hasOwnProperty(h)&&i[h]!==a&&(i[h]=a,t[e]=[h,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var i=this.getReferringComponents("singleAxis",m.US).models[0],n=i.get("type"),o=u.pb(t.data,(function(t){return void 0!==t[2]})),r=this.fixData(o||[]),a=[],s=this.nameMap=u.nt(),l=0,h=0;h<r.length;++h)a.push(r[h][zb]),s.get(r[h][zb])||(s.set(r[h][zb],l),l++);var c=_n(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Hi(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new vn(c,this);return d.initData(r),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),i=[],n=0;n<e;++n)i[n]=n;var o=t.mapDimension("single"),r=(0,m.Sq)(i,(function(e){return t.get("name",e)})),a=[];return r.buckets.each((function(e,i){e.sort((function(e,i){return t.get(o,e)-t.get(o,i)})),a.push({name:i,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,i){u.cy(t)||(t=t?[t]:[]);for(var n,o=this.getData(),r=this.getLayerSeries(),a=[],s=r.length,l=0;l<s;++l){for(var h=Number.MAX_VALUE,c=-1,d=r[l].indices.length,p=0;p<d;++p){var g=o.get(t[0],r[l].indices[p]),f=Math.abs(g-e);f<=h&&(n=g,h=f,c=r[l].indices[p])}a.push(c)}return{dataIndices:a,nestestValue:n}},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=n.getName(t),r=n.get(n.mapDimension("value"),t);return(0,Oh.Qx)("nameValue",{name:o,value:r})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(h.A),Bb=Vb;function Fb(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),i=t.coordinateSystem,n={},o=i.getRect();n.rect=o;var r=t.get("boundaryGap"),a=i.getAxis();if(n.boundaryGap=r,"horizontal"===a.orient){r[0]=_.lo(r[0],o.height),r[1]=_.lo(r[1],o.height);var s=o.height-r[0]-r[1];Wb(e,t,s)}else{r[0]=_.lo(r[0],o.width),r[1]=_.lo(r[1],o.width);var l=o.width-r[0]-r[1];Wb(e,t,l)}e.setLayout("layoutInfo",n)}))}function Wb(t,e,i){if(t.count())for(var n,o=e.coordinateSystem,r=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=u.Tj(r,(function(e){return u.Tj(e.indices,(function(e){var i=o.dataToPoint(t.get(a,e));return i[1]=t.get(s,e),i}))})),h=Gb(l),c=h.y0,d=i/h.max,p=r.length,g=r[0].indices.length,f=0;f<g;++f){n=c[f]*d,t.setItemLayout(r[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:n,y:l[0][f][1]*d});for(var m=1;m<p;++m)n+=l[m-1][f][1]*d,t.setItemLayout(r[m].indices[f],{layerIndex:m,x:l[m][f][0],y0:n,y:l[m][f][1]*d})}}function Gb(t){for(var e=t.length,i=t[0].length,n=[],o=[],r=0,a=0;a<i;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>r&&(r=s),n.push(s)}for(var h=0;h<i;++h)o[h]=(r-n[h])/2;r=0;for(var u=0;u<i;++u){var c=n[u]+o[u];c>r&&(r=c)}return{y0:o,max:r}}function Hb(t){t.registerChartView(Eb),t.registerSeriesModel(Bb),t.registerLayout(Fb),t.registerProcessor(oa("themeRiver"))}var Xb=2,jb=4,Yb=function(t){function e(e,i,n,o){var r=t.call(this)||this;r.z2=Xb,r.textConfig={inside:!0},(0,x.z)(r).seriesIndex=i.seriesIndex;var a=new Ne.Ay({z2:jb,silent:e.getModel().get(["label","silent"])});return r.setTextContent(a),r.updateData(!0,e,i,n,o),r}return(0,Pi.C6)(e,t),e.prototype.updateData=function(t,e,i,n,o){this.node=e,e.piece=this,i=i||this._seriesModel,n=n||this._ecModel;var r=this;(0,x.z)(r).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),l=e.getLayout(),h=u.X$({},l);h.label=null;var c=e.getVisual("style");c.lineJoin="bevel";var d=e.getVisual("decal");d&&(c.decal=(0,Ic.w)(d,o));var p=Mr(a.getModel("itemStyle"),h,!0);u.X$(h,p),u.__(L.BV,(function(t){var e=r.ensureState(t),i=a.getModel([t,"itemStyle"]);e.style=i.getItemStyle();var n=Mr(i,h);n&&(e.shape=n)})),t?(r.setShape(h),r.shape.r=l.r0,v.LW(r,{shape:{r:l.r}},i,e.dataIndex)):(v.oi(r,{shape:h},i),(0,v.ap)(r)),r.useStyle(c),this._updateLabel(i);var g=a.getShallow("cursor");g&&r.attr("cursor",g),this._seriesModel=i||this._seriesModel,this._ecModel=n||this._ecModel;var f=s.get("focus"),m="ancestor"===f?e.getAncestorsIndices():"descendant"===f?e.getDescendantIndices():f;(0,L.Lm)(this,m,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,i=this.node.getModel(),n=i.getModel("label"),o=this.node.getLayout(),r=o.endAngle-o.startAngle,a=(o.startAngle+o.endAngle)/2,s=Math.cos(a),l=Math.sin(a),h=this,c=h.getTextContent(),d=this.node.dataIndex,p=n.get("minAngle")/180*Math.PI,g=n.get("show")&&!(null!=p&&Math.abs(r)<p);function f(t,e){var i=t.get(e);return null==i?n.get(e):i}c.ignore=!g,u.__(L.wV,(function(n){var p="normal"===n?i.getModel("label"):i.getModel([n,"label"]),g="normal"===n,m=g?c:c.ensureState(n),y=t.getFormattedLabel(d,n);g&&(y=y||e.node.name),m.style=(0,st.VB)(p,{},null,"normal"!==n,!0),y&&(m.style.text=y);var v=p.get("show");null==v||g||(m.ignore=!v);var x,b=f(p,"position"),w=g?h:h.states[n],M=w.style.fill;w.textConfig={outsideFill:"inherit"===p.get("color")?M:null,inside:"outside"!==b};var S=f(p,"distance")||0,I=f(p,"align"),C=f(p,"rotate"),T=.5*Math.PI,D=1.5*Math.PI,L=(0,A.n)("tangential"===C?Math.PI/2-a:a),k=L>T&&!(0,_.dh)(L-T)&&L<D;"outside"===b?(x=o.r+S,I=k?"right":"left"):I&&"center"!==I?"left"===I?(x=o.r0+S,I=k?"right":"left"):"right"===I&&(x=o.r-S,I=k?"left":"right"):(x=r===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,I="center"),m.style.align=I,m.style.verticalAlign=f(p,"verticalAlign")||"middle",m.x=x*s+o.cx,m.y=x*l+o.cy;var P=0;"radial"===C?P=(0,A.n)(-a)+(k?Math.PI:0):"tangential"===C?P=(0,A.n)(Math.PI/2-a)+(k?Math.PI:0):u.Et(C)&&(P=C*Math.PI/180),m.rotation=(0,A.n)(P)})),c.dirtyStyle()},e}(xo.A),$b=Yb,Ub="sunburstRootToNode",Zb="sunburstHighlight",qb="sunburstUnhighlight";function Kb(t){t.registerAction({type:Ub,update:"updateView"},(function(t,e){function i(e,i){var n=ap(t,[Ub],e);if(n){var o=e.getViewRoot();o&&(t.direction=lp(o,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}e.eachComponent({mainType:"series",subType:"sunburst",query:t},i)})),t.registerAction({type:Zb,update:"none"},(function(t,e,i){function n(e){var i=ap(t,[Zb],e);i&&(t.dataIndex=i.node.dataIndex)}t=(0,u.X$)({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},n),i.dispatchAction((0,u.X$)(t,{type:"highlight"}))})),t.registerAction({type:qb,update:"updateView"},(function(t,e,i){t=(0,u.X$)({},t),i.dispatchAction((0,u.X$)(t,{type:"downplay"}))}))}var Jb=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){var o=this;this.seriesModel=t,this.api=i,this.ecModel=e;var r=t.getData(),a=r.tree.root,s=t.getViewRoot(),l=this.group,h=t.get("renderLabelForZeroData"),c=[];s.eachNode((function(t){c.push(t)}));var d=this._oldChildren||[];function p(t,e){function i(t){return t.getId()}function n(i,n){var o=null==i?null:t[i],r=null==n?null:e[n];g(o,r)}0===t.length&&0===e.length||new zi(e,t,i,i).add(n).update(n).remove(u.cF(n,null)).execute()}function g(n,o){if(h||!n||n.getValue()||(n=null),n!==a&&o!==a)if(o&&o.piece)n?(o.piece.updateData(!1,n,t,e,i),r.setItemGraphicEl(n.dataIndex,o.piece)):f(o);else if(n){var s=new $b(n,t,e,i);l.add(s),r.setItemGraphicEl(n.dataIndex,s)}}function f(t){t&&t.piece&&(l.remove(t.piece),t.piece=null)}function m(n,r){r.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,n,t,e,i):(o.virtualPiece=new $b(n,t,e,i),l.add(o.virtualPiece)),r.piece.off("click"),o.virtualPiece.on("click",(function(t){o._rootToNode(r.parentNode)}))):o.virtualPiece&&(l.remove(o.virtualPiece),o.virtualPiece=null)}p(c,d),m(a,s),this._initEvents(),this._oldChildren=c},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var i=!1,n=t.seriesModel.getViewRoot();n.eachNode((function(n){if(!i&&n.piece&&n.piece===e.target){var o=n.getModel().get("nodeClick");if("rootToNode"===o)t._rootToNode(n);else if("link"===o){var r=n.getModel(),a=r.get("link");if(a){var s=r.get("target",!0)||"_blank";(0,So.JW)(a,s)}}i=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Ub,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var i=e.getData(),n=i.getItemLayout(0);if(n){var o=t[0]-n.cx,r=t[1]-n.cy,a=Math.sqrt(o*o+r*r);return a<=n.r&&a>=n.r0}},e.type="sunburst",e}(s.A),Qb=Jb,tw=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.ignoreStyleOnData=!0,i}return(0,Pi.C6)(e,t),e.prototype.getInitialData=function(t,e){var i={name:t.name,children:t.data};ew(i);var n=this._levelModels=u.Tj(t.levels||[],(function(t){return new Oi.A(t,this,e)}),this),o=rp.createTree(i,this,r);function r(t){t.wrapMethod("getItemModel",(function(t,e){var i=o.getNodeByDataIndex(e),r=n[i.depth];return r&&(t.parentModel=r),t}))}return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return i.treePathInfo=hp(n,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){wp(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(h.A);function ew(t){var e=0;u.__(t.children,(function(t){ew(t);var i=t.value;u.cy(i)&&(i=i[0]),e+=i}));var i=t.value;u.cy(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),u.cy(t.value)?t.value[0]=i:t.value=i}var iw=tw,nw=Math.PI/180;function ow(t,e,i){e.eachSeriesByType(t,(function(t){var e=t.get("center"),n=t.get("radius");u.cy(n)||(n=[0,n]),u.cy(e)||(e=[e,e]);var o=i.getWidth(),r=i.getHeight(),a=Math.min(o,r),s=(0,_.lo)(e[0],o),l=(0,_.lo)(e[1],r),h=(0,_.lo)(n[0],a/2),c=(0,_.lo)(n[1],a/2),d=-t.get("startAngle")*nw,p=t.get("minAngle")*nw,g=t.getData().tree.root,f=t.getViewRoot(),m=f.depth,y=t.get("sort");null!=y&&rw(f,y);var v=0;u.__(f.children,(function(t){!isNaN(t.getValue())&&v++}));var x=f.getValue(),b=Math.PI/(x||v)*2,w=f.depth>0,M=f.height-(w?-1:1),S=(c-h)/(M||1),I=t.get("clockwise"),A=t.get("stillShowZeroSum"),C=I?1:-1,T=function(e,i){if(e){var n=i;if(e!==g){var o=e.getValue(),r=0===x&&A?b:o*b;r<p&&(r=p),n=i+C*r;var c=e.depth-m-(w?-1:1),d=h+S*c,f=h+S*(c+1),y=t.getLevelModel(e);if(y){var v=y.get("r0",!0),M=y.get("r",!0),D=y.get("radius",!0);null!=D&&(v=D[0],M=D[1]),null!=v&&(d=(0,_.lo)(v,a/2)),null!=M&&(f=(0,_.lo)(M,a/2))}e.setLayout({angle:r,startAngle:i,endAngle:n,clockwise:I,cx:s,cy:l,r0:d,r:f})}if(e.children&&e.children.length){var L=0;u.__(e.children,(function(t){L+=T(t,i+L)}))}return n-i}};if(w){var D=h,L=h+S,k=2*Math.PI;g.setLayout({angle:k,startAngle:d,endAngle:d+k,clockwise:I,cx:s,cy:l,r0:D,r:L})}T(f,d)}))}function rw(t,e){var i=t.children||[];t.children=aw(i,e),i.length&&u.__(t.children,(function(t){rw(t,e)}))}function aw(t,e){if(u.Tn(e)){var i=u.Tj(t,(function(t,e){var i=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return i}},index:e}}));return i.sort((function(t,i){return e(t.params,i.params)})),u.Tj(i,(function(e){return t[e.index]}))}var n="asc"===e;return t.sort((function(t,e){var i=(t.getValue()-e.getValue())*(n?1:-1);return 0===i?(t.dataIndex-e.dataIndex)*(n?-1:1):i}))}function sw(t){var e={};function i(t,i,n){var o=t;while(o&&o.depth>1)o=o.parentNode;var r=i.getColorFromPalette(o.name||o.dataIndex+"",e);return t.depth>1&&(0,u.Kg)(r)&&(r=(0,Re.yY)(r,(t.depth-1)/(n-1)*.5)),r}t.eachSeriesByType("sunburst",(function(t){var e=t.getData(),n=e.tree;n.eachNode((function(o){var r=o.getModel(),a=r.getModel("itemStyle").getItemStyle();a.fill||(a.fill=i(o,t,n.root.height));var s=e.ensureUniqueItemVisual(o.dataIndex,"style");(0,u.X$)(s,a)}))}))}function lw(t){t.registerChartView(Qb),t.registerSeriesModel(iw),t.registerLayout((0,u.cF)(ow,"sunburst")),t.registerProcessor((0,u.cF)(oa,"sunburst")),t.registerVisual(sw),Kb(t)}var hw={color:"fill",borderColor:"stroke"},uw={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},cw=(0,m.$r)(),dw=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return Vn(null,this)},e.prototype.getDataParams=function(e,i,n){var o=t.prototype.getDataParams.call(this,e,i);return n&&(o.info=cw(n).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(h.A),pw=dw;function gw(t,e){return e=e||[0,0],u.Tj(["x","y"],(function(i,n){var o=this.getAxis(i),r=e[n],a=t[n]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-a)-o.dataToCoord(r+a))}),this)}function fw(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:u.oI(gw,t)}}}function mw(t,e){return e=e||[0,0],u.Tj([0,1],(function(i){var n=e[i],o=t[i]/2,r=[],a=[];return r[i]=n-o,a[i]=n+o,r[1-i]=a[1-i]=e[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(a)[i])}),this)}function yw(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:u.oI(mw,t)}}}function vw(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function xw(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:(0,u.oI)(vw,t)}}}function _w(t,e){return e=e||[0,0],u.Tj(["Radius","Angle"],(function(i,n){var o="get"+i+"Axis",r=this[o](),a=e[n],s=t[n]/2,l="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(a-s)-r.dataToCoord(a+s));return"Angle"===i&&(l=l*Math.PI/180),l}),this)}function bw(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:function(n){var o=e.dataToRadius(n[0]),r=i.dataToAngle(n[1]),a=t.coordToPoint([o,r]);return a.push(o,r*Math.PI/180),a},size:u.oI(_w,t)}}}function ww(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}}function Mw(t,e,i,n){return t&&(t.legacy||!1!==t.legacy&&!i&&!n&&"tspan"!==e&&("text"===e||(0,u.$3)(t,"text")))}function Sw(t,e,i){var n,o,r,a=t;if("text"===e)r=a;else{r={},(0,u.$3)(a,"text")&&(r.text=a.text),(0,u.$3)(a,"rich")&&(r.rich=a.rich),(0,u.$3)(a,"textFill")&&(r.fill=a.textFill),(0,u.$3)(a,"textStroke")&&(r.stroke=a.textStroke),(0,u.$3)(a,"fontFamily")&&(r.fontFamily=a.fontFamily),(0,u.$3)(a,"fontSize")&&(r.fontSize=a.fontSize),(0,u.$3)(a,"fontStyle")&&(r.fontStyle=a.fontStyle),(0,u.$3)(a,"fontWeight")&&(r.fontWeight=a.fontWeight),o={type:"text",style:r,silent:!0},n={};var s=(0,u.$3)(a,"textPosition");i?n.position=s?a.textPosition:"inside":s&&(n.position=a.textPosition),(0,u.$3)(a,"textPosition")&&(n.position=a.textPosition),(0,u.$3)(a,"textOffset")&&(n.offset=a.textOffset),(0,u.$3)(a,"textRotation")&&(n.rotation=a.textRotation),(0,u.$3)(a,"textDistance")&&(n.distance=a.textDistance)}return Iw(r,t),(0,u.__)(r.rich,(function(t){Iw(t,t)})),{textConfig:n,textContent:o}}function Iw(t,e){e&&(e.font=e.textFont||e.font,(0,u.$3)(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),(0,u.$3)(e,"textAlign")&&(t.align=e.textAlign),(0,u.$3)(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),(0,u.$3)(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),(0,u.$3)(e,"textWidth")&&(t.width=e.textWidth),(0,u.$3)(e,"textHeight")&&(t.height=e.textHeight),(0,u.$3)(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),(0,u.$3)(e,"textPadding")&&(t.padding=e.textPadding),(0,u.$3)(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),(0,u.$3)(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),(0,u.$3)(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),(0,u.$3)(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),(0,u.$3)(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),(0,u.$3)(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),(0,u.$3)(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Aw(t,e,i){var n=t;n.textPosition=n.textPosition||i.position||"inside",null!=i.offset&&(n.textOffset=i.offset),null!=i.rotation&&(n.textRotation=i.rotation),null!=i.distance&&(n.textDistance=i.distance);var o=n.textPosition.indexOf("inside")>=0,r=t.fill||"#000";Cw(n,e);var a=null==n.textFill;return o?a&&(n.textFill=i.insideFill||"#fff",!n.textStroke&&i.insideStroke&&(n.textStroke=i.insideStroke),!n.textStroke&&(n.textStroke=r),null==n.textStrokeWidth&&(n.textStrokeWidth=2)):(a&&(n.textFill=t.fill||i.outsideFill||"#000"),!n.textStroke&&i.outsideStroke&&(n.textStroke=i.outsideStroke)),n.text=e.text,n.rich=e.rich,(0,u.__)(e.rich,(function(t){Cw(t,t)})),n}function Cw(t,e){e&&((0,u.$3)(e,"fill")&&(t.textFill=e.fill),(0,u.$3)(e,"stroke")&&(t.textStroke=e.fill),(0,u.$3)(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),(0,u.$3)(e,"font")&&(t.font=e.font),(0,u.$3)(e,"fontStyle")&&(t.fontStyle=e.fontStyle),(0,u.$3)(e,"fontWeight")&&(t.fontWeight=e.fontWeight),(0,u.$3)(e,"fontSize")&&(t.fontSize=e.fontSize),(0,u.$3)(e,"fontFamily")&&(t.fontFamily=e.fontFamily),(0,u.$3)(e,"align")&&(t.textAlign=e.align),(0,u.$3)(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),(0,u.$3)(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),(0,u.$3)(e,"width")&&(t.textWidth=e.width),(0,u.$3)(e,"height")&&(t.textHeight=e.height),(0,u.$3)(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),(0,u.$3)(e,"padding")&&(t.textPadding=e.padding),(0,u.$3)(e,"borderColor")&&(t.textBorderColor=e.borderColor),(0,u.$3)(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),(0,u.$3)(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),(0,u.$3)(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),(0,u.$3)(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),(0,u.$3)(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),(0,u.$3)(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),(0,u.$3)(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),(0,u.$3)(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),(0,u.$3)(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),(0,u.$3)(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var Tw=i(7193),Dw={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Lw=(0,u.HP)(Dw),kw=((0,u.TS)(b.Wx,(function(t,e){return t[e]=1,t}),{}),b.Wx.join(", "),["","style","shape","extra"]),Pw=(0,m.$r)();function Ow(t,e,i,n,o){var r=t+"Animation",a=(0,v.Jw)(t,n,o)||{},s=Pw(e).userDuring;return a.duration>0&&(a.during=s?(0,u.oI)(Hw,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),(0,u.X$)(a,i[r]),a}function Nw(t,e,i,n){n=n||{};var o=n.dataIndex,r=n.isInit,a=n.clearStyle,s=i.isAnimationEnabled(),l=Pw(t),h=e.style;l.userDuring=e.during;var c={},d={};if($w(t,e,d),jw("shape",e,d),jw("extra",e,d),!r&&s&&(Yw(t,e,c),Xw("shape",t,e,c),Xw("extra",t,e,c),Uw(t,e,h,c)),d.style=h,Vw(t,d,a),Fw(t,e),s)if(r){var p={};(0,u.__)(kw,(function(t){var i=t?e[t]:e;i&&i.enterFrom&&(t&&(p[t]=p[t]||{}),(0,u.X$)(t?p[t]:p,i.enterFrom))}));var g=Ow("enter",t,e,i,o);g.duration>0&&t.animateFrom(p,g)}else Bw(t,e,o||0,i,c);Rw(t,e),h?t.dirty():t.markRedraw()}function Rw(t,e){for(var i=Pw(t).leaveToProps,n=0;n<kw.length;n++){var o=kw[n],r=o?e[o]:e;r&&r.leaveTo&&(i||(i=Pw(t).leaveToProps={}),o&&(i[o]=i[o]||{}),(0,u.X$)(o?i[o]:i,r.leaveTo))}}function Ew(t,e,i,n){if(t){var o=t.parent,r=Pw(t).leaveToProps;if(r){var a=Ow("update",t,e,i,0);a.done=function(){o.remove(t),n&&n()},t.animateTo(r,a)}else o.remove(t),n&&n()}}function zw(t){return"all"===t}function Vw(t,e,i){var n=e.style;if(!t.isGroup&&n){if(i){t.useStyle({});for(var o=t.animators,r=0;r<o.length;r++){var a=o[r];"style"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(n)}e&&(e.style=null,e&&t.attr(e),e.style=n)}function Bw(t,e,i,n,o){if(o){var r=Ow("update",t,e,n,i);r.duration>0&&t.animateFrom(o,r)}}function Fw(t,e){(0,u.$3)(e,"silent")&&(t.silent=e.silent),(0,u.$3)(e,"ignore")&&(t.ignore=e.ignore),t instanceof Ac.Ay&&(0,u.$3)(e,"invisible")&&(t.invisible=e.invisible),t instanceof M.Ay&&(0,u.$3)(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var Ww={},Gw={setTransform:function(t,e){return Ww.el[t]=e,this},getTransform:function(t){return Ww.el[t]},setShape:function(t,e){var i=Ww.el,n=i.shape||(i.shape={});return n[t]=e,i.dirtyShape&&i.dirtyShape(),this},getShape:function(t){var e=Ww.el.shape;if(e)return e[t]},setStyle:function(t,e){var i=Ww.el,n=i.style;return n&&(n[t]=e,i.dirtyStyle&&i.dirtyStyle()),this},getStyle:function(t){var e=Ww.el.style;if(e)return e[t]},setExtra:function(t,e){var i=Ww.el.extra||(Ww.el.extra={});return i[t]=e,this},getExtra:function(t){var e=Ww.el.extra;if(e)return e[t]}};function Hw(){var t=this,e=t.el;if(e){var i=Pw(e).userDuring,n=t.userDuring;i===n?(Ww.el=e,n(Gw)):t.el=t.userDuring=null}}function Xw(t,e,i,n){var o=i[t];if(o){var r,a=e[t];if(a){var s=i.transition,l=o.transition;if(l)if(!r&&(r=n[t]={}),zw(l))(0,u.X$)(r,a);else for(var h=(0,m.qB)(l),c=0;c<h.length;c++){var d=h[c],p=a[d];r[d]=p}else if(zw(s)||(0,u.qh)(s,t)>=0){!r&&(r=n[t]={});var g=(0,u.HP)(a);for(c=0;c<g.length;c++){d=g[c],p=a[d];Zw(o[d],p)&&(r[d]=p)}}}}}function jw(t,e,i){var n=e[t];if(n)for(var o=i[t]={},r=(0,u.HP)(n),a=0;a<r.length;a++){var s=r[a];o[s]=(0,Tw.F)(n[s])}}function Yw(t,e,i){for(var n=e.transition,o=zw(n)?b.Wx:(0,m.qB)(n||[]),r=0;r<o.length;r++){var a=o[r];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=t[a];0,i[a]=s}}}function $w(t,e,i){for(var n=0;n<Lw.length;n++){var o=Lw[n],r=Dw[o],a=e[o];a&&(i[r[0]]=a[0],i[r[1]]=a[1])}for(n=0;n<b.Wx.length;n++){var s=b.Wx[n];null!=e[s]&&(i[s]=e[s])}}function Uw(t,e,i,n){if(i){var o,r=t.style;if(r){var a=i.transition,s=e.transition;if(a&&!zw(a)){var l=(0,m.qB)(a);!o&&(o=n.style={});for(var h=0;h<l.length;h++){var c=l[h],d=r[c];o[c]=d}}else if(t.getAnimationStyleProps&&(zw(s)||zw(a)||(0,u.qh)(s,"style")>=0)){var p=t.getAnimationStyleProps(),g=p?p.style:null;if(g){!o&&(o=n.style={});var f=(0,u.HP)(i);for(h=0;h<f.length;h++){c=f[h];if(g[c]){d=r[c];o[c]=d}}}}}}}function Zw(t,e){return(0,u.Xj)(t)?t!==e:null!=t&&isFinite(t)}var qw=(0,m.$r)(),Kw=["percent","easing","shape","style","extra"];function Jw(t){t.stopAnimation("keyframe"),t.attr(qw(t))}function Qw(t,e,i){if(i.isAnimationEnabled()&&e)if((0,u.cy)(e))(0,u.__)(e,(function(e){Qw(t,e,i)}));else{var n=e.keyframes,o=e.duration;if(i&&null==o){var r=(0,v.Jw)("enter",i,0);o=r&&r.duration}if(n&&o){var a=qw(t);(0,u.__)(kw,(function(i){if(!i||t[i]){var r;n.sort((function(t,e){return t.percent-e.percent})),(0,u.__)(n,(function(n){var s=t.animators,l=i?n[i]:n;if(l){var h=(0,u.HP)(l);if(i||(h=(0,u.pb)(h,(function(t){return(0,u.qh)(Kw,t)<0}))),h.length){r||(r=t.animate(i,e.loop,!0),r.scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==r&&s[c].targetName===r.targetName&&s[c].stopTracks(h);i&&(a[i]=a[i]||{});var d=i?a[i]:a;(0,u.__)(h,(function(e){d[e]=((i?t[i]:t)||{})[e]})),r.whenWithKeys(o*n.percent,l,h,n.easing)}}})),r&&r.delay(e.delay||0).duration(o).start(e.easing)}}))}}}var tM="emphasis",eM="normal",iM="blur",nM="select",oM=[eM,tM,iM,nM],rM={normal:["itemStyle"],emphasis:[tM,"itemStyle"],blur:[iM,"itemStyle"],select:[nM,"itemStyle"]},aM={normal:["label"],emphasis:[tM,"label"],blur:[iM,"label"],select:[nM,"label"]},sM=["x","y"],lM="e\0\0",hM={normal:{},emphasis:{},blur:{},select:{}},uM={cartesian2d:fw,geo:yw,single:xw,polar:bw,calendar:ww};function cM(t){return t instanceof M.Ay}function dM(t){return t instanceof Ac.Ay}function pM(t,e){e.copyTransform(t),dM(e)&&dM(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,cM(e)&&cM(t)&&e.setShape(t.shape))}var gM=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){this._progressiveEls=null;var o=this._data,r=t.getData(),a=this.group,s=bM(t,r,e,i);o||a.removeAll(),r.diff(o).add((function(e){MM(i,null,e,s(e,n),t,a,r)})).remove((function(e){var i=o.getItemGraphicEl(e);i&&Ew(i,cw(i).option,t)})).update((function(e,l){var h=o.getItemGraphicEl(l);MM(i,h,e,s(e,n),t,a,r)})).execute();var l=t.get("clip",!0)?wo(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=r},e.prototype.incrementalPrepareRender=function(t,e,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,i,n,o){var r=e.getData(),a=bM(e,r,i,n),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var h=t.start;h<t.end;h++){var u=MM(null,null,h,a(h,o),e,this.group,r);u&&(u.traverse(l),s.push(u))}},e.prototype.eachRendered=function(t){Hn.traverseElements(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,i,n){var o=e.element;if(null==o||i.name===o)return!0;while((i=i.__hostTarget||i.parent)&&i!==this.group)if(i.name===o)return!0;return!1},e.type="custom",e}(s.A),fM=gM;function mM(t){var e,i=t.type;if("path"===i){var n=t.shape,o=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,r=zM(n);e=Hn.makePath(r,null,o,n.layout||"center"),cw(e).customPathData=r}else if("image"===i)e=new Gt.Ay({}),cw(e).customImagePath=t.style.image;else if("text"===i)e=new Ne.Ay({});else if("group"===i)e=new Fn.A;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');var a=Hn.getShapeClass(i);if(!a){var s="";0,(0,zx.$8)(s)}e=new a}return cw(e).customGraphicType=i,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function yM(t,e,i,n,o,r,a){Jw(e);var s=o&&o.normal.cfg;s&&e.setTextConfig(s),n&&null==n.transition&&(n.transition=sM);var l=n&&n.style;if(l){if("text"===e.type){var h=l;(0,u.$3)(h,"textFill")&&(h.fill=h.textFill),(0,u.$3)(h,"textStroke")&&(h.stroke=h.textStroke)}var c=void 0,d=cM(e)?l.decal:null;t&&d&&(d.dirty=!0,c=(0,Ic.w)(d,t)),l.__decalPattern=c}if(dM(e)&&l){c=l.__decalPattern;c&&(l.decal=c)}Nw(e,n,r,{dataIndex:i,isInit:a,clearStyle:!0}),Qw(e,n.keyframeAnimation,r)}function vM(t,e,i,n,o){var r=e.isGroup?null:e,a=o&&o[t].cfg;if(r){var s=r.ensureState(t);if(!1===n){var l=r.getState(t);l&&(l.style=null)}else s.style=n||null;a&&(s.textConfig=a),(0,L.DW)(r)}}function xM(t,e,i){if(!t.isGroup){var n=t,o=i.currentZ,r=i.currentZLevel;n.z=o,n.zlevel=r;var a=e.z2;null!=a&&(n.z2=a||0);for(var s=0;s<oM.length;s++)_M(n,e,oM[s])}}function _M(t,e,i){var n,o=i===eM,r=o?e:DM(e,i),a=r?r.z2:null;null!=a&&(n=o?t:t.ensureState(i),n.z2=a||0)}function bM(t,e,i,n){var o=t.get("renderItem"),r=t.coordinateSystem,a={};r&&(a=r.prepareCustoms?r.prepareCustoms(r):uM[r.type](r));for(var s,l,h=(0,u.NT)({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:b,style:M,ordinalRawValue:w,styleEmphasis:S,visual:C,barLayout:T,currentSeriesIndices:D,font:L},a.api||{}),c={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:wM(t.getData())},d={},p={},g={},f={},m=0;m<oM.length;m++){var y=oM[m];g[y]=t.getModel(rM[y]),f[y]=t.getModel(aM[y])}function v(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function x(t,i){return e.hasItemOption?t===s?d[i]||(d[i]=v(t).getModel(rM[i])):v(t).getModel(rM[i]):g[i]}function _(t,i){return e.hasItemOption?t===s?p[i]||(p[i]=v(t).getModel(aM[i])):v(t).getModel(aM[i]):f[i]}return function(t,i){return s=t,l=null,d={},p={},o&&o((0,u.NT)({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:i?i.type:null},c),h)};function b(t,i){return null==i&&(i=s),e.getStore().get(e.getDimensionIndex(t||0),i)}function w(t,i){null==i&&(i=s),t=t||0;var n=e.getDimensionInfo(t);if(!n){var o=e.getDimensionIndex(t);return o>=0?e.getStore().get(o,i):void 0}var r=e.get(n.name,i),a=n&&n.ordinalMeta;return a?a.categories[r]:r}function M(i,n){null==n&&(n=s);var o=e.getItemVisual(n,"style"),r=o&&o.fill,a=o&&o.opacity,l=x(n,eM).getItemStyle();null!=r&&(l.fill=r),null!=a&&(l.opacity=a);var h={inheritColor:(0,u.Kg)(r)?r:"#000"},c=_(n,eM),d=st.VB(c,null,h,!1,!0);d.text=c.getShallow("show")?(0,u.bZ)(t.getFormattedLabel(n,eM),Xn(e,n)):null;var p=st.sD(c,h,!1);return A(i,l),l=Aw(l,d,p),i&&I(l,i),l.legacy=!0,l}function S(i,n){null==n&&(n=s);var o=x(n,tM).getItemStyle(),r=_(n,tM),a=st.VB(r,null,null,!0,!0);a.text=r.getShallow("show")?(0,u.WV)(t.getFormattedLabel(n,tM),t.getFormattedLabel(n,eM),Xn(e,n)):null;var l=st.sD(r,null,!0);return A(i,o),o=Aw(o,a,l),i&&I(o,i),o.legacy=!0,o}function I(t,e){for(var i in e)(0,u.$3)(e,i)&&(t[i]=e[i])}function A(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}function C(t,i){if(null==i&&(i=s),(0,u.$3)(hw,t)){var n=e.getItemVisual(i,"style");return n?n[hw[t]]:null}if((0,u.$3)(uw,t))return e.getItemVisual(i,t)}function T(t){if("cartesian2d"===r.type){var e=r.getBaseAxis();return Qo((0,u.NT)({axis:e},t))}}function D(){return i.getCurrentSeriesIndices()}function L(t){return st.c8(t,i)}}function wM(t){var e={};return(0,u.__)(t.dimensions,(function(i){var n=t.getDimensionInfo(i);if(!n.isExtraCoord){var o=n.coordDim,r=e[o]=e[o]||[];r[n.coordDimIndex]=t.getDimensionIndex(i)}})),e}function MM(t,e,i,n,o,r,a){if(n){var s=SM(t,e,i,n,o,r);return s&&a.setItemGraphicEl(i,s),s&&(0,L.Lm)(s,n.focus,n.blurScope,n.emphasisDisabled),s}r.remove(e)}function SM(t,e,i,n,o,r){var a=-1,s=e;e&&IM(e,n,o)&&(a=(0,u.qh)(r.childrenRef(),e),e=null);var l=!e,h=e;h?h.clearStates():(h=mM(n),s&&pM(s,h)),!1===n.morph?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),hM.normal.cfg=hM.normal.conOpt=hM.emphasis.cfg=hM.emphasis.conOpt=hM.blur.cfg=hM.blur.conOpt=hM.select.cfg=hM.select.conOpt=null,hM.isLegacy=!1,CM(h,i,n,o,l,hM),AM(h,i,n,o,l),yM(t,h,i,n,hM,o,l),(0,u.$3)(n,"info")&&(cw(h).info=n.info);for(var c=0;c<oM.length;c++){var d=oM[c];if(d!==eM){var p=DM(n,d),g=LM(n,p,d);vM(d,h,p,g,hM)}}return xM(h,n,o),"group"===n.type&&kM(t,h,i,n,o),a>=0?r.replaceAt(h,a):r.add(h),h}function IM(t,e,i){var n=cw(t),o=e.type,r=e.shape,a=e.style;return i.isUniversalTransitionEnabled()||null!=o&&o!==n.customGraphicType||"path"===o&&VM(r)&&zM(r)!==n.customPathData||"image"===o&&(0,u.$3)(a,"image")&&a.image!==n.customImagePath}function AM(t,e,i,n,o){var r=i.clipPath;if(!1===r)t&&t.getClipPath()&&t.removeClipPath();else if(r){var a=t.getClipPath();a&&IM(a,r,n)&&(a=null),a||(a=mM(r),t.setClipPath(a)),yM(null,a,e,r,null,n,o)}}function CM(t,e,i,n,o,r){if(!t.isGroup){TM(i,null,r),TM(i,tM,r);var a=r.normal.conOpt,s=r.emphasis.conOpt,l=r.blur.conOpt,h=r.select.conOpt;if(null!=a||null!=s||null!=h||null!=l){var u=t.getTextContent();if(!1===a)u&&t.removeTextContent();else{a=r.normal.conOpt=a||{type:"text"},u?u.clearStates():(u=mM(a),t.setTextContent(u)),yM(null,u,e,a,null,n,o);for(var c=a&&a.style,d=0;d<oM.length;d++){var p=oM[d];if(p!==eM){var g=r[p].conOpt;vM(p,u,g,LM(a,g,p),null)}}c?u.dirty():u.markRedraw()}}}}function TM(t,e,i){var n=e?DM(t,e):t,o=e?LM(t,n,tM):t.style,r=t.type,a=n?n.textConfig:null,s=t.textContent,l=s?e?DM(s,e):s:null;if(o&&(i.isLegacy||Mw(o,r,!!a,!!l))){i.isLegacy=!0;var h=Sw(o,r,!e);!a&&h.textConfig&&(a=h.textConfig),!l&&h.textContent&&(l=h.textContent)}if(!e&&l){var u=l;!u.type&&(u.type="text")}var c=e?i[e]:i.normal;c.cfg=a,c.conOpt=l}function DM(t,e){return e?t?t[e]:null:t}function LM(t,e,i){var n=e&&e.style;return null==n&&i===tM&&t&&(n=t.styleEmphasis),n}function kM(t,e,i,n,o){var r=n.children,a=r?r.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,h=!1===s;if(a||l||h)if(l)OM({api:t,oldChildren:e.children()||[],newChildren:r||[],dataIndex:i,seriesModel:o,group:e});else{h&&e.removeAll();for(var u=0;u<a;u++){var c=r[u],d=e.childAt(u);c?(null==c.ignore&&(c.ignore=!1),SM(t,d,i,c,o,e)):d.ignore=!0}for(var p=e.childCount()-1;p>=u;p--){var g=e.childAt(p);PM(e,g,o)}}}function PM(t,e,i){e&&Ew(e,cw(t).option,i)}function OM(t){new zi(t.oldChildren,t.newChildren,NM,NM,t).add(RM).update(RM).remove(EM).execute()}function NM(t,e){var i=t&&t.name;return null!=i?i:lM+e}function RM(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null,o=null!=e?i.oldChildren[e]:null;SM(i.api,o,i.dataIndex,n,i.seriesModel,i.group)}function EM(t){var e=this.context,i=e.oldChildren[t];i&&Ew(i,cw(i).option,e.seriesModel)}function zM(t){return t&&(t.pathData||t.d)}function VM(t){return t&&((0,u.$3)(t,"pathData")||(0,u.$3)(t,"d"))}function BM(t){t.registerChartView(fM),t.registerSeriesModel(pw)}var FM=(0,m.$r)(),WM=u.o8,GM=u.oI,HM=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,n){var o=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==r){this._lastValue=o,this._lastStatus=r;var a=this._group,s=this._handle;if(!r||"hide"===r)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,i);var h=l.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(a){var d=u.cF(XM,e,c);this.updatePointerEl(a,l,d),this.updateLabelEl(a,l,d,e)}else a=this._group=new Fn.A,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),i.getZr().add(a);UM(a,e,!0),this._renderHandle(o)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,r=e.get("snap");if(!r&&!o)return!1;if("auto"===i||null==i){var a=this.animationThreshold;if(o&&n.getBandWidth()>a)return!0;if(r){var s=ah(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===i},t.prototype.makeElOption=function(t,e,i,n,o){},t.prototype.createPointerEl=function(t,e,i,n){var o=e.pointer;if(o){var r=FM(t).pointerEl=new Hn[o.type](WM(e.pointer));t.add(r)}},t.prototype.createLabelEl=function(t,e,i,n){if(e.label){var o=FM(t).labelEl=new Ne.Ay(WM(e.label));t.add(o),YM(o,n)}},t.prototype.updatePointerEl=function(t,e,i){var n=FM(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,i,n){var o=FM(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),YM(o,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,r=i.getModel("handle"),a=i.get("status");if(!r.get("show")||!a||"hide"===a)return o&&n.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Hn.createIcon(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Kh.ds(t.event)},onmousedown:GM(this._onHandleDragMove,this,0,0),drift:GM(this._onHandleDragMove,this),ondragend:GM(this._onHandleDragEnd,this)}),n.add(o)),UM(o,i,!1),o.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=r.get("size");u.cy(s)||(s=[s,s]),o.scaleX=s[0]/2,o.scaleY=s[1]/2,fr.N(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){XM(this._axisPointerModel,!e&&this._moveAnimation,this._handle,$M(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform($M(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr($M(n)),FM(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),fr.IU(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}},t}();function XM(t,e,i,n){jM(FM(i).lastProp,n)||(FM(i).lastProp=n,e?v.oi(i,n,t):(i.stopAnimation(),i.attr(n)))}function jM(t,e){if(u.Gv(t)&&u.Gv(e)){var i=!0;return u.__(e,(function(e,n){i=i&&jM(t[n],e)})),!!i}return t===e}function YM(t,e){t[e.get(["label","show"])?"show":"hide"]()}function $M(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function UM(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)}))}var ZM=HM;function qM(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle(),e.fill=null):"shadow"===i&&(e=n.getAreaStyle(),e.stroke=null),e}function KM(t,e,i,n,o){var r=i.get("value"),a=QM(r,e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),s=i.getModel("label"),l=So.QX(s.get("padding")||0),h=s.getFont(),u=Ht.NO(a,h),c=o.position,d=u.width+l[1]+l[3],p=u.height+l[0]+l[2],g=o.align;"right"===g&&(c[0]-=d),"center"===g&&(c[0]-=d/2);var f=o.verticalAlign;"bottom"===f&&(c[1]-=p),"middle"===f&&(c[1]-=p/2),JM(c,d,p,n);var m=s.get("backgroundColor");m&&"auto"!==m||(m=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:(0,st.VB)(s,{text:a,font:h,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function JM(t,e,i,n){var o=n.getWidth(),r=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function QM(t,e,i,n,o){t=e.scale.parse(t);var r=e.scale.getLabel({value:t},{precision:o.precision}),a=o.formatter;if(a){var s={value:Ys(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};u.__(n,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e&&e.getDataParams(n);o&&s.seriesData.push(o)})),u.Kg(a)?r=a.replace("{value}",r):u.Tn(a)&&(r=a(s))}return r}function tS(t,e,i){var n=T.vt();return T.e$(n,n,i.rotation),T.Tl(n,n,i.position),Hn.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function eS(t,e,i,n,o,r){var a=Jl.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get(["label","margin"]),KM(e,n,o,r,{position:tS(n.axis,t,i),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function iS(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}}function nS(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}function oS(t,e,i,n,o,r){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:r,clockwise:!0}}var rS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.makeElOption=function(t,e,i,n,o){var r=i.axis,a=r.grid,s=n.get("type"),l=aS(a,r).getOtherAxis(r).getGlobalExtent(),h=r.toGlobalCoord(r.dataToCoord(e,!0));if(s&&"none"!==s){var u=qM(n),c=sS[s](r,h,l);c.style=u,t.graphicKey=c.type,t.pointer=c}var d=Tl(a.model,i);eS(e,t,d,i,n,o)},e.prototype.getHandleTransform=function(t,e,i){var n=Tl(e.axis.grid.model,e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=tS(e.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var o=i.axis,r=o.grid,a=o.getGlobalExtent(!0),s=aS(r,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,h=[t.x,t.y];h[l]+=e[l],h[l]=Math.min(a[1],h[l]),h[l]=Math.max(a[0],h[l]);var u=(s[1]+s[0])/2,c=[u,u];c[l]=h[l];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:c,tooltipOption:d[l]}},e}(ZM);function aS(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var sS={line:function(t,e,i){var n=iS([e,i[0]],[e,i[1]],lS(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,i){var n=Math.max(1,t.getBandWidth()),o=i[1]-i[0];return{type:"Rect",shape:nS([e-n/2,i[0]],[n,o],lS(t))}}};function lS(t){return"x"===t.dim?0:1}var hS=rS,uS=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(l.A),cS=uS,dS=(0,m.$r)(),pS=u.__;function gS(t,e,i){if(!kt.A.node){var n=e.getZr();dS(n).records||(dS(n).records={}),fS(n,e);var o=dS(n).records[t]||(dS(n).records[t]={});o.handler=i}}function fS(t,e){function i(i,n){t.on(i,(function(i){var o=xS(e);pS(dS(t).records,(function(t){t&&n(t,i,o.dispatchAction)})),mS(o.pendings,e)}))}dS(t).initialized||(dS(t).initialized=!0,i("click",u.cF(vS,"click")),i("mousemove",u.cF(vS,"mousemove")),i("globalout",yS))}function mS(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function yS(t,e,i){t.handler("leave",null,i)}function vS(t,e,i,n){e.handler(t,i,n)}function xS(t){var e={showTip:[],hideTip:[]},i=function(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}function _S(t,e){if(!kt.A.node){var i=e.getZr(),n=(dS(i).records||{})[t];n&&(dS(i).records[t]=null)}}var bS=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=e.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";gS("axisPointer",i,(function(t,e,i){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){_S("axisPointer",e)},e.prototype.dispose=function(t,e){_S("axisPointer",e)},e.type="axisPointer",e}(a.A),wS=bS;function MS(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var r=i.getData(),a=m.le(r,t);if(null==a||a<0||u.cy(a))return{point:[]};var s=r.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var h=l.getBaseAxis(),c=l.getOtherAxis(h),d=c.dim,p=h.dim,g="x"===d||"radius"===d?1:0,f=r.mapDimension(p),y=[];y[g]=r.get(f,a),y[1-g]=r.get(r.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(y)||[]}else n=l.dataToPoint(r.getValues(u.Tj(l.dimensions,(function(t){return r.mapDimension(t)})),a))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),n=[v.x+v.width/2,v.y+v.height/2]}return{point:n,el:s}}var SS=(0,m.$r)();function IS(t,e,i){var n=t.currTrigger,o=[t.x,t.y],r=t,a=t.dispatchAction||(0,u.oI)(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){RS(o)&&(o=MS({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=RS(o),h=r.axesInfo,c=s.axesInfo,d="leave"===n||RS(o),p={},g={},f={list:[],map:{}},m={showPointer:(0,u.cF)(TS,g),showTooltip:(0,u.cF)(DS,f)};(0,u.__)(s.coordSysMap,(function(t,e){var i=l||t.containPoint(o);(0,u.__)(s.coordSysAxesInfo[e],(function(t,e){var n=t.axis,r=OS(h,t);if(!d&&i&&(!h||r)){var a=r&&r.value;null!=a||l||(a=n.pointToData(o)),null!=a&&AS(t,a,m,!1,p)}}))}));var y={};return(0,u.__)(c,(function(t,e){var i=t.linkGroup;i&&!g[e]&&(0,u.__)(i.axesInfo,(function(e,n){var o=g[n];if(e!==t&&o){var r=o.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,NS(e),NS(t)))),y[t.key]=r}}))})),(0,u.__)(y,(function(t,e){AS(c[e],t,m,!0,p)})),LS(g,c,p),kS(f,o,t,a),PS(c,a,i),p}}function AS(t,e,i,n,o){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var a=CS(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==o.seriesIndex&&(0,u.X$)(o,s[0]),!n&&t.snap&&r.containData(l)&&null!=l&&(e=l),i.showPointer(t,e,s),i.showTooltip(t,a,l)}else i.showPointer(t,e)}function CS(t,e){var i=e.axis,n=i.dim,o=t,r=[],a=Number.MAX_VALUE,s=-1;return(0,u.__)(e.seriesModels,(function(e,l){var h,c,d=e.getData().mapDimensionsAll(n);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(d,t,i);c=p.dataIndices,h=p.nestestValue}else{if(c=e.getData().indicesOfNearest(d[0],t,"category"===i.type?.5:null),!c.length)return;h=e.getData().get(d[0],c[0])}if(null!=h&&isFinite(h)){var g=t-h,f=Math.abs(g);f<=a&&((f<a||g>=0&&s<0)&&(a=f,s=g,o=h,r.length=0),(0,u.__)(c,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:o}}function TS(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function DS(t,e,i,n){var o=i.payloadBatch,r=e.axis,a=r.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,h=hh(l),u=t.map[h];u||(u=t.map[h]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:r.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function LS(t,e,i){var n=i.axesInfo=[];(0,u.__)(e,(function(e,i){var o=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(o.status="show"),o.value=r.value,o.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})}))}function kS(t,e,i,n){if(!RS(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else n({type:"hideTip"})}function PS(t,e,i){var n=i.getZr(),o="axisPointerLastHighlights",r=SS(n)[o]||{},a=SS(n)[o]={};(0,u.__)(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&t.triggerEmphasis&&(0,u.__)(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var s=[],l=[];(0,u.__)(r,(function(t,e){!a[e]&&l.push(t)})),(0,u.__)(a,(function(t,e){!r[e]&&s.push(t)})),l.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function OS(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function NS(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function RS(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function ES(t){dh.registerAxisPointerClass("CartesianAxisPointer",hS),t.registerComponentModel(cS),t.registerComponentView(wS),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!(0,u.cy)(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Ql(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},IS)}function zS(t){f(Sh),f(ES)}var VS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.makeElOption=function(t,e,i,n,o){var r=i.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var a=r.polar,s=a.getOtherAxis(r),l=s.getExtent(),h=r.dataToCoord(e),u=n.get("type");if(u&&"none"!==u){var c=qM(n),d=FS[u](r,a,h,l);d.style=c,t.graphicKey=d.type,t.pointer=d}var p=n.get(["label","margin"]),g=BS(e,i,n,a,p);KM(t,i,n,o,g)},e}(ZM);function BS(t,e,i,n,o){var r=e.axis,a=r.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,h,u,c=n.getRadiusAxis().getExtent();if("radius"===r.dim){var d=T.vt();T.e$(d,d,s),T.Tl(d,d,[n.cx,n.cy]),l=Hn.applyTransform([a,-o],d);var p=e.getModel("axisLabel").get("rotate")||0,g=Jl.innerTextLayout(s,p*Math.PI/180,-1);h=g.textAlign,u=g.textVerticalAlign}else{var f=c[1];l=n.coordToPoint([f+o,a]);var m=n.cx,y=n.cy;h=Math.abs(l[0]-m)/f<.3?"center":l[0]>m?"left":"right",u=Math.abs(l[1]-y)/f<.3?"middle":l[1]>y?"top":"bottom"}return{position:l,align:h,verticalAlign:u}}var FS={line:function(t,e,i,n){return"angle"===t.dim?{type:"Line",shape:iS(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n){var o=Math.max(1,t.getBandWidth()),r=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:oS(e.cx,e.cy,n[0],n[1],(-i-o/2)*r,(o/2-i)*r)}:{type:"Sector",shape:oS(e.cx,e.cy,i-o/2,i+o/2,0,2*Math.PI)}}},WS=VS,GS=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.findAxisModel=function(t){var e,i=this.ecModel;return i.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(l.A),HS=GS,XS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",m.US).models[0]},e.type="polarAxis",e}(l.A);u.co(XS,Oa);var jS=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="angleAxis",e}(XS),YS=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="radiusAxis",e}(XS),$S=function(t){function e(e,i){return t.call(this,"radius",e,i)||this}return(0,Pi.C6)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(Il);$S.prototype.dataToRadius=Il.prototype.dataToCoord,$S.prototype.radiusToData=Il.prototype.coordToData;var US=$S,ZS=(0,m.$r)(),qS=function(t){function e(e,i){return t.call(this,"angle",e,i||[0,360])||this}return(0,Pi.C6)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),i=t.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var r=n[0],a=t.dataToCoord(r+1)-t.dataToCoord(r),s=Math.abs(a),l=Ht.NO(null==r?"":r+"",e.getFont(),"center","top"),h=Math.max(l.height,7),u=h/s;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=ZS(t.model),p=d.lastAutoInterval,g=d.lastTickCount;return null!=p&&null!=g&&Math.abs(p-c)<=1&&Math.abs(g-o)<=1&&p>c?c=p:(d.lastTickCount=o,d.lastAutoInterval=c),c},e}(Il);qS.prototype.dataToAngle=Il.prototype.dataToCoord,qS.prototype.angleToData=Il.prototype.coordToData;var KS=qS,JS=["radius","angle"],QS=function(){function t(t){this.dimensions=JS,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new US,this._angleAxis=new KS,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),r=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);n.inverse?r=a-360:a=r+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;var l=Math.atan2(-i,e)/Math.PI*180,h=l<r?1:-1;while(l<r||l>a)l+=360*h;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],i=t[1]/180*Math.PI,n=Math.cos(i)*e+this.cx,o=-Math.sin(i)*e+this.cy;return[n,o]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),i=e.getExtent().slice();i[0]>i[1]&&i.reverse();var n=t.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-n[0]*o,endAngle:-n[1]*o,clockwise:t.inverse,contain:function(t,e){var i=t-this.cx,n=e-this.cy,o=i*i+n*n-1e-4,r=this.r,a=this.r0;return o<=r*r&&o>=a*a}}},t.prototype.convertToPixel=function(t,e,i){var n=tI(e);return n===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,e,i){var n=tI(e);return n===this?this.pointToData(i):null},t}();function tI(t){var e=t.seriesModel,i=t.polarModel;return i&&i.coordinateSystem||e&&e.coordinateSystem}var eI=QS;function iI(t,e,i){var n=e.get("center"),o=i.getWidth(),r=i.getHeight();t.cx=(0,_.lo)(n[0],o),t.cy=(0,_.lo)(n[1],r);var a=t.getRadiusAxis(),s=Math.min(o,r)/2,l=e.get("radius");null==l?l=[0,"100%"]:u.cy(l)||(l=[0,l]);var h=[(0,_.lo)(l[0],s),(0,_.lo)(l[1],s)];a.inverse?a.setExtent(h[1],h[0]):a.setExtent(h[0],h[1])}function nI(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===i){var e=t.getData();u.__(Ks(e,"radius"),(function(t){o.scale.unionExtentFromData(e,t)})),u.__(Ks(e,"angle"),(function(t){n.scale.unionExtentFromData(e,t)}))}})),Gs(n.scale,n.model),Gs(o.scale,o.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),a=360/n.scale.count();n.inverse?r[1]+=a:r[1]-=a,n.setExtent(r[0],r[1])}}function oI(t){return"angleAxis"===t.mainType}function rI(t,e){var i;if(t.type=e.get("type"),t.scale=Hs(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),oI(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle"),o=null!==(i=e.get("endAngle"))&&void 0!==i?i:n+(t.inverse?-360:360);t.setExtent(n,o)}e.axis=t,t.model=e}var aI={dimensions:JS,create:function(t,e){var i=[];return t.eachComponent("polar",(function(t,n){var o=new eI(n+"");o.update=nI;var r=o.getRadiusAxis(),a=o.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");rI(r,s),rI(a,l),iI(o,t,e),i.push(o),t.coordinateSystem=o,o.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",m.US).models[0];0,t.coordinateSystem=e.coordinateSystem}})),i}},sI=aI,lI=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function hI(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function uI(t){var e=t.getRadiusAxis();return e.inverse?0:1}function cI(t){var e=t[0],i=t[t.length-1];e&&i&&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4&&t.pop()}var dI=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="PolarAxisPointer",i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),r=i.getTicksCoords(),a=i.getMinorTicksCoords(),s=u.Tj(i.getViewLabels(),(function(t){t=u.o8(t);var e=i.scale,n="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=i.dataToCoord(n),t}));cI(s),cI(r),u.__(lI,(function(e){!t.get([e,"show"])||i.scale.isBlank()&&"axisLine"!==e||pI[e](this.group,t,n,r,a,o,s)}),this)}},e.type="angleAxis",e}(dh),pI={axisLine:function(t,e,i,n,o,r){var a,s=e.getModel(["axisLine","lineStyle"]),l=i.getAngleAxis(),h=Math.PI/180,u=l.getExtent(),c=uI(i),d=c?0:1,p=360===Math.abs(u[1]-u[0])?"Circle":"Arc";a=0===r[d]?new Hn[p]({shape:{cx:i.cx,cy:i.cy,r:r[c],startAngle:-u[0]*h,endAngle:-u[1]*h,clockwise:l.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new Wh.A({shape:{cx:i.cx,cy:i.cy,r:r[c],r0:r[d]},style:s.getLineStyle(),z2:1,silent:!0}),a.style.fill=null,t.add(a)},axisTick:function(t,e,i,n,o,r){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=r[uI(i)],h=u.Tj(n,(function(t){return new Bl.A({shape:hI(i,[l,l+s],t.coord)})}));t.add(Hn.mergePath(h,{style:u.NT(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,i,n,o,r){if(o.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),h=r[uI(i)],c=[],d=0;d<o.length;d++)for(var p=0;p<o[d].length;p++)c.push(new Bl.A({shape:hI(i,[h,h+l],o[d][p].coord)}));t.add(Hn.mergePath(c,{style:u.NT(s.getModel("lineStyle").getLineStyle(),u.NT(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,i,n,o,r,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),h=l.get("margin"),c=e.get("triggerEvent");u.__(a,(function(n,o){var a=l,d=n.tickValue,p=r[uI(i)],g=i.coordToPoint([p+h,n.coord]),f=i.cx,m=i.cy,y=Math.abs(g[0]-f)/p<.3?"center":g[0]>f?"left":"right",v=Math.abs(g[1]-m)/p<.3?"middle":g[1]>m?"top":"bottom";if(s&&s[d]){var _=s[d];u.Gv(_)&&_.textStyle&&(a=new Oi.A(_.textStyle,l,l.ecModel))}var b=new Ne.Ay({silent:Jl.isLabelSilent(e),style:(0,st.VB)(a,{x:g[0],y:g[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:n.formattedLabel,align:y,verticalAlign:v})});if(t.add(b),c){var w=Jl.makeAxisEventDataBase(e);w.targetType="axisLabel",w.value=n.rawLabel,(0,x.z)(b).eventData=w}}),this)},splitLine:function(t,e,i,n,o,r){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<n.length;d++){var p=h++%l.length;c[p]=c[p]||[],c[p].push(new Bl.A({shape:hI(i,r,n[d].coord)}))}for(d=0;d<c.length;d++)t.add(Hn.mergePath(c[d],{style:u.NT({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,i,n,o,r){if(o.length){for(var a=e.getModel("minorSplitLine"),s=a.getModel("lineStyle"),l=[],h=0;h<o.length;h++)for(var u=0;u<o[h].length;u++)l.push(new Bl.A({shape:hI(i,r,o[h][u].coord)}));t.add(Hn.mergePath(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,i,n,o,r){if(n.length){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=Math.PI/180,p=-n[0].coord*d,g=Math.min(r[0],r[1]),f=Math.max(r[0],r[1]),m=e.get("clockwise"),y=1,v=n.length;y<=v;y++){var x=y===v?n[0].coord:n[y].coord,_=h++%l.length;c[_]=c[_]||[],c[_].push(new xo.A({shape:{cx:i.cx,cy:i.cy,r0:g,r:f,startAngle:p,endAngle:-x*d,clockwise:m},silent:!0})),p=-x*d}for(y=0;y<c.length;y++)t.add(Hn.mergePath(c[y],{style:u.NT({fill:l[y%l.length]},s.getAreaStyle()),silent:!0}))}}},gI=dI,fI=["axisLine","axisTickLabel","axisName"],mI=["splitLine","splitArea","minorSplitLine"],yI=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="PolarAxisPointer",i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var i=this._axisGroup,n=this._axisGroup=new Fn.A;this.group.add(n);var o=t.axis,r=o.polar,a=r.getAngleAxis(),s=o.getTicksCoords(),l=o.getMinorTicksCoords(),h=a.getExtent()[0],c=o.getExtent(),d=xI(r,t,h),p=new Jl(t,d);u.__(fI,p.add,p),n.add(p.getGroup()),Hn.groupTransition(i,n,t),u.__(mI,(function(e){t.get([e,"show"])&&!o.scale.isBlank()&&vI[e](this.group,t,r,h,c,s,l)}),this)}},e.type="radiusAxis",e}(dh),vI={splitLine:function(t,e,i,n,o,r){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),h=0,c=i.getAngleAxis(),d=Math.PI/180,p=c.getExtent(),g=360===Math.abs(p[1]-p[0])?"Circle":"Arc";l=l instanceof Array?l:[l];for(var f=[],m=0;m<r.length;m++){var y=h++%l.length;f[y]=f[y]||[],f[y].push(new Hn[g]({shape:{cx:i.cx,cy:i.cy,r:Math.max(r[m].coord,0),startAngle:-p[0]*d,endAngle:-p[1]*d,clockwise:c.inverse}}))}for(m=0;m<f.length;m++)t.add(Hn.mergePath(f[m],{style:u.NT({stroke:l[m%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,i,n,o,r,a){if(a.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),h=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)h.push(new Fh.A({shape:{cx:i.cx,cy:i.cy,r:a[c][d].coord}}));t.add(Hn.mergePath(h,{style:u.NT({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,e,i,n,o,r){if(r.length){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],d=r[0].coord,p=1;p<r.length;p++){var g=h++%l.length;c[g]=c[g]||[],c[g].push(new xo.A({shape:{cx:i.cx,cy:i.cy,r0:d,r:r[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[p].coord}for(p=0;p<c.length;p++)t.add(Hn.mergePath(c[p],{style:u.NT({fill:l[p%l.length]},s.getAreaStyle()),silent:!0}))}}};function xI(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var _I=yI;function bI(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function wI(t,e){return e.dim+t.model.componentIndex}function MI(t,e,i){var n={},o=SI(u.pb(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),a=wI(i,r),s=bI(t),l=o[a][s],h=l.offset,u=l.width,c=i.getOtherAxis(r),d=t.coordinateSystem.cx,p=t.coordinateSystem.cy,g=t.get("barMinHeight")||0,f=t.get("barMinAngle")||0;n[s]=n[s]||[];for(var m=e.mapDimension(c.dim),y=e.mapDimension(r.dim),v=kn(e,m),x="radius"!==r.dim||!t.get("roundCap",!0),_=c.model,b=_.get("startValue"),w=c.dataToCoord(b||0),M=0,S=e.count();M<S;M++){var I=e.get(m,M),A=e.get(y,M),C=I>=0?"p":"n",T=w;v&&(n[s][A]||(n[s][A]={p:w,n:w}),T=n[s][A][C]);var D=void 0,L=void 0,k=void 0,P=void 0;if("radius"===c.dim){var O=c.dataToCoord(I)-w,N=r.dataToCoord(A);Math.abs(O)<g&&(O=(O<0?-1:1)*g),D=T,L=T+O,k=N-h,P=k-u,v&&(n[s][A][C]=L)}else{var R=c.dataToCoord(I,x)-w,E=r.dataToCoord(A);Math.abs(R)<f&&(R=(R<0?-1:1)*f),D=E+h,L=D+u,k=T,P=T+R,v&&(n[s][A][C]=P)}e.setItemLayout(M,{cx:d,cy:p,r0:D,r:L,startAngle:-k*Math.PI/180,endAngle:-P*Math.PI/180,clockwise:k>=P})}}}))}function SI(t){var e={};u.__(t,(function(t,i){var n=t.getData(),o=t.coordinateSystem,r=o.getBaseAxis(),a=wI(o,r),s=r.getExtent(),l="category"===r.type?r.getBandWidth():Math.abs(s[1]-s[0])/n.count(),h=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=h.stacks;e[a]=h;var c=bI(t);u[c]||h.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var d=(0,_.lo)(t.get("barWidth"),l),p=(0,_.lo)(t.get("barMaxWidth"),l),g=t.get("barGap"),f=t.get("barCategoryGap");d&&!u[c].width&&(d=Math.min(h.remainedWidth,d),u[c].width=d,h.remainedWidth-=d),p&&(u[c].maxWidth=p),null!=g&&(h.gap=g),null!=f&&(h.categoryGap=f)}));var i={};return u.__(e,(function(t,e){i[e]={};var n=t.stacks,o=t.bandWidth,r=(0,_.lo)(t.categoryGap,o),a=(0,_.lo)(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-r)/(l+(l-1)*a);h=Math.max(h,0),u.__(n,(function(t,e){var i=t.maxWidth;i&&i<h&&(i=Math.min(i,s),t.width&&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)})),h=(s-r)/(l+(l-1)*a),h=Math.max(h,0);var c,d=0;u.__(n,(function(t,e){t.width||(t.width=h),c=t,d+=t.width*(1+a)})),c&&(d-=c.width*a);var p=-d/2;u.__(n,(function(t,n){i[e][n]=i[e][n]||{offset:p,width:t.width},p+=t.width*(1+a)}))})),i}var II=MI,AI={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},CI={splitNumber:5},TI=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="polar",e}(a.A);function DI(t){f(ES),dh.registerAxisPointerClass("PolarAxisPointer",WS),t.registerCoordinateSystem("polar",sI),t.registerComponentModel(HS),t.registerComponentView(TI),Ya(t,"angle",jS,AI),Ya(t,"radius",YS,CI),t.registerComponentView(gI),t.registerComponentView(_I),t.registerLayout((0,u.cF)(II,"bar"))}function LI(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,o={},r=n.position,a=n.orient,s=i.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],h={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=["vertical"===a?h.vertical[r]:l[0],"horizontal"===a?h.horizontal[r]:l[3]];var c={horizontal:0,vertical:1};o.rotation=Math.PI/2*c[a];var d={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=d[r],t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),u.Je(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var p=e.rotate;return null==p&&(p=t.get(["axisLabel","rotate"])),o.labelRotation="top"===r?-p:p,o.z2=1,o}var kI=["axisLine","axisTickLabel","axisName"],PI=["splitArea","splitLine"],OI=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="SingleAxisPointer",i}return(0,Pi.C6)(e,t),e.prototype.render=function(e,i,n,o){var r=this.group;r.removeAll();var a=this._axisGroup;this._axisGroup=new Fn.A;var s=LI(e),l=new Jl(e,s);u.__(kI,l.add,l),r.add(this._axisGroup),r.add(l.getGroup()),u.__(PI,(function(t){e.get([t,"show"])&&NI[t](this,this.group,this._axisGroup,e)}),this),Hn.groupTransition(a,this._axisGroup,e),t.prototype.render.call(this,e,i,n,o)},e.prototype.remove=function(){fh(this)},e.type="singleAxis",e}(dh),NI={splitLine:function(t,e,i,n){var o=n.axis;if(!o.scale.isBlank()){var r=n.getModel("splitLine"),a=r.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),h=n.coordinateSystem.getRect(),c=o.isHorizontal(),d=[],p=0,g=o.getTicksCoords({tickModel:r}),f=[],m=[],y=0;y<g.length;++y){var v=o.toGlobalCoord(g[y].coord);c?(f[0]=v,f[1]=h.y,m[0]=v,m[1]=h.y+h.height):(f[0]=h.x,f[1]=v,m[0]=h.x+h.width,m[1]=v);var x=new Bl.A({shape:{x1:f[0],y1:f[1],x2:m[0],y2:m[1]},silent:!0});Hn.subPixelOptimizeLine(x.shape,l);var _=p++%s.length;d[_]=d[_]||[],d[_].push(x)}var b=a.getLineStyle(["color"]);for(y=0;y<d.length;++y)e.add(Hn.mergePath(d[y],{style:u.NT({stroke:s[y%s.length]},b),silent:!0}))}},splitArea:function(t,e,i,n){gh(t,i,n,n)}},RI=OI,EI=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(l.A);(0,u.co)(EI,Oa.prototype);var zI=EI,VI=function(t){function e(e,i,n,o,r){var a=t.call(this,e,i,n)||this;return a.type=o||"value",a.position=r||"bottom",a}return(0,Pi.C6)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(Il),BI=VI,FI=["single"],WI=function(){function t(t,e,i){this.type="single",this.dimension="single",this.dimensions=FI,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,i)}return t.prototype._init=function(t,e,i){var n=this.dimension,o=new BI(n,Hs(t),[0,0],t.get("type"),t.get("position")),r="category"===o.type;o.onBand=r&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();(0,u.__)(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),Gs(this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=(0,Kr.dV)({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.inverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return n-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),i=this.getAxis(),n=i.orient;return"horizontal"===n?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n},t.prototype.convertToPixel=function(t,e,i){var n=GI(e);return n===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,e,i){var n=GI(e);return n===this?this.pointToData(i):null},t}();function GI(t){var e=t.seriesModel,i=t.singleAxisModel;return i&&i.coordinateSystem||e&&e.coordinateSystem}var HI=WI;function XI(t,e){var i=[];return t.eachComponent("singleAxis",(function(n,o){var r=new HI(n,t,e);r.name="single_"+o,r.resize(n,e),n.coordinateSystem=r,i.push(r)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",m.US).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),i}var jI={create:XI,dimensions:FI},YI=jI,$I=["x","y"],UI=["width","height"],ZI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.makeElOption=function(t,e,i,n,o){var r=i.axis,a=r.coordinateSystem,s=JI(a,1-KI(r)),l=a.dataToPoint(e)[0],h=n.get("type");if(h&&"none"!==h){var u=qM(n),c=qI[h](r,l,s);c.style=u,t.graphicKey=c.type,t.pointer=c}var d=LI(i);eS(e,t,d,i,n,o)},e.prototype.getHandleTransform=function(t,e,i){var n=LI(e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=tS(e.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var o=i.axis,r=o.coordinateSystem,a=KI(o),s=JI(r,a),l=[t.x,t.y];l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var h=JI(r,1-a),u=(h[1]+h[0])/2,c=[u,u];return c[a]=l[a],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}},e}(ZM),qI={line:function(t,e,i){var n=iS([e,i[0]],[e,i[1]],KI(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,i){var n=t.getBandWidth(),o=i[1]-i[0];return{type:"Rect",shape:nS([e-n/2,i[0]],[n,o],KI(t))}}};function KI(t){return t.isHorizontal()?0:1}function JI(t,e){var i=t.getRect();return[i[$I[e]],i[$I[e]]+i[UI[e]]]}var QI=ZI,tA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="single",e}(a.A);function eA(t){f(ES),dh.registerAxisPointerClass("SingleAxisPointer",QI),t.registerComponentView(tA),t.registerComponentView(RI),t.registerComponentModel(zI),Ya(t,"single",zI,zI.defaultOption),t.registerCoordinateSystem("single",YI)}var iA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(e,i,n){var o=(0,Kr.vs)(e);t.prototype.init.apply(this,arguments),nA(e,o)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),nA(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(l.A);function nA(t,e){var i,n=t.cellSize;i=u.cy(n)?n:t.cellSize=[n,n],1===i.length&&(i[1]=i[0]);var o=u.Tj([0,1],(function(t){return(0,Kr.Qf)(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]}));(0,Kr.YA)(t,e,{type:"box",ignoreSize:o})}var oA=iA,rA=i(6629),aA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,r=o.getRangeInfo(),a=o.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,r,n),this._renderLines(t,r,a,n),this._renderYearText(t,r,a,n),this._renderMonthText(t,s,a,n),this._renderWeekText(t,s,r,a,n)},e.prototype._renderDayRect=function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),r=n.getCellWidth(),a=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,h=new vo.A({shape:{x:l[0],y:l[1],width:r,height:a},cursor:"default",style:o});i.add(h)}},e.prototype._renderLines=function(t,e,i,n){var o=this,r=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=e.start,u=0;h.time<=e.end.time;u++){d(h.formatedDate),0===u&&(h=r.getDateInfo(e.start.y+"-"+e.start.m));var c=h.date;c.setMonth(c.getMonth()+1),h=r.getDateInfo(c)}function d(e){o._firstDayOfMonth.push(r.getDateInfo(e)),o._firstDayPoints.push(r.dataToRect([e],!1).tl);var l=o._getLinePointsOfOneWeek(t,e,i);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),s&&o._drawSplitline(l,a,n)}d(r.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,i),a,n),s&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,i),a,n)},e.prototype._getEdgesPoints=function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},e.prototype._drawSplitline=function(t,e,i){var n=new S.A({z2:20,shape:{points:t},style:e});i.add(n)},e.prototype._getLinePointsOfOneWeek=function(t,e,i){for(var n=t.coordinateSystem,o=n.getDateInfo(e),r=[],a=0;a<7;a++){var s=n.getNextNDay(o.time,a),l=n.dataToRect([s.time],!1);r[2*s.day]=l.tl,r[2*s.day+1]=l["horizontal"===i?"bl":"tr"]}return r},e.prototype._formatterLabel=function(t,e){return(0,u.Kg)(t)&&t?(0,So.io)(t,e):(0,u.Tn)(t)?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,i,n,o){var r=e[0],a=e[1],s=["center","bottom"];"bottom"===n?(a+=o,s=["center","top"]):"left"===n?r-=o:"right"===n?(r+=o,s=["center","top"]):a-=o;var l=0;return"left"!==n&&"right"!==n||(l=Math.PI/2),{rotation:l,x:r,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,i,n){var o=t.getModel("yearLabel");if(o.get("show")){var r=o.get("margin"),a=o.get("position");a||(a="horizontal"!==i?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,h=(s[0][1]+s[1][1])/2,u="horizontal"===i?0:1,c={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],h],right:[s[u][0],h]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var p=o.get("formatter"),g={start:e.start.y,end:e.end.y,nameMap:d},f=this._formatterLabel(p,g),m=new Ne.Ay({z2:30,style:(0,st.VB)(o,{text:f})});m.attr(this._yearTextPositionControl(m,c[a],i,a,r)),n.add(m)}},e.prototype._monthTextPositionControl=function(t,e,i,n,o){var r="left",a="top",s=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(r="center"),"start"===n&&(a="bottom")):(s+=o,e&&(a="middle"),"start"===n&&(r="right")),{x:s,y:l,align:r,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,i,n){var o=t.getModel("monthLabel");if(o.get("show")){var r=o.get("nameMap"),a=o.get("margin"),s=o.get("position"),l=o.get("align"),h=[this._tlpoints,this._blpoints];r&&!(0,u.Kg)(r)||(r&&(e=(0,rA.A4)(r)||e),r=e.get(["time","monthAbbr"])||[]);var c="start"===s?0:1,d="horizontal"===i?0:1;a="start"===s?-a:a;for(var p="center"===l,g=0;g<h[c].length-1;g++){var f=h[c][g].slice(),m=this._firstDayOfMonth[g];if(p){var y=this._firstDayPoints[g];f[d]=(y[d]+h[0][g+1][d])/2}var v=o.get("formatter"),x=r[+m.m-1],_={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:x},b=this._formatterLabel(v,_),w=new Ne.Ay({z2:30,style:(0,u.X$)((0,st.VB)(o,{text:b}),this._monthTextPositionControl(f,p,i,s,a))});n.add(w)}}},e.prototype._weekTextPositionControl=function(t,e,i,n,o){var r="center",a="middle",s=t[0],l=t[1],h="start"===i;return"horizontal"===e?(s=s+n+(h?1:-1)*o[0]/2,r=h?"right":"left"):(l=l+n+(h?1:-1)*o[1]/2,a=h?"bottom":"top"),{x:s,y:l,align:r,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,i,n,o){var r=t.getModel("dayLabel");if(r.get("show")){var a=t.coordinateSystem,s=r.get("position"),l=r.get("nameMap"),h=r.get("margin"),c=a.getFirstDayOfWeek();if(!l||(0,u.Kg)(l)){l&&(e=(0,rA.A4)(l)||e);var d=e.get(["time","dayOfWeekShort"]);l=d||(0,u.Tj)(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}))}var p=a.getNextNDay(i.end.time,7-i.lweek).time,g=[a.getCellWidth(),a.getCellHeight()];h=(0,_.lo)(h,Math.min(g[1],g[0])),"start"===s&&(p=a.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var f=0;f<7;f++){var m=a.getNextNDay(p,f),y=a.dataToRect([m.time],!1).center,v=f;v=Math.abs((f+c)%7);var x=new Ne.Ay({z2:30,style:(0,u.X$)((0,st.VB)(r,{text:l[v]}),this._weekTextPositionControl(y,n,s,h,g))});o.add(x)}}},e.type="calendar",e}(a.A),sA=aA,lA=864e5,hA=function(){function t(e,i,n){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){t=_._U(t);var e=t.getFullYear(),i=t.getMonth()+1,n=i<10?"0"+i:""+i,o=t.getDate(),r=o<10?"0"+o:""+o,a=t.getDay();return a=Math.abs((a+7-this.getFirstDayOfWeek())%7),{y:e+"",m:n,d:r,day:a,time:t.getTime(),formatedDate:e+"-"+n+"-"+r,date:t}},t.prototype.getNextNDay=function(t,e){return e=e||0,0===e||(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e)),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,n=["width","height"],o=this._model.getCellSize().slice(),r=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[i,7]:[7,i];u.__([0,1],(function(t){h(o,t)&&(r[n[t]]=o[t]*a[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Kr.dV(r,s);function h(t,e){return null!=t[e]&&"auto"!==t[e]}u.__([0,1],(function(t){h(o,t)||(o[t]=l[n[t]]/a[t])})),this._sw=o[0],this._sh=o[1]},t.prototype.dataToPoint=function(t,e){u.cy(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<n.end.time+lA))return[NaN,NaN];var r=i.day,a=this._getRangeInfo([n.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},t.prototype.convertToPixel=function(t,e,i){var n=uA(e);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,e,i){var n=uA(e);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(u.cy(e)&&1===e.length&&(e=e[0]),u.cy(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var n=this.getDateInfo(i),o=n.date;o.setMonth(o.getMonth()+1);var r=this.getNextNDay(o,-1);t=[n.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var n=Math.floor(i[1].time/lA)-Math.floor(i[0].time/lA)+1,o=new Date(i[0].time),r=o.getDate(),a=i[1].date.getDate();o.setDate(r+n-1);var s=o.getDate();if(s!==a){var l=o.getTime()-i[1].time>0?1:-1;while((s=o.getDate())!==a&&(o.getTime()-i[1].time)*l>0)n-=l,o.setDate(s-l)}var h=Math.floor((n+i[0].day+6)/7),u=e?1-h:h-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:n,weeks:h,nthWeek:u,fweek:i[0].day,lweek:i[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return null;var o=7*(t-1)-n.fweek+e,r=new Date(n.start.time);return r.setDate(+n.start.d+o),this.getDateInfo(r)},t.create=function(e,i){var n=[];return e.eachComponent("calendar",(function(o){var r=new t(o,e,i);n.push(r),o.coordinateSystem=r})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},t.dimensions=["time","value"],t}();function uA(t){var e=t.calendarModel,i=t.seriesModel,n=e?e.coordinateSystem:i?i.coordinateSystem:null;return n}var cA=hA;function dA(t){t.registerComponentModel(oA),t.registerComponentView(sA),t.registerCoordinateSystem("calendar",cA)}function pA(t,e){var i=t.existing;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}function gA(t,e){var i;return u.__(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(i=!0)})),i}function fA(t,e,i){var n=u.X$({},i),o=t[e],r=i.$action||"merge";"merge"===r?o?(u.h1(o,n,!0),(0,Kr.YA)(o,n,{ignoreSize:!0}),(0,Kr.Ir)(i,o),vA(i,o),vA(i,o,"shape"),vA(i,o,"style"),vA(i,o,"extra"),i.clipPath=o.clipPath):t[e]=n:"replace"===r?t[e]=n:"remove"===r&&o&&(t[e]=null)}var mA=["transition","enterFrom","leaveTo"],yA=mA.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function vA(t,e,i){if(i&&(!t[i]&&e[i]&&(t[i]={}),t=t[i],e=e[i]),t&&e)for(var n=i?mA:yA,o=0;o<n.length;o++){var r=n[o];null==t[r]&&null!=e[r]&&(t[r]=e[r])}}function xA(t,e){if(t&&(t.hv=e.hv=[gA(e,["left","right"]),gA(e,["top","bottom"])],"group"===t.type)){var i=t,n=e;null==i.width&&(i.width=n.width=0),null==i.height&&(i.height=n.height=0)}}var _A=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.preventAutoZ=!0,i}return(0,Pi.C6)(e,t),e.prototype.mergeOption=function(e,i){var n=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,i),this.option.elements=n},e.prototype.optionUpdated=function(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,r=[];this._flatten(n,r,null);var a=m.O2(o,r,"normalMerge"),s=this._elOptionsToUpdate=[];u.__(a,(function(t,e){var i=t.newOption;i&&(s.push(i),pA(t,i),fA(o,e,i),xA(o[e],i))}),this),i.elements=u.pb(o,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,i){u.__(t,(function(t){if(t){i&&(t.parentOption=i),e.push(t);var n=t.children;n&&n.length&&this._flatten(n,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(l.A),bA={path:null,compoundPath:null,group:Fn.A,image:Gt.Ay,text:Ne.Ay},wA=m.$r(),MA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){this._elMap=u.nt()},e.prototype.render=function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var i=this._elMap,n=this.group,o=t.get("z"),r=t.get("zlevel");u.__(e,(function(e){var a=m.vS(e.id,null),s=null!=a?i.get(a):null,l=m.vS(e.parentId,null),h=null!=l?i.get(l):n,u=e.type,c=e.style;"text"===u&&c&&e.hv&&e.hv[1]&&(c.textVerticalAlign=c.textBaseline=c.verticalAlign=c.align=null);var d=e.textContent,p=e.textConfig;if(c&&Mw(c,u,!!p,!!d)){var g=Sw(c,u,!0);!p&&g.textConfig&&(p=e.textConfig=g.textConfig),!d&&g.textContent&&(d=g.textContent)}var f=TA(e);var y=e.$action||"merge",v="merge"===y,x="replace"===y;if(v){var _=!s,b=s;_?b=IA(a,h,e.type,i):(b&&(wA(b).isNew=!1),Jw(b)),b&&(Nw(b,f,t,{isInit:_}),CA(b,e,o,r))}else if(x){AA(s,e,i,t);var w=IA(a,h,e.type,i);w&&(Nw(w,f,t,{isInit:!0}),CA(w,e,o,r))}else"remove"===y&&(Rw(s,e),AA(s,e,i,t));var M=i.get(a);if(M&&d)if(v){var S=M.getTextContent();S?S.attr(d):M.setTextContent(new Ne.Ay(d))}else x&&M.setTextContent(new Ne.Ay(d));if(M){var I=e.clipPath;if(I){var A=I.type,C=void 0;_=!1;if(v){var T=M.getClipPath();_=!T||wA(T).type!==A,C=_?SA(A):T}else x&&(_=!0,C=SA(A));M.setClipPath(C),Nw(C,I,t,{isInit:_}),Qw(C,I.keyframeAnimation,t)}var D=wA(M);M.setTextConfig(p),D.option=e,DA(M,t,e),Hn.setTooltipConfig({el:M,componentModel:t,itemName:M.name,itemTooltipOption:e.tooltip}),Qw(M,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,r=e.getWidth(),a=e.getHeight(),s=["x","y"],l=0;l<i.length;l++){var h=i[l],c=m.vS(h.id,null),d=null!=c?o.get(c):null;if(d&&d.isGroup){var p=d.parent,g=p===n,f=wA(d),y=wA(p);f.width=(0,_.lo)(f.option.width,g?r:y.width)||0,f.height=(0,_.lo)(f.option.height,g?a:y.height)||0}}for(l=i.length-1;l>=0;l--){h=i[l],c=m.vS(h.id,null),d=null!=c?o.get(c):null;if(d){p=d.parent,y=wA(p);var x=p===n?{width:r,height:a}:{width:y.width,height:y.height},b={},w=Kr.m$(d,h,x,null,{hv:h.hv,boundingMode:h.bounding},b);if(!wA(d).isNew&&w){for(var M=h.transition,S={},I=0;I<s.length;I++){var A=s[I],C=b[A];M&&(zw(M)||u.qh(M,A)>=0)?S[A]=C:d[A]=C}(0,v.oi)(d,S,t,0)}else d.attr(b)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(i){AA(i,wA(i).option,e,t._lastGraphicModel)})),this._elMap=u.nt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(a.A);function SA(t){var e=u.$3(bA,t)?bA[t]:Hn.getShapeClass(t);var i=new e({});return wA(i).type=t,i}function IA(t,e,i,n){var o=SA(i);return e.add(o),n.set(t,o),wA(o).id=t,wA(o).isNew=!0,o}function AA(t,e,i,n){var o=t&&t.parent;o&&("group"===t.type&&t.traverse((function(t){AA(t,e,i,n)})),Ew(t,e,n),i.removeKey(wA(t).id))}function CA(t,e,i,n){t.isGroup||u.__([["cursor",Ac.Ay.prototype.cursor],["zlevel",n||0],["z",i||0],["z2",0]],(function(i){var n=i[0];u.$3(e,n)?t[n]=u.bZ(e[n],i[1]):null==t[n]&&(t[n]=i[1])})),u.__(u.HP(e),(function(i){if(0===i.indexOf("on")){var n=e[i];t[i]=u.Tn(n)?n:null}})),u.$3(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}function TA(t){return t=u.X$({},t),u.__(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Kr.Tj),(function(e){delete t[e]})),t}function DA(t,e,i){var n=(0,x.z)(t).eventData;t.silent||t.ignore||n||(n=(0,x.z)(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),n&&(n.info=i.info)}function LA(t){t.registerComponentModel(_A),t.registerComponentView(MA),t.registerPreprocessor((function(t){var e=t.graphic;(0,u.cy)(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))}var kA=["x","y","radius","angle","single"],PA=["cartesian2d","polar","singleAxis"];function OA(t){var e=t.get("coordinateSystem");return(0,u.qh)(PA,e)>=0}function NA(t){return t+"Axis"}function RA(t,e){var i,n=(0,u.nt)(),o=[],r=(0,u.nt)();t.eachComponent({mainType:"dataZoom",query:e},(function(t){r.get(t.uid)||s(t)}));do{i=!1,t.eachComponent("dataZoom",a)}while(i);function a(t){!r.get(t.uid)&&l(t)&&(s(t),i=!0)}function s(t){r.set(t.uid,!0),o.push(t),h(t)}function l(t){var e=!1;return t.eachTargetAxis((function(t,i){var o=n.get(t);o&&o[i]&&(e=!0)})),e}function h(t){t.eachTargetAxis((function(t,e){(n.get(t)||n.set(t,[]))[e]=!0}))}return o}function EA(t){var e=t.ecModel,i={infoList:[],infoMap:(0,u.nt)()};return t.eachTargetAxis((function(t,n){var o=e.getComponent(NA(t),n);if(o){var r=o.getCoordSysModel();if(r){var a=r.uid,s=i.infoMap.get(a);s||(s={model:r,axisModels:[]},i.infoList.push(s),i.infoMap.set(a,s)),s.axisModels.push(o)}}})),i}var zA=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),VA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._autoThrottle=!0,i._noTarget=!0,i._rangePropMode=["percent","percent"],i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e,i){var n=BA(t);this.settledOption=n,this.mergeDefaultAndTheme(t,i),this._doInit(n)},e.prototype.mergeOption=function(t){var e=BA(t);(0,u.h1)(this.option,t,!0),(0,u.h1)(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;(0,u.__)([["start","startValue"],["end","endValue"]],(function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=i[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=(0,u.nt)(),i=this._fillSpecifiedTargetAxis(e);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return(0,u.__)(kA,(function(i){var n=this.getReferringComponents(NA(i),m.UW);if(n.specified){e=!0;var o=new zA;(0,u.__)(n.models,(function(t){o.add(t.componentIndex)})),t.set(i,o)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var i=this.ecModel,n=!0;if(n){var o="vertical"===e?"y":"x",r=i.findComponents({mainType:o+"Axis"});a(r,o)}if(n){r=i.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});a(r,"single")}function a(e,i){var o=e[0];if(o){var r=new zA;if(r.add(o.componentIndex),t.set(i,r),n=!1,"x"===i||"y"===i){var a=o.getReferringComponents("grid",m.US).models[0];a&&(0,u.__)(e,(function(t){o.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",m.US).models[0]&&r.add(t.componentIndex)}))}}}n&&(0,u.__)(kA,(function(e){if(n){var o=i.findComponents({mainType:NA(e),filter:function(t){return"category"===t.get("type",!0)}});if(o[0]){var r=new zA;r.add(o[0].componentIndex),t.set(e,r),n=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,i=this.get("rangeMode");(0,u.__)([["start","startValue"],["end","endValue"]],(function(n,o){var r=null!=t[n[0]],a=null!=t[n[1]];r&&!a?e[o]="percent":!r&&a?e[o]="value":i?e[o]=i[o]:r&&(e[o]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,i){null==t&&(t=this.ecModel.getComponent(NA(e),i))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(i,n){(0,u.__)(i.indexList,(function(i){t.call(e,n,i)}))}))},e.prototype.getAxisProxy=function(t,e){var i=this.getAxisModel(t,e);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[e])return this.ecModel.getComponent(NA(t),e)},e.prototype.setRawRange=function(t){var e=this.option,i=this.settledOption;(0,u.__)([["start","startValue"],["end","endValue"]],(function(n){null==t[n[0]]&&null==t[n[1]]||(e[n[0]]=i[n[0]]=t[n[0]],e[n[1]]=i[n[1]]=t[n[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;(0,u.__)(["start","startValue","end","endValue"],(function(i){e[i]=t[i]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,i=this._targetAxisInfoMap.keys(),n=0;n<i.length;n++)for(var o=i[n],r=this._targetAxisInfoMap.get(o),a=0;a<r.indexList.length;a++){var s=this.getAxisProxy(o,r.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(l.A);function BA(t){var e={};return(0,u.__)(["start","end","startValue","endValue","throttle"],(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})),e}var FA=VA,WA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="dataZoom.select",e}(FA),GA=WA,HA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},e.type="dataZoom",e}(a.A),XA=HA,jA=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="dataZoom.select",e}(XA),YA=jA,$A=u.__,UA=_.Y6,ZA=function(){function t(t,e,i,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=i}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(OA(e)){var i=NA(this._dimName),n=e.getReferringComponents(i,m.US).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return u.o8(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,i=this._dataExtent,n=this.getAxisModel(),o=n.axis.scale,r=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];$A(["start","end"],(function(n,h){var u=t[n],c=t[n+"Value"];"percent"===r[h]?(null==u&&(u=a[h]),c=o.parse(_.Cb(u,a,i))):(e=!0,c=null==c?i[h]:o.parse(c),u=_.Cb(c,i,a)),l[h]=null==c||isNaN(c)?i[h]:c,s[h]=null==u||isNaN(u)?a[h]:u})),UA(l),UA(s);var h=this._minMaxSpan;function u(t,e,i,n,r){var a=r?"Span":"ValueSpan";cy(0,t,i,"all",h["min"+a],h["max"+a]);for(var s=0;s<2;s++)e[s]=_.Cb(t[s],i,n,!0),r&&(e[s]=o.parse(e[s]))}return e?u(l,s,i,a,!1):u(s,l,a,i,!0),{valueWindow:l,percentWindow:s}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=qA(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),r=this._valueWindow;"none"!==o&&$A(n,(function(t){var e=t.getData(),n=e.mapDimensionsAll(i);if(n.length){if("weakFilter"===o){var s=e.getStore(),l=u.Tj(n,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,i,o,a=0;a<n.length;a++){var h=s.get(l[a],t),u=!isNaN(h),c=h<r[0],d=h>r[1];if(u&&!c&&!d)return!0;u&&(o=!0),c&&(e=!0),d&&(i=!0)}return o&&e&&i}))}else $A(n,(function(i){if("empty"===o)t.setData(e=e.map(i,(function(t){return a(t)?t:NaN})));else{var n={};n[i]=r,e.selectRange(n)}}));$A(n,(function(t){e.setApproximateExtent(r,t)}))}}))}function a(t){return t>=r[0]&&t<=r[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;$A(["min","max"],(function(n){var o=e.get(n+"Span"),r=e.get(n+"ValueSpan");null!=r&&(r=this.getAxisModel().axis.scale.parse(r)),null!=r?o=_.Cb(i[0]+r,i,[0,100],!0):null!=o&&(r=_.Cb(o,[0,100],i,!0)-i[0]),t[n+"Span"]=o,t[n+"ValueSpan"]=r}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var n=_.hb(i,[0,500]);n=Math.min(n,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(n)),100!==e[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(n)),o.freeze()}},t}();function qA(t,e,i){var n=[1/0,-1/0];$A(i,(function(t){Js(n,t.getData(),e)}));var o=t.getAxisModel(),r=Vs(o.axis.scale,o,n).calculate();return[r.min,r.max]}var KA=ZA,JA={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(i){i.eachTargetAxis((function(n,o){var r=t.getComponent(NA(n),o);e(n,o,r,i)}))}))}e((function(t,e,i,n){i.__dzAxisProxy=null}));var i=[];e((function(e,n,o,r){o.__dzAxisProxy||(o.__dzAxisProxy=new KA(e,n,r,t),i.push(o.__dzAxisProxy))}));var n=(0,u.nt)();return(0,u.__)(i,(function(t){(0,u.__)(t.getTargetSeriesModels(),(function(t){n.set(t.uid,t)}))})),n},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,i){t.getAxisProxy(e,i).reset(t)})),t.eachTargetAxis((function(i,n){t.getAxisProxy(i,n).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})}}))}},QA=JA;function tC(t){t.registerAction("dataZoom",(function(t,e){var i=RA(e,t);(0,u.__)(i,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var eC=!1;function iC(t){eC||(eC=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,QA),tC(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function nC(t){t.registerComponentModel(GA),t.registerComponentView(YA),iC(t)}var oC=function(){function t(){}return t}(),rC={};function aC(t,e){rC[t]=e}function sC(t){return rC[t]}var lC=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;u.__(this.option.feature,(function(t,i){var n=sC(i);n&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(e)),u.h1(t,n.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(l.A),hC=lC;function uC(t,e,i){var n=e.getBoxLayoutParams(),o=e.get("padding"),r={width:i.getWidth(),height:i.getHeight()},a=(0,Kr.dV)(n,r,o);(0,Kr.aP)(e.get("orient"),t,e.get("itemGap"),a.width,a.height),(0,Kr.m$)(t,n,r,o)}function cC(t,e){var i=So.QX(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new vo.A({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),t}var dC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){var o=this.group;if(o.removeAll(),t.get("show")){var r=+t.get("itemSize"),a="vertical"===t.get("orient"),s=t.get("feature")||{},l=this._features||(this._features={}),h=[];u.__(s,(function(t,e){h.push(e)})),new zi(this._featureNames||[],h).add(c).update(c).remove(u.cF(c,null)).execute(),this._featureNames=h,uC(o,t,i),o.add(cC(o.getBoundingRect(),t)),a||o.eachChild((function(t){var e=t.__title,n=t.ensureState("emphasis"),a=n.textConfig||(n.textConfig={}),s=t.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!u.Tn(l)&&e){var h=l.style||(l.style={}),c=Ht.NO(e,Ne.Ay.makeFont(h)),d=t.x+o.x,p=t.y+o.y+r,g=!1;p+c.height>i.getHeight()&&(a.position="top",g=!0);var f=g?-5-c.height:r+10;d+c.width/2>i.getWidth()?(a.position=["100%",f],h.align="right"):d-c.width/2<0&&(a.position=[0,f],h.align="left")}}))}function c(o,r){var a,u=h[o],c=h[r],p=s[u],g=new Oi.A(p,t,t.ecModel);if(n&&null!=n.newTitle&&n.featureName===u&&(p.title=n.newTitle),u&&!c){if(pC(u))a={onclick:g.option.onclick,featureName:u};else{var f=sC(u);if(!f)return;a=new f}l[u]=a}else if(a=l[c],!a)return;a.uid=(0,dr.$Q)("toolbox-feature"),a.model=g,a.ecModel=e,a.api=i;var m=a instanceof oC;u||!c?!g.get("show")||m&&a.unusable?m&&a.remove&&a.remove(e,i):(d(g,a,u),g.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&("emphasis"===e?L.HY:L.SD)(n[t])},a instanceof oC&&a.render&&a.render(g,e,i,n)):m&&a.dispose&&a.dispose(e,i)}function d(n,s,l){var h,c,d=n.getModel("iconStyle"),p=n.getModel(["emphasis","iconStyle"]),g=s instanceof oC&&s.getIcons?s.getIcons():n.get("icon"),f=n.get("title")||{};u.Kg(g)?(h={},h[l]=g):h=g,u.Kg(f)?(c={},c[l]=f):c=f;var m=n.iconPaths={};u.__(h,(function(l,h){var g=Hn.createIcon(l,{},{x:-r/2,y:-r/2,width:r,height:r});g.setStyle(d.getItemStyle());var f=g.ensureState("emphasis");f.style=p.getItemStyle();var y=new Ne.Ay({style:{text:c[h],align:p.get("textAlign"),borderRadius:p.get("textBorderRadius"),padding:p.get("textPadding"),fill:null,font:(0,st.c8)({fontStyle:p.get("textFontStyle"),fontFamily:p.get("textFontFamily"),fontSize:p.get("textFontSize"),fontWeight:p.get("textFontWeight")},e)},ignore:!0});g.setTextContent(y),Hn.setTooltipConfig({el:g,componentModel:t,itemName:h,formatterParamsExtra:{title:c[h]}}),g.__title=c[h],g.on("mouseover",(function(){var e=p.getItemStyle(),n=a?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";y.setStyle({fill:p.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:p.get("textBackgroundColor")}),g.setTextConfig({position:p.get("textPosition")||n}),y.ignore=!t.get("showTitle"),i.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==n.get(["iconStatus",h])&&i.leaveEmphasis(this),y.hide()})),("emphasis"===n.get(["iconStatus",h])?L.HY:L.SD)(g),o.add(g),g.on("click",u.oI(s.onclick,s,e,i,h)),m[h]=g}))}},e.prototype.updateView=function(t,e,i,n){u.__(this._features,(function(t){t instanceof oC&&t.updateView&&t.updateView(t.model,e,i,n)}))},e.prototype.remove=function(t,e){u.__(this._features,(function(i){i instanceof oC&&i.remove&&i.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){u.__(this._features,(function(i){i instanceof oC&&i.dispose&&i.dispose(t,e)}))},e.type="toolbox",e}(a.A);function pC(t){return 0===t.indexOf("my")}var gC=dC,fC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",o="svg"===e.getZr().painter.getType(),r=o?"svg":i.get("type",!0)||"png",a=e.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),s=kt.A.browser;if("function"!==typeof MouseEvent||!s.newEdge&&(s.ie||s.edge))if(window.navigator.msSaveOrOpenBlob||o){var l=a.split(","),h=l[0].indexOf("base64")>-1,u=o?decodeURIComponent(l[1]):l[1];h&&(u=window.atob(u));var c=n+"."+r;if(window.navigator.msSaveOrOpenBlob){var d=u.length,p=new Uint8Array(d);while(d--)p[d]=u.charCodeAt(d);var g=new Blob([p]);window.navigator.msSaveOrOpenBlob(g,c)}else{var f=document.createElement("iframe");document.body.appendChild(f);var m=f.contentWindow,y=m.document;y.open("image/svg+xml","replace"),y.write(u),y.close(),m.focus(),y.execCommand("SaveAs",!0,c),document.body.removeChild(f)}}else{var v=i.get("lang"),x='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>',_=window.open();_.document.write(x),_.document.title=n}else{var b=document.createElement("a");b.download=n+"."+r,b.target="_blank",b.href=a;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(w)}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e},e}(oC),mC=fC,yC="__ec_magicType_stack__",vC=[["line","bar"],["stack"]],xC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return u.__(t.get("type"),(function(t){e[t]&&(i[t]=e[t])})),i},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,i){var n=this.model,o=n.get(["seriesIndex",i]);if(_C[i]){var r,a={series:[]},s=function(t){var e=t.subType,o=t.id,r=_C[i](e,o,t,n);r&&(u.NT(r,t.option),a.series.push(r));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===i||"bar"===i)){var l=s.getAxesByScale("ordinal")[0];if(l){var h=l.dim,c=h+"Axis",d=t.getReferringComponents(c,m.US).models[0],p=d.componentIndex;a[c]=a[c]||[];for(var g=0;g<=p;g++)a[c][p]=a[c][p]||{};a[c][p].boundaryGap="bar"===i}}};u.__(vC,(function(t){u.qh(t,i)>=0&&u.__(t,(function(t){n.setIconStatus(t,"normal")}))})),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},s);var l=i;"stack"===i&&(r=u.h1({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title),"emphasis"!==n.get(["iconStatus",i])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:a,newTitle:r,featureName:"magicType"})}},e}(oC),_C={line:function(t,e,i,n){if("bar"===t)return u.h1({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,i,n){if("line"===t)return u.h1({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,i,n){var o=i.get("stack")===yC;if("line"===t||"bar"===t)return n.setIconStatus("stack",o?"normal":"emphasis"),u.h1({id:e,stack:o?"":yC},n.get(["option","stack"])||{},!0)}};r.OH({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var bC=xC,wC=new Array(60).join("-"),MC="\t";function SC(t){var e={},i=[],n=[];return t.eachRawSeries((function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(t);else{var r=o.getBaseAxis();if("category"===r.type){var a=r.dim+"_"+r.index;e[a]||(e[a]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},n.push({axisDim:r.dim,axisIndex:r.index})),e[a].series.push(t)}else i.push(t)}})),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function IC(t){var e=[];return u.__(t,(function(t,i){var n=t.categoryAxis,o=t.valueAxis,r=o.dim,a=[" "].concat(u.Tj(t.series,(function(t){return t.name}))),s=[n.model.getCategories()];u.__(t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(r),(function(t){return t})))}));for(var l=[a.join(MC)],h=0;h<s[0].length;h++){for(var c=[],d=0;d<s.length;d++)c.push(s[d][h]);l.push(c.join(MC))}e.push(l.join("\n"))})),e.join("\n\n"+wC+"\n\n")}function AC(t){return u.Tj(t,(function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,o=arguments[t-1],r=e.getName(o),a=0;a<t-1;a++)n[a]=arguments[a];i.push((r?r+MC:"")+n.join(MC))})),i.join("\n")})).join("\n\n"+wC+"\n\n")}function CC(t){var e=SC(t);return{value:u.pb([IC(e.seriesGroupByCategoryAxis),AC(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+wC+"\n\n"),meta:e.meta}}function TC(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function DC(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(MC)>=0)return!0}var LC=new RegExp("["+MC+"]+","g");function kC(t){for(var e=t.split(/\n+/g),i=TC(e.shift()).split(LC),n=[],o=u.Tj(i,(function(t){return{name:t,data:[]}})),r=0;r<e.length;r++){var a=TC(e[r]).split(LC);n.push(a.shift());for(var s=0;s<a.length;s++)o[s]&&(o[s].data[r]=a[s])}return{series:o,categories:n}}function PC(t){for(var e=t.split(/\n+/g),i=TC(e.shift()),n=[],o=0;o<e.length;o++){var r=TC(e[o]);if(r){var a=r.split(LC),s="",l=void 0,h=!1;isNaN(a[0])?(h=!0,s=a[0],a=a.slice(1),n[o]={name:s,value:[]},l=n[o].value):l=n[o]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(h?n[o].value=l[0]:n[o]=l[0])}}return{name:i,data:n}}function OC(t,e){var i=t.split(new RegExp("\n*"+wC+"\n*","g")),n={series:[]};return u.__(i,(function(t,i){if(DC(t)){var o=kC(t),r=e[i],a=r.axisDim+"Axis";r&&(n[a]=n[a]||[],n[a][r.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{o=PC(t);n.series.push(o)}})),n}var NC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var i=e.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=n.get("backgroundColor")||"#fff";var r=document.createElement("h4"),a=n.get("lang")||[];r.innerHTML=a[0]||n.get("title"),r.style.cssText="margin:10px 20px",r.style.color=n.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var h=n.get("optionToContent"),c=n.get("contentToOption"),d=CC(t);if(u.Tn(h)){var p=h(e.getOption());u.Kg(p)?s.innerHTML=p:u.n_(p)&&s.appendChild(p)}else{l.readOnly=n.get("readOnly");var g=l.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=n.get("textColor"),g.borderColor=n.get("textareaBorderColor"),g.backgroundColor=n.get("textareaColor"),l.value=d.value,s.appendChild(l)}var f=d.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),x=document.createElement("div");y+=";background-color:"+n.get("buttonColor"),y+=";color:"+n.get("buttonTextColor");var _=this;function b(){i.removeChild(o),_._dom=null}(0,Kh.q2)(v,"click",b),(0,Kh.q2)(x,"click",(function(){if(null==c&&null!=h||null!=c&&null==h)b();else{var t;try{t=u.Tn(c)?c(s,e.getOption()):OC(l.value,f)}catch(i){throw b(),new Error("Data view format error "+i)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),b()}})),v.innerHTML=a[1],x.innerHTML=a[2],x.style.cssText=v.style.cssText=y,!n.get("readOnly")&&m.appendChild(x),m.appendChild(v),o.appendChild(r),o.appendChild(s),o.appendChild(m),s.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(oC);function RC(t,e){return u.Tj(t,(function(t,i){var n=e&&e[i];if(u.Gv(n)&&!u.cy(n)){var o=u.Gv(t)&&!u.cy(t);o||(t={value:t});var r=null!=n.name&&null==t.name;return t=u.NT(t,n),r&&delete t.name,t}return t}))}r.OH({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var i=[];u.__(t.newOption.series,(function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get("data");i.push({name:t.name,data:RC(t.data,o)})}else i.push(u.X$({type:"scatter"},t))})),e.mergeOption(u.NT({series:i},t.newOption))}));var EC=NC,zC=u.__,VC=(0,m.$r)();function BC(t,e){var i=HC(t);zC(e,(function(e,n){for(var o=i.length-1;o>=0;o--){var r=i[o];if(r[n])break}if(o<0){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(a){var s=a.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}})),i.push(e)}function FC(t){var e=HC(t),i=e[e.length-1];e.length>1&&e.pop();var n={};return zC(i,(function(t,i){for(var o=e.length-1;o>=0;o--)if(t=e[o][i],t){n[i]=t;break}})),n}function WC(t){VC(t).snapshots=null}function GC(t){return HC(t).length}function HC(t){var e=VC(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var XC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.onclick=function(t,e){WC(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e},e}(oC);r.OH({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var jC=XC,YC=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],$C=function(){function t(t,e,i){var n=this;this._targetInfoList=[];var o=ZC(e,t);(0,u.__)(qC,(function(t,e){(!i||!i.include||(0,u.qh)(i.include,e)>=0)&&t(o,n._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=QC[t.brushType](0,i,e);t.__rangeOffset={offset:eT[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,i){(0,u.__)(t,(function(t){var n=this.findTargetInfo(t,e);n&&!0!==n&&(0,u.__)(n.coordSyses,(function(n){var o=QC[t.brushType](1,n,t.range,!0);i(t,o.values,n,e)}))}),this)},t.prototype.setInputRanges=function(t,e){(0,u.__)(t,(function(t){var i=this.findTargetInfo(t,e);if(t.range=t.range||[],i&&!0!==i){t.panelId=i.panelId;var n=QC[t.brushType](0,i.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?eT[t.brushType](n.values,o.offset,nT(n.xyMinMax,o.xyMinMax)):n.values}}),this)},t.prototype.makePanelOpts=function(t,e){return(0,u.Tj)(this._targetInfoList,(function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:Cv(n),isTargetByCursor:Dv(n,t,i.coordSysModel),getLinearBrushOtherExtent:Tv(n)}}))},t.prototype.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&(0,u.qh)(n.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=ZC(e,t),o=0;o<i.length;o++){var r=i[o],a=t.panelId;if(a){if(r.panelId===a)return r}else for(var s=0;s<KC.length;s++)if(KC[s](n,r))return r}return!0},t}();function UC(t){return t[0]>t[1]&&t.reverse(),t}function ZC(t,e){return(0,m._e)(t,e,{includeMainTypes:YC})}var qC={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,o=t.gridModels,r=(0,u.nt)(),a={},s={};(i||n||o)&&((0,u.__)(i,(function(t){var e=t.axis.grid.model;r.set(e.id,e),a[e.id]=!0})),(0,u.__)(n,(function(t){var e=t.axis.grid.model;r.set(e.id,e),s[e.id]=!0})),(0,u.__)(o,(function(t){r.set(t.id,t),a[t.id]=!0,s[t.id]=!0})),r.each((function(t){var o=t.coordinateSystem,r=[];(0,u.__)(o.getCartesians(),(function(t,e){((0,u.qh)(i,t.getAxis("x").model)>=0||(0,u.qh)(n,t.getAxis("y").model)>=0)&&r.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:r[0],coordSyses:r,getPanelRect:JC.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){(0,u.__)(t.geoModels,(function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:JC.geo})}))}},KC=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],JC={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Hn.getTransform(t)),e}},QC={lineX:(0,u.cF)(tT,0),lineY:(0,u.cF)(tT,1),rect:function(t,e,i,n){var o=t?e.pointToData([i[0][0],i[1][0]],n):e.dataToPoint([i[0][0],i[1][0]],n),r=t?e.pointToData([i[0][1],i[1][1]],n):e.dataToPoint([i[0][1],i[1][1]],n),a=[UC([o[0],r[0]]),UC([o[1],r[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,i,n){var o=[[1/0,-1/0],[1/0,-1/0]],r=(0,u.Tj)(i,(function(i){var r=t?e.pointToData(i,n):e.dataToPoint(i,n);return o[0][0]=Math.min(o[0][0],r[0]),o[1][0]=Math.min(o[1][0],r[1]),o[0][1]=Math.max(o[0][1],r[0]),o[1][1]=Math.max(o[1][1],r[1]),r}));return{values:r,xyMinMax:o}}};function tT(t,e,i,n){var o=i.getAxis(["x","y"][t]),r=UC((0,u.Tj)([0,1],(function(t){return e?o.coordToData(o.toLocalCoord(n[t]),!0):o.toGlobalCoord(o.dataToCoord(n[t]))}))),a=[];return a[t]=r,a[1-t]=[NaN,NaN],{values:r,xyMinMax:a}}var eT={lineX:(0,u.cF)(iT,0),lineY:(0,u.cF)(iT,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return(0,u.Tj)(t,(function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]}))}};function iT(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function nT(t,e){var i=oT(t),n=oT(e),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function oT(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var rT=$C,aT=i(7442),sT=u.__,lT=(0,m.S_)("toolbox-dataZoom_"),hT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i,n){this._brushController||(this._brushController=new Av(i.getZr()),this._brushController.on("brush",u.oI(this._onBrush,this)).mount()),pT(t,e,this,n,i),dT(t,e)},e.prototype.onclick=function(t,e,i){uT[i].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var i={},n=this.ecModel;this._brushController.updateCovers([]);var o=new rT(cT(this.model),n,{include:["grid"]});o.matchOutputRanges(e,n,(function(t,e,i){if("cartesian2d"===i.type){var n=t.brushType;"rect"===n?(r("x",i,e[0]),r("y",i,e[1])):r({lineX:"x",lineY:"y"}[n],i,e)}})),BC(n,i),this._dispatchZoomAction(i)}function r(t,e,o){var r=e.getAxis(t),s=r.model,l=a(t,s,n),h=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(o=cy(0,o.slice(),r.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),l&&(i[l.id]={dataZoomId:l.id,startValue:o[0],endValue:o[1]})}function a(t,e,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},(function(i){var o=i.getAxisModel(t,e.componentIndex);o&&(n=i)})),n}},e.prototype._dispatchZoomAction=function(t){var e=[];sT(t,(function(t,i){e.push(u.o8(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(oC),uT={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(FC(this.ecModel))}};function cT(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function dT(t,e){t.setIconStatus("back",GC(e)>1?"emphasis":"normal")}function pT(t,e,i,n,o){var r=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var a=new rT(cT(t),e,{include:["grid"]}),s=a.makePanelOpts(o,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));i._brushController.setPanels(s).enableBrush(!(!r||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(0,aT.S)("dataZoom",(function(t){var e=t.getComponent("toolbox",0),i=["feature","dataZoom"];if(e&&null!=e.get(i)){var n=e.getModel(i),o=[],r=cT(n),a=(0,m._e)(t,r);return sT(a.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),sT(a.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),o}function s(t,e,i){var r=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:lT+e+r};a[i]=r,o.push(a)}}));var gT=hT;function fT(t){t.registerComponentModel(hC),t.registerComponentView(gC),aC("saveAsImage",mC),aC("magicType",bC),aC("dataView",EC),aC("dataZoom",gT),aC("restore",jC),f(nC)}var mT=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(l.A),yT=mT;function vT(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function xT(t){if(kt.A.domSupported)for(var e=document.documentElement.style,i=0,n=t.length;i<n;i++)if(t[i]in e)return t[i]}var _T=xT(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bT=xT(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function wT(t,e){if(!t)return e;e=(0,So.Cb)(e,!0);var i=t.indexOf(e);return t=-1===i?e:"-"+t.slice(0,i)+"-"+e,t.toLowerCase()}function MT(t,e){var i=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return i?e?i[e]:i:null}var ST=wT(bT,"transition"),IT=wT(_T,"transform"),AT="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(kt.A.transform3dSupported?"will-change:transform;":"");function CT(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function TT(t,e,i){if(!(0,u.Kg)(i)||"inside"===i)return"";var n=t.get("backgroundColor"),o=t.get("borderWidth");e=(0,So.he)(e);var r,a=CT(i),s=Math.max(1.5*Math.round(o),6),l="",h=IT+":";(0,u.qh)(["left","right"],a)>-1?(l+="top:50%",h+="translateY(-50%) rotate("+(r="left"===a?-225:-45)+"deg)"):(l+="left:50%",h+="translateX(-50%) rotate("+(r="top"===a?225:45)+"deg)");var c=r*Math.PI/180,d=s+o,p=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),g=Math.round(100*((p-Math.SQRT2*o)/2+Math.SQRT2*o-(p-d)/2))/100;l+=";"+a+":-"+g+"px";var f=e+" solid "+o+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",l+";"+h+";","border-bottom:"+f,"border-right:"+f,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function DT(t,e){var i="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+i,o="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+i,o+=kt.A.transformSupported?","+IT+n:",left"+n+",top"+n),ST+":"+o}function LT(t,e,i){var n=t.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!kt.A.transformSupported)return i?"top:"+o+";left:"+n+";":[["top",o],["left",n]];var r=kt.A.transform3dSupported,a="translate"+(r?"3d":"")+"("+n+","+o+(r?",0":"")+")";return i?"top:0;left:0;"+IT+":"+a+";":[["top",0],["left",0],[_T,a]]}function kT(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px");var o=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return o&&r&&e.push("text-shadow:"+a+"px "+s+"px "+r+"px "+o),(0,u.__)(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}function PT(t,e,i){var n=[],o=t.get("transitionDuration"),r=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),h=t.get("shadowOffsetY"),c=t.getModel("textStyle"),d=(0,Oh.CO)(t,"html"),p=l+"px "+h+"px "+a+"px "+s;return n.push("box-shadow:"+p),e&&o&&n.push(DT(o,i)),r&&n.push("background-color:"+r),(0,u.__)(["width","color","radius"],(function(e){var i="border-"+e,o=(0,So.Cb)(i),r=t.get(o);null!=r&&n.push(i+":"+r+("color"===e?"":"px"))})),n.push(kT(c)),null!=d&&n.push("padding:"+(0,So.QX)(d).join("px ")+"px"),n.join(";")+";"}function OT(t,e,i,n,o){var r=e&&e.painter;if(i){var a=r&&r.getViewportRoot();a&&(0,ae.lJ)(t,a,i,n,o)}else{t[0]=n,t[1]=o;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var NT=function(){function t(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,kt.A.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=t.getZr(),o=e.appendTo,r=o&&((0,u.Kg)(o)?document.querySelector(o):(0,u.n_)(o)?o:(0,u.Tn)(o)&&o(t.getDom()));OT(this._styleCoord,n,r,t.getWidth()/2,t.getHeight()/2),(r||t.getDom()).appendChild(i),this._api=t,this._container=r;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=n.handler,i=n.painter.getViewportRoot();(0,Kh.e0)(i,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),i=MT(e,"position"),n=e.style;"absolute"!==n.position&&"absolute"!==i&&(n.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,o=this._styleCoord;i.innerHTML?n.cssText=AT+PT(t,!this._firstShow,this._longHide)+LT(o[0],o[1],!0)+"border-color:"+(0,So.he)(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,n,o){var r=this.el;if(null!=t){var a="";if((0,u.Kg)(o)&&"item"===i.get("trigger")&&!vT(i)&&(a=TT(i,n,o)),(0,u.Kg)(t))r.innerHTML=t+a;else if(t){r.innerHTML="",(0,u.cy)(t)||(t=[t]);for(var s=0;s<t.length;s++)(0,u.n_)(t[s])&&t[s].parentNode!==r&&r.appendChild(t[s]);if(a&&r.childNodes.length){var l=document.createElement("div");l.innerHTML=a,r.appendChild(l)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var i=this._styleCoord;if(OT(i,this._zr,this._container,t,e),null!=i[0]&&null!=i[1]){var n=this.el.style,o=LT(i[0],i[1]);(0,u.__)(o,(function(t){n[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",kt.A.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout((0,u.oI)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},t}(),RT=NT,ET=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),BT(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,i,n,o){var r=this;u.Gv(t)&&(0,zx.$8)(""),this.el&&this._zr.remove(this.el);var a=i.getModel("textStyle");this.el=new Ne.Ay({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:a.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:(0,Oh.CO)(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),u.__(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){r.el.style[t]=i.get(t)})),u.__(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){r.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=VT(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var n=this._styleCoord;BT(n,this._zr,t,e),t=n[0],e=n[1];var o=i.style,r=zT(o.borderWidth||0),a=VT(o);i.x=t+r+a.left,i.y=e+r+a.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(u.oI(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function zT(t){return Math.max(0,t)}function VT(t){var e=zT(t.shadowBlur||0),i=zT(t.shadowOffsetX||0),n=zT(t.shadowOffsetY||0);return{left:zT(e-i),right:zT(e+i),top:zT(e-n),bottom:zT(e+n)}}function BT(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var FT=ET,WT=i(9427),GT=new vo.A({shape:{x:-1,y:-1,width:2,height:2}}),HT=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){if(!kt.A.node&&e.getDom()){var i=t.getComponent("tooltip"),n=this._renderMode=(0,m.XJ)(i.get("renderMode"));this._tooltipContent="richText"===n?new FT(e):new RT(e,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,e,i){if(!kt.A.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?(0,fr.N)(this,"_updatePosition",50,"fixRate"):(0,fr.IU)(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");gS("itemTooltip",this._api,(0,u.oI)((function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api,n=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==n&&"click"!==n){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&o.manuallyShowTip(t,e,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,n){if(n.from!==this.uid&&!kt.A.node&&i.getDom()){var o=jT(n,i);this._ticket="";var r=n.dataByCoordSys,a=qT(n,e,i);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&null!=n.x&&null!=n.y){var l=GT;l.x=n.x,l.y=n.y,l.update(),(0,x.z)(l).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:l},o)}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:r,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var h=MS(n,e),u=h.point[0],c=h.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,target:h.el,position:n.position,positionDefault:"bottom"},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,i,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(jT(n,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,n){var o=n.seriesIndex,r=n.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=a){var s=e.getSeriesByIndex(o);if(s){var l=s.getData(),h=XT([l.getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel);if("axis"===h.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:n.position}),!0}}},e.prototype._tryShow=function(t,e){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var r,a,s=(0,x.z)(i);if("legend"===s.ssrType)return;this._lastDataByCoordSys=null,(0,pd.R)(i,(function(t){return null!=(0,x.z)(t).dataIndex?(r=t,!0):null!=(0,x.z)(t).tooltipConfig?(a=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):a?this._showComponentItemTooltip(t,a,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=(0,u.oI)(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var i=this._ecModel,n=this._tooltipModel,o=[e.offsetX,e.offsetY],r=XT([e.tooltipOption],n),a=this._renderMode,s=[],l=(0,Oh.Qx)("section",{blocks:[],noHeader:!0}),h=[],c=new Oh.lb;(0,u.__)(t,(function(t){(0,u.__)(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),o=t.value;if(e&&null!=o){var r=QM(o,e.axis,i,t.seriesDataIndices,t.valueLabelOpt),d=(0,Oh.Qx)("section",{header:r,noHeader:!(0,u.Bq)(r),sortBlocks:!0,blocks:[]});l.blocks.push(d),(0,u.__)(t.seriesDataIndices,(function(l){var p=i.getSeriesByIndex(l.seriesIndex),g=l.dataIndexInside,f=p.getDataParams(g);if(!(f.dataIndex<0)){f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=Ys(e.axis,{value:o}),f.axisValueLabel=r,f.marker=c.makeTooltipMarker("item",(0,So.he)(f.color),a);var m=(0,WT.L)(p.formatTooltip(g,!0,null)),y=m.frag;if(y){var v=XT([p],n).get("valueFormatter");d.blocks.push(v?(0,u.X$)({valueFormatter:v},y):y)}m.text&&h.push(m.text),s.push(f)}}))}}))})),l.blocks.reverse(),h.reverse();var d=e.position,p=r.get("order"),g=(0,Oh.Yu)(l,c,a,p,i.get("useUTC"),r.get("textStyle"));g&&h.unshift(g);var f="richText"===a?"\n\n":"<br/>",m=h.join(f);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(r,d,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(r,m,s,Math.random()+"",o[0],o[1],d,null,c)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var n=this._ecModel,o=(0,x.z)(e),r=o.seriesIndex,a=n.getSeriesByIndex(r),s=o.dataModel||a,l=o.dataIndex,h=o.dataType,c=s.getData(h),d=this._renderMode,p=t.positionDefault,g=XT([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),f=g.get("trigger");if(null==f||"item"===f){var m=s.getDataParams(l,h),y=new Oh.lb;m.marker=y.makeTooltipMarker("item",(0,So.he)(m.color),d);var v=(0,WT.L)(s.formatTooltip(l,!1,h)),_=g.get("order"),b=g.get("valueFormatter"),w=v.frag,M=w?(0,Oh.Yu)(b?(0,u.X$)({valueFormatter:b},w):w,y,d,_,n.get("useUTC"),g.get("textStyle")):v.text,S="item_"+s.name+"_"+l;this._showOrMove(g,(function(){this._showTooltipContent(g,M,m,S,t.offsetX,t.offsetY,t.position,t.target,y)})),i({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var n="html"===this._renderMode,o=(0,x.z)(e),r=o.tooltipConfig,a=r.option||{},s=a.encodeHTMLContent;if((0,u.Kg)(a)){var l=a;a={content:l,formatter:l},s=!0}s&&n&&a.content&&(a=(0,u.o8)(a),a.content=(0,ae.Me)(a.content));var h=[a],c=this._ecModel.getComponent(o.componentMainType,o.componentIndex);c&&h.push(c),h.push({formatter:a.content});var d=t.positionDefault,p=XT(h,this._tooltipModel,d?{position:d}:null),g=p.get("content"),f=Math.random()+"",m=new Oh.lb;this._showOrMove(p,(function(){var i=(0,u.o8)(p.get("formatterParams")||{});this._showTooltipContent(p,g,i,f,t.offsetX,t.offsetY,t.position,e,m)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,n,o,r,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent;h.setEnterable(t.get("enterable"));var c=t.get("formatter");a=a||t.get("position");var d=e,p=this._getNearestPoint([o,r],i,t.get("trigger"),t.get("borderColor")),g=p.color;if(c)if((0,u.Kg)(c)){var f=t.ecModel.get("useUTC"),m=(0,u.cy)(i)?i[0]:i,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;d=c,y&&(d=(0,cs.GP)(m.axisValue,d,f)),d=(0,So.YK)(d,i,!0)}else if((0,u.Tn)(c)){var v=(0,u.oI)((function(e,n){e===this._ticket&&(h.setContent(n,l,t,g,a),this._updatePosition(t,a,o,r,h,i,s))}),this);this._ticket=n,d=c(i,n,v)}else d=c;h.setContent(d,l,t,g,a),h.show(t,g),this._updatePosition(t,a,o,r,h,i,s)}},e.prototype._getNearestPoint=function(t,e,i,n){return"axis"===i||(0,u.cy)(e)?{color:n||("html"===this._renderMode?"#fff":"none")}:(0,u.cy)(e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,i,n,o,r,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var h=o.getSize(),c=t.get("align"),d=t.get("verticalAlign"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),(0,u.Tn)(e)&&(e=e([i,n],r,o.el,p,{viewSize:[s,l],contentSize:h.slice()})),(0,u.cy)(e))i=(0,_.lo)(e[0],s),n=(0,_.lo)(e[1],l);else if((0,u.Gv)(e)){var g=e;g.width=h[0],g.height=h[1];var f=(0,Kr.dV)(g,{width:s,height:l});i=f.x,n=f.y,c=null,d=null}else if((0,u.Kg)(e)&&a){var m=UT(e,p,h,t.get("borderWidth"));i=m[0],n=m[1]}else{m=YT(i,n,o,s,l,c?null:20,d?null:20);i=m[0],n=m[1]}if(c&&(i-=ZT(c)?h[0]/2:"right"===c?h[0]:0),d&&(n-=ZT(d)?h[1]/2:"bottom"===d?h[1]:0),vT(t)){m=$T(i,n,o,s,l);i=m[0],n=m[1]}o.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===t.length;return o&&(0,u.__)(i,(function(i,r){var a=i.dataByAxis||[],s=t[r]||{},l=s.dataByAxis||[];o=o&&a.length===l.length,o&&(0,u.__)(a,(function(t,i){var r=l[i]||{},a=t.seriesDataIndices||[],s=r.seriesDataIndices||[];o=o&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&a.length===s.length,o&&(0,u.__)(a,(function(t,e){var i=s[e];o=o&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})),n&&(0,u.__)(t.seriesDataIndices,(function(t){var i=t.seriesIndex,r=e[i],a=n[i];r&&a&&a.data!==r.data&&(o=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!kt.A.node&&e.getDom()&&((0,fr.IU)(this,"_updatePosition"),this._tooltipContent.dispose(),_S("itemTooltip",e))},e.type="tooltip",e}(a.A);function XT(t,e,i){var n,o=e.ecModel;i?(n=new Oi.A(i,o,o),n=new Oi.A(e.option,n,o)):n=e;for(var r=t.length-1;r>=0;r--){var a=t[r];a&&(a instanceof Oi.A&&(a=a.get("tooltip",!0)),(0,u.Kg)(a)&&(a={formatter:a}),a&&(n=new Oi.A(a,n,o)))}return n}function jT(t,e){return t.dispatchAction||(0,u.oI)(e.dispatchAction,e)}function YT(t,e,i,n,o,r,a){var s=i.getSize(),l=s[0],h=s[1];return null!=r&&(t+l+r+2>n?t-=l+r:t+=r),null!=a&&(e+h+a>o?e-=h+a:e+=a),[t,e]}function $T(t,e,i,n,o){var r=i.getSize(),a=r[0],s=r[1];return t=Math.min(t+a,n)-a,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function UT(t,e,i,n){var o=i[0],r=i[1],a=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,h=e.width,u=e.height;switch(t){case"inside":s=e.x+h/2-o/2,l=e.y+u/2-r/2;break;case"top":s=e.x+h/2-o/2,l=e.y-r-a;break;case"bottom":s=e.x+h/2-o/2,l=e.y+u+a;break;case"left":s=e.x-o-a,l=e.y+u/2-r/2;break;case"right":s=e.x+h+a,l=e.y+u/2-r/2}return[s,l]}function ZT(t){return"center"===t||"middle"===t}function qT(t,e,i){var n=(0,m.HB)(t).queryOptionMap,o=n.keys()[0];if(o&&"series"!==o){var r=(0,m.JO)(e,o,n.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),a=r.models[0];if(a){var s,l=i.getViewOfComponentModel(a);return l.group.traverse((function(e){var i=(0,x.z)(e).tooltipConfig;if(i&&i.name===t.name)return s=e,!0})),s?{componentMainType:o,componentIndex:a.componentIndex,el:s}:void 0}}}var KT=HT;function JT(t){f(ES),t.registerComponentModel(yT),t.registerComponentView(KT),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},u.lQ),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},u.lQ)}var QT=["rect","polygon","keep","clear"];function tD(t,e){var i=(0,m.qB)(t?t.brush:[]);if(i.length){var n=[];u.__(i,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))}));var o=t&&t.toolbox;u.cy(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var r=o.feature||(o.feature={}),a=r.brush||(r.brush={}),s=a.type||(a.type=[]);s.push.apply(s,n),eD(s),e&&!s.length&&s.push.apply(s,QT)}}function eD(t){var e={};u.__(t,(function(t){e[t]=1})),t.length=0,u.__(e,(function(e,i){t.push(i)}))}var iD=i(7395),nD=u.__;function oD(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function rD(t,e,i){var n={};return nD(e,(function(e){var r=n[e]=o();nD(t[e],(function(t,n){if(mg.isValidType(n)){var o={type:n,visual:t};i&&i(o,e),r[n]=new mg(o),"opacity"===n&&(o=u.o8(o),o.type="colorAlpha",r.__hidden.__alphaForOpacity=new mg(o))}}))})),n;function o(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function aD(t,e,i){var n;u.__(i,(function(t){e.hasOwnProperty(t)&&oD(e[t])&&(n=!0)})),n&&u.__(i,(function(i){e.hasOwnProperty(i)&&oD(e[i])?t[i]=u.o8(e[i]):delete t[i]}))}function sD(t,e,i,n,o,r){var a,s={};function l(t){return(0,iD.Ez)(i,a,t)}function h(t,e){(0,iD.oZ)(i,a,t,e)}function c(t,u){a=null==r?t:u;var c=i.getRawDataItem(a);if(!c||!1!==c.visualMap)for(var d=n.call(o,t),p=e[d],g=s[d],f=0,m=g.length;f<m;f++){var y=g[f];p[y]&&p[y].applyVisual(t,l,h)}}u.__(t,(function(t){var i=mg.prepareVisualTypes(e[t]);s[t]=i})),null==r?i.each(c):i.each([r],c)}function lD(t,e,i,n){var o={};return u.__(t,(function(t){var i=mg.prepareVisualTypes(e[t]);o[t]=i})),{progress:function(t,r){var a,s;function l(t){return(0,iD.Ez)(r,s,t)}function h(t,e){(0,iD.oZ)(r,s,t,e)}null!=n&&(a=r.getDimensionIndex(n));var u=r.getStore();while(null!=(s=t.next())){var c=r.getRawDataItem(s);if(!c||!1!==c.visualMap)for(var d=null!=n?u.get(a,s):s,p=i(d),g=e[p],f=o[p],m=0,y=f.length;m<y;m++){var v=f[m];g[v]&&g[v].applyVisual(d,l,h)}}}}}function hD(t){var e=t.brushType,i={point:function(n){return uD[e].point(n,i,t)},rect:function(n){return uD[e].rect(n,i,t)}};return i}var uD={lineX:cD(0),lineY:cD(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&ju(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length<=1)return!1;var o=t.x,r=t.y,a=t.width,s=t.height,l=n[0];return!!(ju(n,o,r)||ju(n,o+a,r)||ju(n,o,r+s)||ju(n,o+a,r+s)||y.A.create(t).contain(l[0],l[1])||(0,Hn.linePolygonIntersect)(o,r,o+a,r,n)||(0,Hn.linePolygonIntersect)(o,r,o,r+s,n)||(0,Hn.linePolygonIntersect)(o+a,r,o+a,r+s,n)||(0,Hn.linePolygonIntersect)(o,r+s,o+a,r+s,n))||void 0}}};function cD(t){var e=["x","y"],i=["width","height"];return{point:function(e,i,n){if(e){var o=n.range,r=e[t];return dD(r,o)}},rect:function(n,o,r){if(n){var a=r.range,s=[n[e[t]],n[e[t]]+n[i[t]]];return s[1]<s[0]&&s.reverse(),dD(s[0],a)||dD(s[1],a)||dD(a[0],s)||dD(a[1],s)}}}}function dD(t,e){return e[0]<=t&&t<=e[1]}var pD=["inBrush","outOfBrush"],gD="__ecBrushSelect",fD="__ecInBrushSelectEvent";function mD(t){t.eachComponent({mainType:"brush"},(function(e){var i=e.brushTargetManager=new rT(e.option,t);i.setInputRanges(e.areas,t)}))}function yD(t,e,i){var n,o,r=[];t.eachComponent({mainType:"brush"},(function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})})),mD(t),t.eachComponent({mainType:"brush"},(function(e,i){var a={brushId:e.id,brushIndex:i,brushName:e.name,areas:u.o8(e.areas),selected:[]};r.push(a);var s=e.option,l=s.brushLink,h=[],c=[],d=[],p=!1;i||(n=s.throttleType,o=s.throttleDelay);var g=u.Tj(e.areas,(function(t){var e=wD[t.brushType],i=u.NT({boundingRect:e?e(t):void 0},t);return i.selectors=hD(i),i})),f=rD(e.option,pD,(function(t){t.mappingMethod="fixed"}));function m(t){return"all"===l||!!h[t]}function y(t){return!!t.length}function v(t,e){var i=t.coordinateSystem;p=p||i.hasAxisBrushed(),m(e)&&i.eachActiveState(t.getData(),(function(t,e){"active"===t&&(c[e]=1)}))}function x(i,n,o){if(i.brushSelector&&!bD(e,n)&&(u.__(g,(function(n){e.brushTargetManager.controlSeries(n,i,t)&&o.push(n),p=p||y(o)})),m(n)&&y(o))){var r=i.getData();r.each((function(t){_D(i,o,r,t)&&(c[t]=1)}))}}u.cy(l)&&u.__(l,(function(t){h[t]=1})),t.eachSeries((function(t,e){var i=d[e]=[];"parallel"===t.subType?v(t,e):x(t,e,i)})),t.eachSeries((function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(i);var n=d[e],o=t.getData(),r=m(e)?function(t){return c[t]?(i.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return _D(t,n,o,e)?(i.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"};(m(e)?p:y(n))&&sD(pD,f,o,r)}))})),vD(e,n,o,r,i)}function vD(t,e,i,n,o){if(o){var r=t.getZr();if(!r[fD]){r[gD]||(r[gD]=xD);var a=fr.N(r,gD,i,e);a(t,n)}}}function xD(t,e){if(!t.isDisposed()){var i=t.getZr();i[fD]=!0,t.dispatchAction({type:"brushSelect",batch:e}),i[fD]=!1}}function _D(t,e,i,n){for(var o=0,r=e.length;o<r;o++){var a=e[o];if(t.brushSelector(n,i,a.selectors,a))return!0}}function bD(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(u.cy(i)?u.qh(i,e)<0:e!==i)}var wD={rect:function(t){return MD(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var r=i[n];r[0]<e[0][0]&&(e[0][0]=r[0]),r[0]>e[0][1]&&(e[0][1]=r[0]),r[1]<e[1][0]&&(e[1][0]=r[1]),r[1]>e[1][1]&&(e[1][1]=r[1])}return e&&MD(e)}};function MD(t){return new y.A(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var SD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Av(e.getZr())).on("brush",u.oI(this._onBrush,this)).mount()},e.prototype.render=function(t,e,i,n){this.model=t,this._updateController(t,e,i,n)},e.prototype.updateTransform=function(t,e,i,n){mD(e),this._updateController(t,e,i,n)},e.prototype.updateVisual=function(t,e,i,n){this.updateTransform(t,e,i,n)},e.prototype.updateView=function(t,e,i,n){this._updateController(t,e,i,n)},e.prototype._updateController=function(t,e,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:u.o8(i),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:u.o8(i),$from:e})},e.type="brush",e}(a.A),ID=SD,AD="#ddd",CD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.areas=[],i.brushOption={},i}return(0,Pi.C6)(e,t),e.prototype.optionUpdated=function(t,e){var i=this.option;!e&&aD(i,t,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:AD},n.hasOwnProperty("liftZ")||(n.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=u.Tj(t,(function(t){return TD(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=TD(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(l.A);function TD(t,e){return u.h1({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Oi.A(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var DD=CD,LD=["rect","polygon","lineX","lineY","keep","clear"],kD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){var n,o,r;e.eachComponent({mainType:"brush"},(function(t){n=t.brushType,o=t.brushOption.brushMode||"single",r=r||!!t.areas.length})),this._brushType=n,this._brushMode=o,u.__(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?r:e===n)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,i){this.render(t,e,i)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return u.__(t.get("type",!0),(function(t){e[t]&&(i[t]=e[t])})),i},e.prototype.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},e.getDefaultOption=function(t){var e={show:!0,type:LD.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e},e}(oC),PD=kD;function OD(t){t.registerComponentView(ID),t.registerComponentModel(DD),t.registerPreprocessor(tD),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,yD),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},u.lQ),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},u.lQ),aC("brush",PD)}var ND=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return(0,Pi.C6)(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(l.A),RD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.render=function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,o=t.getModel("textStyle"),r=t.getModel("subtextStyle"),a=t.get("textAlign"),s=u.bZ(t.get("textBaseline"),t.get("textVerticalAlign")),l=new Ne.Ay({style:(0,st.VB)(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=l.getBoundingRect(),c=t.get("subtext"),d=new Ne.Ay({style:(0,st.VB)(r,{text:c,fill:r.getTextColor(),y:h.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),g=t.get("sublink"),f=t.get("triggerEvent",!0);l.silent=!p&&!f,d.silent=!g&&!f,p&&l.on("click",(function(){(0,So.JW)(p,"_"+t.get("target"))})),g&&d.on("click",(function(){(0,So.JW)(g,"_"+t.get("subtarget"))})),(0,x.z)(l).eventData=(0,x.z)(d).eventData=f?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(l),c&&n.add(d);var m=n.getBoundingRect(),y=t.getBoxLayoutParams();y.width=m.width,y.height=m.height;var v=(0,Kr.dV)(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));a||(a=t.get("left")||t.get("right"),"middle"===a&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||(s=t.get("top")||t.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),n.x=v.x,n.y=v.y,n.markRedraw();var _={align:a,verticalAlign:s};l.setStyle(_),d.setStyle(_),m=n.getBoundingRect();var b=v.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var M=new vo.A({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});n.add(M)}},e.type="title",e}(a.A);function ED(t){t.registerComponentModel(ND),t.registerComponentView(RD)}var zD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode="box",i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,i=e.data||[],n=e.axisType,o=this._names=[];"category"===n?(t=[],(0,u.__)(i,(function(e,i){var n,r=(0,m.vS)((0,m.vj)(e),"");(0,u.Gv)(e)?(n=(0,u.o8)(e),n.value=i):n=i,t.push(n),o.push(r)}))):t=i;var r={category:"ordinal",time:"time",value:"number"}[n]||"number",a=this._data=new vn([{name:"value",type:r}],this);a.initData(t,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(l.A),VD=zD,BD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="timeline.slider",e.defaultOption=(0,dr.G_)(VD.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(VD);(0,u.co)(BD,WT.J.prototype);var FD=BD,WD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="timeline",e}(a.A),GD=WD,HD=function(t){function e(e,i,n,o){var r=t.call(this,e,i,n)||this;return r.type=o||"value",r}return(0,Pi.C6)(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(Il),XD=HD,jD=Math.PI,YD=(0,m.$r)(),$D=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,i){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var n=this._layout(t,i),o=this._createGroup("_mainGroup"),r=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(n,t);t.formatTooltip=function(t){var e=a.scale.getLabel({value:t});return(0,Oh.Qx)("nameValue",{noName:!0,value:e})},(0,u.__)(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](n,o,a,t)}),this),this._renderAxisLabel(n,r,a,t),this._position(n,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var i,n=t.get(["label","position"]),o=t.get("orient"),r=ZD(t,e);i=null==n||"auto"===n?"horizontal"===o?r.y+r.height/2<e.getHeight()/2?"-":"+":r.x+r.width/2<e.getWidth()/2?"+":"-":(0,u.Kg)(n)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][n]:n;var a,s,l,h={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},c={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:jD/2},p="vertical"===o?r.height:r.width,g=t.getModel("controlStyle"),f=g.get("show",!0),m=f?g.get("itemSize"):0,y=f?g.get("itemGap"):0,v=m+y,x=t.get(["label","rotate"])||0;x=x*jD/180;var _=g.get("position",!0),b=f&&g.get("showPlayBtn",!0),w=f&&g.get("showPrevBtn",!0),M=f&&g.get("showNextBtn",!0),S=0,I=p;"left"===_||"bottom"===_?(b&&(a=[0,0],S+=v),w&&(s=[S,0],S+=v),M&&(l=[I-m,0],I-=v)):(b&&(a=[I-m,0],I-=v),w&&(s=[0,0],S+=v),M&&(l=[I-m,0],I-=v));var A=[S,I];return t.get("inverse")&&A.reverse(),{viewRect:r,mainLength:p,orient:o,rotation:d[o],labelRotation:x,labelPosOpt:i,labelAlign:t.get(["label","align"])||h[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[o],playPosition:a,prevBtnPosition:s,nextBtnPosition:l,axisExtent:A,controlSize:m,controlGap:y}},e.prototype._position=function(t,e){var i=this._mainGroup,n=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var r=T.vt(),a=o.x,s=o.y+o.height;T.Tl(r,r,[-a,-s]),T.e$(r,r,-jD/2),T.Tl(r,r,[a,s]),o=o.clone(),o.applyTransform(r)}var l=y(o),h=y(i.getBoundingRect()),c=y(n.getBoundingRect()),d=[i.x,i.y],p=[n.x,n.y];p[0]=d[0]=l[0][0];var g=t.labelPosOpt;if(null==g||(0,u.Kg)(g)){var f="+"===g?0:1;v(d,h,l,1,f),v(p,c,l,1,1-f)}else{f=g>=0?0:1;v(d,h,l,1,f),p[1]=d[1]+g}function m(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}i.setPosition(d),n.setPosition(p),i.rotation=n.rotation=t.rotation,m(i),m(n)},e.prototype._createAxis=function(t,e){var i=e.getData(),n=e.get("axisType"),o=UD(e,n);o.getTicks=function(){return i.mapArray(["value"],(function(t){return{value:t}}))};var r=i.getDataExtent("value");o.setExtent(r[0],r[1]),o.calcNiceTicks();var a=new XD("value",o,t.axisExtent,n);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new Fn.A;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,i,n){var o=i.getExtent();if(n.get(["lineStyle","show"])){var r=new Bl.A({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:(0,u.X$)({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(r);var a=this._progressLine=new Bl.A({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:(0,u.NT)({lineCap:"round",lineWidth:r.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,i,n){var o=this,r=n.getData(),a=i.scale.getTicks();this._tickSymbols=[],(0,u.__)(a,(function(t){var a=i.dataToCoord(t.value),s=r.getItemModel(t.value),l=s.getModel("itemStyle"),h=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),d={x:a,y:0,onclick:(0,u.oI)(o._changeTimeline,o,t.value)},p=KD(s,l,e,d);p.ensureState("emphasis").style=h.getItemStyle(),p.ensureState("progress").style=c.getItemStyle(),(0,L.iJ)(p);var g=(0,x.z)(p);s.get("tooltip")?(g.dataIndex=t.value,g.dataModel=n):g.dataIndex=g.dataModel=null,o._tickSymbols.push(p)}))},e.prototype._renderAxisLabel=function(t,e,i,n){var o=this,r=i.getLabelModel();if(r.get("show")){var a=n.getData(),s=i.getViewLabels();this._tickLabels=[],(0,u.__)(s,(function(n){var r=n.tickValue,s=a.getItemModel(r),l=s.getModel("label"),h=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),d=i.dataToCoord(n.tickValue),p=new Ne.Ay({x:d,y:0,rotation:t.labelRotation-t.rotation,onclick:(0,u.oI)(o._changeTimeline,o,r),silent:!1,style:(0,st.VB)(l,{text:n.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});p.ensureState("emphasis").style=(0,st.VB)(h),p.ensureState("progress").style=(0,st.VB)(c),e.add(p),(0,L.iJ)(p),YD(p).dataIndex=r,o._tickLabels.push(p)}))}},e.prototype._renderControl=function(t,e,i,n){var o=t.controlSize,r=t.rotation,a=n.getModel("controlStyle").getItemStyle(),s=n.getModel(["emphasis","controlStyle"]).getItemStyle(),l=n.getPlayState(),h=n.get("inverse",!0);function c(t,i,l,h){if(t){var c=(0,Ht.lo)((0,u.bZ)(n.get(["controlStyle",i+"BtnSize"]),o),o),d=[0,-c/2,c,c],p=qD(n,i+"Icon",d,{x:t[0],y:t[1],originX:o/2,originY:0,rotation:h?-r:0,rectHover:!0,style:a,onclick:l});p.ensureState("emphasis").style=s,e.add(p),(0,L.iJ)(p)}}c(t.nextBtnPosition,"next",(0,u.oI)(this._changeTimeline,this,h?"-":"+")),c(t.prevBtnPosition,"prev",(0,u.oI)(this._changeTimeline,this,h?"+":"-")),c(t.playPosition,l?"stop":"play",(0,u.oI)(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,i,n){var o=n.getData(),r=n.getCurrentIndex(),a=o.getItemModel(r).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=(0,u.oI)(s._handlePointerDrag,s),t.ondragend=(0,u.oI)(s._handlePointerDragend,s),JD(t,s._progressLine,r,i,n,!0)},onUpdate:function(t){JD(t,s._progressLine,r,i,n)}};this._currentPointer=KD(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=_.Y6(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var r=this._progressLine;r&&(r.shape.x2=i,r.dirty());var a=this._findNearestTick(i),s=this.model;(e||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return Hn.applyTransform(t,e,!0)},e.prototype._findNearestTick=function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],(function(i,r){var a=o.dataToCoord(i),s=Math.abs(a-t);s<n&&(n=s,e=r)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,i=this._tickLabels;if(e)for(var n=0;n<e.length;n++)e&&e[n]&&e[n].toggleState("progress",n<t);if(i)for(n=0;n<i.length;n++)i&&i[n]&&i[n].toggleState("progress",YD(i[n]).dataIndex<=t)},e.type="timeline.slider",e}(GD);function UD(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new ss({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new Ms({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new us}}function ZD(t,e){return Kr.dV(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function qD(t,e,i,n){var o=n.style,r=Hn.createIcon(t.get(["controlStyle",e]),n||{},new y.A(i[0],i[1],i[2],i[3]));return o&&r.setStyle(o),r}function KD(t,e,i,n,o,r){var a=e.get("color");if(o)o.setColor(a),i.add(o),r&&r.onUpdate(o);else{var s=t.get("symbol");o=(0,Bn.v5)(s,-1,-1,2,2,a),o.setStyle("strokeNoScale",!0),i.add(o),r&&r.onCreate(o)}var l=e.getItemStyle(["color"]);o.setStyle(l),n=(0,u.h1)({rectHover:!0,z2:100},n,!0);var h=(0,Bn.xU)(t.get("symbolSize"));n.scaleX=h[0]/2,n.scaleY=h[1]/2;var c=(0,Bn.hV)(t.get("symbolOffset"),h);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var d=t.get("symbolRotate");return n.rotation=(d||0)*Math.PI/180||0,o.attr(n),o.updateTransform(),o}function JD(t,e,i,n,o,r){if(!t.dragging){var a=o.getModel("checkpointStyle"),s=n.dataToCoord(o.getData().get("value",i));if(r||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var QD=$D;function tL(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,i){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.getPlayState()&&(n.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),(0,u.NT)({currentIndex:n.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)}))}function eL(t){var e=t&&t.timeline;u.cy(e)||(e=e?[e]:[]),u.__(e,(function(t){t&&iL(t)}))}function iL(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),nL(t),oL(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});oL(n,"position")||(n.position=t.controlPosition),"none"!==n.position||oL(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}u.__(t.data||[],(function(t){u.Gv(t)&&!u.cy(t)&&(!oL(t,"value")&&oL(t,"name")&&(t.value=t.name),nL(t))}))}function nL(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),r={normal:1,emphasis:1};u.__(n,(function(t,e){r[e]||oL(o,e)||(o[e]=t)})),i.label&&!oL(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function oL(t,e){return t.hasOwnProperty(e)}function rL(t){t.registerComponentModel(FD),t.registerComponentView(QD),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),tL(t),t.registerPreprocessor(eL)}function aL(t,e){if(!t)return!1;for(var i=(0,u.cy)(t)?t:[t],n=0;n<i.length;n++)if(i[n]&&i[n][e])return!0;return!1}function sL(t){(0,m.M5)(t,"label",["show"])}var lL=(0,m.$r)(),hL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.createdBySelf=!1,i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(kt.A.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,i,n){var o=this.mainType;i||e.eachSeries((function(t){var i=t.get(this.mainType,!0),r=lL(t)[o];i&&i.data?(r?r._mergeOption(i,e,!0):(n&&sL(i),u.__(i.data,(function(t){t instanceof Array?(sL(t[0]),sL(t[1])):sL(t)})),r=this.createMarkerModelFromSeries(i,this,e),u.X$(r,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),r.__hostSeries=t),lL(t)[o]=r):lL(t)[o]=null}),this)},e.prototype.formatTooltip=function(t,e,i){var n=this.getData(),o=this.getRawValue(t),r=n.getName(t);return(0,Oh.Qx)("section",{header:this.name,blocks:[(0,Oh.Qx)("nameValue",{name:r,value:o,noName:!r,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,e){var i=WT.J.prototype.getDataParams.call(this,t,e),n=this.__hostSeries;return n&&(i.seriesId=n.id,i.seriesName=n.name,i.seriesType=n.subType),i},e.getMarkerModelFromSeries=function(t,e){return lL(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(l.A);u.co(hL,WT.J.prototype);var uL=hL,cL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.createMarkerModelFromSeries=function(t,i,n){return new e(t,i,n)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(uL),dL=cL,pL=i(1825);function gL(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function fL(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function mL(t,e,i,n,o,r){var a=[],s=kn(e,n),l=s?e.getCalculationInfo("stackResultDimension"):n,h=SL(e,l,t),u=e.indicesOfNearest(l,h)[0];a[o]=e.get(i,u),a[r]=e.get(l,u);var c=e.get(n,u),d=_.XV(e.get(n,u));return d=Math.min(d,20),d>=0&&(a[r]=+a[r].toFixed(d)),[a,c]}var yL={min:(0,u.cF)(mL,"min"),max:(0,u.cF)(mL,"max"),average:(0,u.cF)(mL,"average"),median:(0,u.cF)(mL,"median")};function vL(t,e){if(e){var i=t.getData(),n=t.coordinateSystem,o=n&&n.dimensions;if(!fL(e)&&!(0,u.cy)(e.coord)&&(0,u.cy)(o)){var r=xL(e,i,n,t);if(e=(0,u.o8)(e),e.type&&yL[e.type]&&r.baseAxis&&r.valueAxis){var a=(0,u.qh)(o,r.baseAxis.dim),s=(0,u.qh)(o,r.valueAxis.dim),l=yL[e.type](i,r.baseDataDim,r.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&(0,u.cy)(o))for(var h=e.coord,c=0;c<2;c++)yL[h[c]]&&(h[c]=SL(i,i.mapDimension(o[c]),h[c]));else e.coord=[];return e}}function xL(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(_L(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function _L(t,e){var i=t.getData().getDimensionInfo(e);return i&&i.coordDim}function bL(t,e){return!(t&&t.containData&&e.coord&&!gL(e))||t.containData(e.coord)}function wL(t,e,i){return!(t&&t.containZone&&e.coord&&i.coord&&!gL(e)&&!gL(i))||t.containZone(e.coord,i.coord)}function ML(t,e){return t?function(t,i,n,o){var r=o<2?t.coord&&t.coord[o]:t.value;return(0,pL.Pn)(r,e[o])}:function(t,i,n,o){return(0,pL.Pn)(t.value,e[o])}}function SL(t,e,i){if("average"===i){var n=0,o=0;return t.each(e,(function(t,e){isNaN(t)||(n+=t,o++)})),n/o}return"median"===i?t.getMedian(e):t.getDataExtent(e)["max"===i?1:0]}var IL=(0,m.$r)(),AL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){this.markerGroupMap=(0,u.nt)()},e.prototype.render=function(t,e,i){var n=this,o=this.markerGroupMap;o.each((function(t){IL(t).keep=!1})),e.eachSeries((function(t){var o=uL.getMarkerModelFromSeries(t,n.type);o&&n.renderSeries(t,o,e,i)})),o.each((function(t){!IL(t).keep&&n.group.remove(t.group)}))},e.prototype.markKeep=function(t){IL(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var i=this;(0,u.__)(t,(function(t){var n=uL.getMarkerModelFromSeries(t,i.type);if(n){var o=n.getData();o.eachItemGraphicEl((function(t){t&&(e?(0,L.QX)(t):(0,L.JC)(t))}))}}))},e.type="marker",e}(a.A),CL=AL;function TL(t,e,i){var n=e.coordinateSystem;t.each((function(o){var r,a=t.getItemModel(o),s=_.lo(a.get("x"),i.getWidth()),l=_.lo(a.get("y"),i.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)r=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var h=t.get(n.dimensions[0],o),u=t.get(n.dimensions[1],o);r=n.dataToPoint([h,u])}}else r=[s,l];isNaN(s)||(r[0]=s),isNaN(l)||(r[1]=l),t.setItemLayout(o,r)}))}var DL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.updateTransform=function(t,e,i){e.eachSeries((function(t){var e=uL.getMarkerModelFromSeries(t,"markPoint");e&&(TL(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new Qn),h=LL(o,t,e);e.setData(h),TL(e.getData(),t,n),h.each((function(t){var i=h.getItemModel(t),n=i.getShallow("symbol"),o=i.getShallow("symbolSize"),r=i.getShallow("symbolRotate"),s=i.getShallow("symbolOffset"),l=i.getShallow("symbolKeepAspect");if((0,u.Tn)(n)||(0,u.Tn)(o)||(0,u.Tn)(r)||(0,u.Tn)(s)){var c=e.getRawValue(t),d=e.getDataParams(t);(0,u.Tn)(n)&&(n=n(c,d)),(0,u.Tn)(o)&&(o=o(c,d)),(0,u.Tn)(r)&&(r=r(c,d)),(0,u.Tn)(s)&&(s=s(c,d))}var p=i.getModel("itemStyle").getItemStyle(),g=(0,iD.rI)(a,"color");p.fill||(p.fill=g),h.setItemVisual(t,{symbol:n,symbolSize:o,symbolRotate:r,symbolOffset:s,symbolKeepAspect:l,style:p})})),l.updateData(h),this.group.add(l.group),h.eachItemGraphicEl((function(t){t.traverse((function(t){(0,x.z)(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(CL);function LL(t,e,i){var n;n=t?(0,u.Tj)(t&&t.dimensions,(function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return(0,u.X$)((0,u.X$)({},i),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new vn(n,i),r=(0,u.Tj)(i.get("data"),(0,u.cF)(vL,e));t&&(r=(0,u.pb)(r,(0,u.cF)(bL,t)));var a=ML(!!t,n);return o.initData(r,null,a),o}var kL=DL;function PL(t){t.registerComponentModel(dL),t.registerComponentView(kL),t.registerPreprocessor((function(t){aL(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))}var OL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.createMarkerModelFromSeries=function(t,i,n){return new e(t,i,n)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(uL),NL=OL,RL=(0,m.$r)(),EL=function(t,e,i,n){var o,r=t.getData();if((0,u.cy)(n))o=n;else{var a=n.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=n.xAxis||null!=n.yAxis){var s=void 0,l=void 0;if(null!=n.yAxis||null!=n.xAxis)s=e.getAxis(null!=n.yAxis?"y":"x"),l=(0,u.Je)(n.yAxis,n.xAxis);else{var h=xL(n,r,e,t);s=h.valueAxis;var c=Pn(r,h.valueDataDim);l=SL(r,c,a)}var d="x"===s.dim?0:1,p=1-d,g=(0,u.o8)(n),f={coord:[]};g.type=null,g.coord=[],g.coord[p]=-1/0,f.coord[p]=1/0;var m=i.get("precision");m>=0&&(0,u.Et)(l)&&(l=+l.toFixed(Math.min(m,20))),g.coord[d]=f.coord[d]=l,o=[g,f,{type:a,valueIndex:n.valueIndex,value:l}]}else o=[]}var y=[vL(t,o[0]),vL(t,o[1]),(0,u.X$)({},o[2])];return y[2].type=y[2].type||null,(0,u.h1)(y[2],y[0]),(0,u.h1)(y[2],y[1]),y};function zL(t){return!isNaN(t)&&!isFinite(t)}function VL(t,e,i,n){var o=1-t,r=n.dimensions[t];return zL(e[o])&&zL(i[o])&&e[t]===i[t]&&n.getAxis(r).containData(e[t])}function BL(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(VL(1,i,n,t)||VL(0,i,n,t)))return!0}return bL(t,e[0])&&bL(t,e[1])}function FL(t,e,i,n,o){var r,a=n.coordinateSystem,s=t.getItemModel(e),l=_.lo(s.get("x"),o.getWidth()),h=_.lo(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)r=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var u=a.dimensions,c=t.get(u[0],e),d=t.get(u[1],e);r=a.dataToPoint([c,d])}if(Mo(a,"cartesian2d")){var p=a.getAxis("x"),g=a.getAxis("y");u=a.dimensions;zL(t.get(u[0],e))?r[0]=p.toGlobalCoord(p.getExtent()[i?0:1]):zL(t.get(u[1],e))&&(r[1]=g.toGlobalCoord(g.getExtent()[i?0:1]))}isNaN(l)||(r[0]=l),isNaN(h)||(r[1]=h)}else r=[l,h];t.setItemLayout(e,r)}var WL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.updateTransform=function(t,e,i){e.eachSeries((function(t){var e=uL.getMarkerModelFromSeries(t,"markLine");if(e){var n=e.getData(),o=RL(e).from,r=RL(e).to;o.each((function(e){FL(o,e,!0,t,i),FL(r,e,!1,t,i)})),n.each((function(t){n.setItemLayout(t,[o.getItemLayout(t),r.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new Yf);this.group.add(l.group);var h=GL(o,t,e),c=h.from,d=h.to,p=h.line;RL(e).from=c,RL(e).to=d,e.setData(p);var g=e.get("symbol"),f=e.get("symbolSize"),m=e.get("symbolRotate"),y=e.get("symbolOffset");function v(e,i,o){var r=e.getItemModel(i);FL(e,i,o,t,n);var s=r.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=(0,iD.rI)(a,"color")),e.setItemVisual(i,{symbolKeepAspect:r.get("symbolKeepAspect"),symbolOffset:(0,u.bZ)(r.get("symbolOffset",!0),y[o?0:1]),symbolRotate:(0,u.bZ)(r.get("symbolRotate",!0),m[o?0:1]),symbolSize:(0,u.bZ)(r.get("symbolSize"),f[o?0:1]),symbol:(0,u.bZ)(r.get("symbol",!0),g[o?0:1]),style:s})}(0,u.cy)(g)||(g=[g,g]),(0,u.cy)(f)||(f=[f,f]),(0,u.cy)(m)||(m=[m,m]),(0,u.cy)(y)||(y=[y,y]),h.from.each((function(t){v(c,t,!0),v(d,t,!1)})),p.each((function(t){var e=p.getItemModel(t).getModel("lineStyle").getLineStyle();p.setItemLayout(t,[c.getItemLayout(t),d.getItemLayout(t)]),null==e.stroke&&(e.stroke=c.getItemVisual(t,"style").fill),p.setItemVisual(t,{fromSymbolKeepAspect:c.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(t,"symbolOffset"),fromSymbolRotate:c.getItemVisual(t,"symbolRotate"),fromSymbolSize:c.getItemVisual(t,"symbolSize"),fromSymbol:c.getItemVisual(t,"symbol"),toSymbolKeepAspect:d.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(t,"symbolOffset"),toSymbolRotate:d.getItemVisual(t,"symbolRotate"),toSymbolSize:d.getItemVisual(t,"symbolSize"),toSymbol:d.getItemVisual(t,"symbol"),style:e})})),l.updateData(p),h.line.eachItemGraphicEl((function(t){(0,x.z)(t).dataModel=e,t.traverse((function(t){(0,x.z)(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(CL);function GL(t,e,i){var n;n=t?(0,u.Tj)(t&&t.dimensions,(function(t){var i=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return(0,u.X$)((0,u.X$)({},i),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new vn(n,i),r=new vn(n,i),a=new vn([],i),s=(0,u.Tj)(i.get("data"),(0,u.cF)(EL,e,t,i));t&&(s=(0,u.pb)(s,(0,u.cF)(BL,t)));var l=ML(!!t,n);return o.initData((0,u.Tj)(s,(function(t){return t[0]})),null,l),r.initData((0,u.Tj)(s,(function(t){return t[1]})),null,l),a.initData((0,u.Tj)(s,(function(t){return t[2]}))),a.hasItemOption=!0,{from:o,to:r,line:a}}var HL=WL;function XL(t){t.registerComponentModel(NL),t.registerComponentView(HL),t.registerPreprocessor((function(t){aL(t.series,"markLine")&&(t.markLine=t.markLine||{})}))}var jL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.createMarkerModelFromSeries=function(t,i,n){return new e(t,i,n)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(uL),YL=jL,$L=(0,m.$r)(),UL=function(t,e,i,n){var o=n[0],r=n[1];if(o&&r){var a=vL(t,o),s=vL(t,r),l=a.coord,h=s.coord;l[0]=(0,u.Je)(l[0],-1/0),l[1]=(0,u.Je)(l[1],-1/0),h[0]=(0,u.Je)(h[0],1/0),h[1]=(0,u.Je)(h[1],1/0);var c=(0,u.Um)([{},a,s]);return c.coord=[a.coord,s.coord],c.x0=a.x,c.y0=a.y,c.x1=s.x,c.y1=s.y,c}};function ZL(t){return!isNaN(t)&&!isFinite(t)}function qL(t,e,i,n){var o=1-t;return ZL(e[o])&&ZL(i[o])}function KL(t,e){var i=e.coord[0],n=e.coord[1],o={coord:i,x:e.x0,y:e.y0},r={coord:n,x:e.x1,y:e.y1};return Mo(t,"cartesian2d")?!(!i||!n||!qL(1,i,n,t)&&!qL(0,i,n,t))||wL(t,o,r):bL(t,o)||bL(t,r)}function JL(t,e,i,n,o){var r,a=n.coordinateSystem,s=t.getItemModel(e),l=_.lo(s.get(i[0]),o.getWidth()),h=_.lo(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition){var u=t.getValues(["x0","y0"],e),c=t.getValues(["x1","y1"],e),d=a.clampData(u),p=a.clampData(c),g=[];"x0"===i[0]?g[0]=d[0]>p[0]?c[0]:u[0]:g[0]=d[0]>p[0]?u[0]:c[0],"y0"===i[1]?g[1]=d[1]>p[1]?c[1]:u[1]:g[1]=d[1]>p[1]?u[1]:c[1],r=n.getMarkerPosition(g,i,!0)}else{var f=t.get(i[0],e),m=t.get(i[1],e),y=[f,m];a.clampData&&a.clampData(y,y),r=a.dataToPoint(y,!0)}if(Mo(a,"cartesian2d")){var v=a.getAxis("x"),x=a.getAxis("y");f=t.get(i[0],e),m=t.get(i[1],e);ZL(f)?r[0]=v.toGlobalCoord(v.getExtent()["x0"===i[0]?0:1]):ZL(m)&&(r[1]=x.toGlobalCoord(x.getExtent()["y0"===i[1]?0:1]))}isNaN(l)||(r[0]=l),isNaN(h)||(r[1]=h)}else r=[l,h];return r}var QL=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],tk=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.updateTransform=function(t,e,i){e.eachSeries((function(t){var e=uL.getMarkerModelFromSeries(t,"markArea");if(e){var n=e.getData();n.each((function(e){var o=(0,u.Tj)(QL,(function(o){return JL(n,e,o,t,i)}));n.setItemLayout(e,o);var r=n.getItemGraphicEl(e);r.setShape("points",o)}))}}),this)},e.prototype.renderSeries=function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new Fn.A});this.group.add(l.group),this.markKeep(l);var h=ek(o,t,e);e.setData(h),h.each((function(e){var i=(0,u.Tj)(QL,(function(i){return JL(h,e,i,t,n)})),r=o.getAxis("x").scale,s=o.getAxis("y").scale,l=r.getExtent(),c=s.getExtent(),d=[r.parse(h.get("x0",e)),r.parse(h.get("x1",e))],p=[s.parse(h.get("y0",e)),s.parse(h.get("y1",e))];_.Y6(d),_.Y6(p);var g=!(l[0]>d[1]||l[1]<d[0]||c[0]>p[1]||c[1]<p[0]),f=!g;h.setItemLayout(e,{points:i,allClipped:f});var m=h.getItemModel(e).getModel("itemStyle").getItemStyle(),y=(0,iD.rI)(a,"color");m.fill||(m.fill=y,(0,u.Kg)(m.fill)&&(m.fill=Re.hm(m.fill,.4))),m.stroke||(m.stroke=y),h.setItemVisual(e,"style",m)})),h.diff($L(l).data).add((function(t){var e=h.getItemLayout(t);if(!e.allClipped){var i=new Lh.A({shape:{points:e.points}});h.setItemGraphicEl(t,i),l.group.add(i)}})).update((function(t,i){var n=$L(l).data.getItemGraphicEl(i),o=h.getItemLayout(t);o.allClipped?n&&l.group.remove(n):(n?v.oi(n,{shape:{points:o.points}},e,t):n=new Lh.A({shape:{points:o.points}}),h.setItemGraphicEl(t,n),l.group.add(n))})).remove((function(t){var e=$L(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),h.eachItemGraphicEl((function(t,i){var n=h.getItemModel(i),o=h.getItemVisual(i,"style");t.useStyle(h.getItemVisual(i,"style")),(0,st.qM)(t,(0,st.lx)(n),{labelFetcher:e,labelDataIndex:i,defaultText:h.getName(i)||"",inheritColor:(0,u.Kg)(o.fill)?Re.hm(o.fill,1):"#000"}),(0,L.Mx)(t,n),(0,L.Lm)(t,null,null,n.get(["emphasis","disabled"])),(0,x.z)(t).dataModel=e})),$L(l).data=h,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(CL);function ek(t,e,i){var n,o,r=["x0","y0","x1","y1"];if(t){var a=(0,u.Tj)(t&&t.dimensions,(function(t){var i=e.getData(),n=i.getDimensionInfo(i.mapDimension(t))||{};return(0,u.X$)((0,u.X$)({},n),{name:t,ordinalMeta:null})}));o=(0,u.Tj)(r,(function(t,e){return{name:t,type:a[e%2].type}})),n=new vn(o,i)}else o=[{name:"value",type:"float"}],n=new vn(o,i);var s=(0,u.Tj)(i.get("data"),(0,u.cF)(UL,e,t,i));t&&(s=(0,u.pb)(s,(0,u.cF)(KL,t)));var l=t?function(t,e,i,n){var r=t.coord[Math.floor(n/2)][n%2];return(0,pL.Pn)(r,o[n])}:function(t,e,i,n){return(0,pL.Pn)(t.value,o[n])};return n.initData(s,null,l),n.hasItemOption=!0,n}var ik=tk;function nk(t){t.registerComponentModel(YL),t.registerComponentView(ik),t.registerPreprocessor((function(t){aL(t.series,"markArea")&&(t.markArea=t.markArea||{})}))}var ok=function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0},rk=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,i=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),u.cy(e)&&u.__(e,(function(t,n){u.Kg(t)&&(t={type:t}),e[n]=u.h1(t,ok(i,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],i=[];t.eachRawSeries((function(n){var o,r=n.name;if(i.push(r),n.legendVisualProvider){var a=n.legendVisualProvider,s=a.getAllNames();t.isSeriesFiltered(n)||(i=i.concat(s)),s.length?e=e.concat(s):o=!0}else o=!0;o&&(0,m.O0)(n)&&e.push(n.name)})),this._availableNames=i;var n=this.get("data")||e,o=u.nt(),r=u.Tj(n,(function(t){return(u.Kg(t)||u.Et(t))&&(t={name:t}),o.get(t.name)?null:(o.set(t.name,!0),new Oi.A(t,this,this.ecModel))}),this);this._data=u.pb(r,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var n=this._data;u.__(n,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;u.__(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;u.__(t,(function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&u.qh(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(l.A),ak=rk,sk=u.cF,lk=u.__,hk=Fn.A,uk=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!1,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new hk),this.group.add(this._selectorGroup=new hk),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),r=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===r?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(o,t,e,i,a,r,s);var l=t.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},c=t.get("padding"),d=Kr.dV(l,h,c),p=this.layoutInner(t,o,d,n,a,s),g=Kr.dV(u.NT({width:p.width,height:p.height},l),h,c);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=cC(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,i,n,o,r,a){var s=this.getContentGroup(),l=u.nt(),h=e.get("selectedMode"),c=[];i.eachRawSeries((function(t){!t.get("legendHoverLink")&&c.push(t.id)})),lk(e.getData(),(function(o,r){var a=o.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var d=new hk;return d.newline=!0,void s.add(d)}var p=i.getSeriesByName(a)[0];if(!l.get(a)){if(p){var g=p.getData(),f=g.getVisual("legendLineStyle")||{},m=g.getVisual("legendIcon"),y=g.getVisual("style"),v=this._createItem(p,a,r,o,e,t,f,y,m,h,n);v.on("click",sk(pk,a,null,n,c)).on("mouseover",sk(fk,p.name,null,n,c)).on("mouseout",sk(mk,p.name,null,n,c)),i.ssr&&v.eachChild((function(t){var e=(0,x.z)(t);e.seriesIndex=p.seriesIndex,e.dataIndex=r,e.ssrType="legend"})),l.set(a,!0)}else i.eachRawSeries((function(s){if(!l.get(a)&&s.legendVisualProvider){var d=s.legendVisualProvider;if(!d.containName(a))return;var p=d.indexOfName(a),g=d.getItemVisual(p,"style"),f=d.getItemVisual(p,"legendIcon"),m=(0,Re.qg)(g.fill);m&&0===m[3]&&(m[3]=.2,g=u.X$(u.X$({},g),{fill:(0,Re.As)(m,"rgba")}));var y=this._createItem(s,a,r,o,e,t,{},g,f,h,n);y.on("click",sk(pk,null,a,n,c)).on("mouseover",sk(fk,null,a,n,c)).on("mouseout",sk(mk,null,a,n,c)),i.ssr&&y.eachChild((function(t){var e=(0,x.z)(t);e.seriesIndex=s.seriesIndex,e.dataIndex=r,e.ssrType="legend"})),l.set(a,!0)}}),this);0}}),this),o&&this._createSelector(o,e,n,r,a)},e.prototype._createSelector=function(t,e,i,n,o){var r=this.getSelectorGroup();lk(t,(function(t){var n=t.type,o=new Ne.Ay({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});r.add(o);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);(0,st.qM)(o,{normal:a,emphasis:s},{defaultText:t.title}),(0,L.iJ)(o)}))},e.prototype._createItem=function(t,e,i,n,o,r,a,s,l,h,c){var d=t.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),f=o.isSelected(e),m=n.get("symbolRotate"),y=n.get("symbolKeepAspect"),v=n.get("icon");l=v||l||"roundRect";var x=ck(l,n,a,s,d,f,c),_=new hk,b=n.getModel("textStyle");if(!u.Tn(t.getLegendIcon)||v&&"inherit"!==v){var w="inherit"===v&&t.getData().getVisual("symbol")?"inherit"===m?t.getData().getVisual("symbolRotate"):m:0;_.add(dk({itemWidth:p,itemHeight:g,icon:l,iconRotate:w,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}else _.add(t.getLegendIcon({itemWidth:p,itemHeight:g,icon:l,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));var M="left"===r?p+5:-5,S=r,I=o.get("formatter"),A=e;u.Kg(I)&&I?A=I.replace("{name}",null!=e?e:""):u.Tn(I)&&(A=I(e));var C=f?b.getTextColor():n.get("inactiveColor");_.add(new Ne.Ay({style:(0,st.VB)(b,{text:A,x:M,y:g/2,fill:C,align:S,verticalAlign:"middle"},{inheritColor:C})}));var T=new vo.A({shape:_.getBoundingRect(),style:{fill:"transparent"}}),D=n.getModel("tooltip");return D.get("show")&&Hn.setTooltipConfig({el:T,componentModel:o,itemName:e,itemTooltipOption:D.option}),_.add(T),_.eachChild((function(t){t.silent=!0})),T.silent=!h,this.getContentGroup().add(_),(0,L.iJ)(_),_.__legendDataIndex=i,_},e.prototype.layoutInner=function(t,e,i,n,o,r){var a=this.getContentGroup(),s=this.getSelectorGroup();Kr.aP(t.get("orient"),a,t.get("itemGap"),i.width,i.height);var l=a.getBoundingRect(),h=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),o){Kr.aP("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),c=[-u.x,-u.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,g=0===p?"width":"height",f=0===p?"height":"width",m=0===p?"y":"x";"end"===r?c[p]+=l[g]+d:h[p]+=u[g]+d,c[1-p]+=l[f]/2-u[f]/2,s.x=c[0],s.y=c[1],a.x=h[0],a.y=h[1];var y={x:0,y:0};return y[g]=l[g]+d+u[g],y[f]=Math.max(l[f],u[f]),y[m]=Math.min(0,u[m]+c[1-p]),y}return a.x=h[0],a.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(a.A);function ck(t,e,i,n,o,r,a){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),lk(t,(function(i,n){"inherit"===t[n]&&(t[n]=e[n])}))}var l=e.getModel("itemStyle"),h=l.getItemStyle(),u=0===t.lastIndexOf("empty",0)?"fill":"stroke",c=l.getShallow("decal");h.decal=c&&"inherit"!==c?(0,Ic.w)(c,a):n.decal,"inherit"===h.fill&&(h.fill=n[o]),"inherit"===h.stroke&&(h.stroke=n[u]),"inherit"===h.opacity&&(h.opacity=("fill"===o?n:i).opacity),s(h,n);var d=e.getModel("lineStyle"),p=d.getLineStyle();if(s(p,i),"auto"===h.fill&&(h.fill=n.fill),"auto"===h.stroke&&(h.stroke=n.fill),"auto"===p.stroke&&(p.stroke=n.fill),!r){var g=e.get("inactiveBorderWidth"),f=h[u];h.lineWidth="auto"===g?n.lineWidth>0&&f?2:0:h.lineWidth,h.fill=e.get("inactiveColor"),h.stroke=e.get("inactiveBorderColor"),p.stroke=d.get("inactiveColor"),p.lineWidth=d.get("inactiveWidth")}return{itemStyle:h,lineStyle:p}}function dk(t){var e=t.icon||"roundRect",i=(0,Bn.v5)(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return i.setStyle(t.itemStyle),i.rotation=(t.iconRotate||0)*Math.PI/180,i.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}function pk(t,e,i,n){mk(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),fk(t,e,i,n)}function gk(t){var e,i=t.getZr().storage.getDisplayList(),n=0,o=i.length;while(n<o&&!(e=i[n].states.emphasis))n++;return e&&e.hoverLayer}function fk(t,e,i,n){gk(i)||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function mk(t,e,i,n){gk(i)||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}var yk=uk;function vk(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}function xk(t,e,i){var n,o={},r="toggleSelected"===t;return i.eachComponent("legend",(function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name));var a=i.getData();(0,u.__)(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&n:o[e]=n}}))})),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}function _k(t){t.registerAction("legendToggleSelect","legendselectchanged",(0,u.cF)(xk,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",(0,u.cF)(xk,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",(0,u.cF)(xk,"inverseSelect")),t.registerAction("legendSelect","legendselected",(0,u.cF)(xk,"select")),t.registerAction("legendUnSelect","legendunselected",(0,u.cF)(xk,"unSelect"))}function bk(t){t.registerComponentModel(ak),t.registerComponentView(yk),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,vk),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),_k(t)}var wk=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,i,n){var o=(0,Kr.vs)(e);t.prototype.init.call(this,e,i,n),Mk(this,e,o)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),Mk(this,this.option,e)},e.type="legend.scroll",e.defaultOption=(0,dr.G_)(ak.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(ak);function Mk(t,e,i){var n=t.getOrient(),o=[1,1];o[n.index]=0,(0,Kr.YA)(e,i,{type:"box",ignoreSize:!!o})}var Sk=wk,Ik=Fn.A,Ak=["width","height"],Ck=["x","y"],Tk=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!0,i._currentIndex=0,i}return(0,Pi.C6)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Ik),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Ik)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,i,n,o,r,a,s){var l=this;t.prototype.renderInner.call(this,e,i,n,o,r,a,s);var h=this._controllerGroup,c=i.get("pageIconSize",!0),d=u.cy(c)?c:[c,c];g("pagePrev",0);var p=i.getModel("pageTextStyle");function g(t,e){var n=t+"DataIndex",r=Hn.createIcon(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:u.oI(l._pageGo,l,n,i,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});r.name=t,h.add(r)}h.add(new Ne.Ay({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},e.prototype.layoutInner=function(t,e,i,n,o,r){var a=this.getSelectorGroup(),s=t.getOrient().index,l=Ak[s],h=Ck[s],c=Ak[1-s],d=Ck[1-s];o&&Kr.aP("horizontal",a,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),g=a.getBoundingRect(),f=[-g.x,-g.y],m=u.o8(i);o&&(m[l]=i[l]-g[l]-p);var y=this._layoutContentAndController(t,n,m,s,l,c,d,h);if(o){if("end"===r)f[s]+=y[l]+p;else{var v=g[l]+p;f[s]-=v,y[h]-=v}y[l]+=g[l]+p,f[1-s]+=y[d]+y[c]/2-g[c]/2,y[c]=Math.max(y[c],g[c]),y[d]=Math.min(y[d],g[d]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,i,n,o,r,a,s){var l=this.getContentGroup(),h=this._containerGroup,c=this._controllerGroup;Kr.aP(t.get("orient"),l,t.get("itemGap"),n?i.width:null,n?null:i.height),Kr.aP("horizontal",c,t.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),p=c.getBoundingRect(),g=this._showController=d[o]>i[o],f=[-d.x,-d.y];e||(f[n]=l[s]);var m=[0,0],y=[-p.x,-p.y],x=u.bZ(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var _=t.get("pageButtonPosition",!0);"end"===_?y[n]+=i[o]-p[o]:m[n]+=p[o]+x}y[1-n]+=d[r]/2-p[r]/2,l.setPosition(f),h.setPosition(m),c.setPosition(y);var b={x:0,y:0};if(b[o]=g?i[o]:d[o],b[r]=Math.max(d[r],p[r]),b[a]=Math.min(0,p[a]+y[1-n]),h.__rectSize=i[o],g){var w={x:0,y:0};w[o]=Math.max(i[o]-p[o]-x,0),w[r]=b[r],h.setClipPath(new vo.A({shape:w})),h.__rectSize=w[o]}else c.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var M=this._getPageInfo(t);return null!=M.pageIndex&&v.oi(l,{x:M.contentPosition[0],y:M.contentPosition[1]},g?t:null),this._updatePageInfoView(t,M),b},e.prototype._pageGo=function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var i=this._controllerGroup;u.__(["pagePrev","pageNext"],(function(n){var o=n+"DataIndex",r=null!=e[o],a=i.childOfName(n);a&&(a.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),a.cursor=r?"pointer":"default")}));var n=i.childOfName("pageText"),o=t.get("pageFormatter"),r=e.pageIndex,a=null!=r?r+1:0,s=e.pageCount;n&&o&&n.setStyle("text",u.Kg(o)?o.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):o({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,r=Ak[o],a=Ck[o],s=this._findTargetItemIndex(e),l=i.children(),h=l[s],u=l.length,c=u?1:0,d={contentPosition:[i.x,i.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return d;var p=v(h);d.contentPosition[o]=-p.s;for(var g=s+1,f=p,m=p,y=null;g<=u;++g)y=v(l[g]),(!y&&m.e>f.s+n||y&&!x(y,f.s))&&(f=m.i>f.i?m:y,f&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=f.i),++d.pageCount)),m=y;for(g=s-1,f=p,m=p,y=null;g>=-1;--g)y=v(l[g]),y&&x(m,y.s)||!(f.i<m.i)||(m=f,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=f.i),++d.pageCount,++d.pageIndex),f=y;return d;function v(t){if(t){var e=t.getBoundingRect(),i=e[a]+t[a];return{s:i,e:i+e[r],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,i,n=this.getContentGroup();return n.eachChild((function(n,o){var r=n.__legendDataIndex;null==i&&null!=r&&(i=o),r===t&&(e=o)})),null!=e?e:i},e.type="legend.scroll",e}(yk),Dk=Tk;function Lk(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))}function kk(t){f(bk),t.registerComponentModel(Sk),t.registerComponentView(Dk),Lk(t)}function Pk(t){f(bk),f(kk)}var Ok=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="dataZoom.inside",e.defaultOption=(0,dr.G_)(FA.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(FA),Nk=Ok,Rk=(0,m.$r)();function Ek(t,e,i){Rk(t).coordSysRecordMap.each((function(t){var n=t.dataZoomInfoMap.get(e.uid);n&&(n.getRange=i)}))}function zk(t,e){for(var i=Rk(t).coordSysRecordMap,n=i.keys(),o=0;o<n.length;o++){var r=n[o],a=i.get(r),s=a.dataZoomInfoMap;if(s){var l=e.uid,h=s.get(l);h&&(s.removeKey(l),s.keys().length||Vk(i,a))}}}function Vk(t,e){if(e){t.removeKey(e.model.uid);var i=e.controller;i&&i.dispose()}}function Bk(t,e){var i={model:e,containsPoint:(0,u.cF)(Wk,e),dispatchAction:(0,u.cF)(Fk,t),dataZoomInfoMap:null,controller:null},n=i.controller=new su(t.getZr());return(0,u.__)(["pan","zoom","scrollMove"],(function(t){n.on(t,(function(e){var n=[];i.dataZoomInfoMap.each((function(o){if(e.isAvailableBehavior(o.model.option)){var r=(o.getRange||{})[t],a=r&&r(o.dzReferCoordSysInfo,i.model.mainType,i.controller,e);!o.model.get("disabled",!0)&&a&&n.push({dataZoomId:o.model.id,start:a[0],end:a[1]})}})),n.length&&i.dispatchAction(n)}))})),i}function Fk(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function Wk(t,e,i,n){return t.coordinateSystem.containPoint([i,n])}function Gk(t){var e,i="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return t.each((function(t){var r=t.model,a=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");n[i+a]>n[i+e]&&(e=a),o=o&&r.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function Hk(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var i=Rk(e),n=i.coordSysRecordMap||(i.coordSysRecordMap=(0,u.nt)());n.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var i=EA(t);(0,u.__)(i.infoList,(function(i){var o=i.model.uid,r=n.get(o)||n.set(o,Bk(e,i.model)),a=r.dataZoomInfoMap||(r.dataZoomInfoMap=(0,u.nt)());a.set(t.uid,{dzReferCoordSysInfo:i,model:t,getRange:null})}))})),n.each((function(t){var e,i=t.controller,o=t.dataZoomInfoMap;if(o){var r=o.keys()[0];null!=r&&(e=o.get(r))}if(e){var a=Gk(o);i.enable(a.controlType,a.opt),i.setPointerChecker(t.containsPoint),fr.N(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else Vk(n,t)}))}))}var Xk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return(0,Pi.C6)(e,t),e.prototype.render=function(e,i,n){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Ek(n,e,{pan:(0,u.oI)(jk.pan,this),zoom:(0,u.oI)(jk.zoom,this),scrollMove:(0,u.oI)(jk.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){zk(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(XA),jk={zoom:function(t,e,i,n){var o=this.range,r=o.slice(),a=t.axisModels[0];if(a){var s=$k[e](null,[n.originX,n.originY],a,i,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(r[1]-r[0])+r[0],h=Math.max(1/n.scale,0);r[0]=(r[0]-l)*h+l,r[1]=(r[1]-l)*h+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return cy(0,r,[0,100],0,u.minSpan,u.maxSpan),this.range=r,o[0]!==r[0]||o[1]!==r[1]?r:void 0}},pan:Yk((function(t,e,i,n,o,r){var a=$k[n]([r.oldX,r.oldY],[r.newX,r.newY],e,o,i);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:Yk((function(t,e,i,n,o,r){var a=$k[n]([0,0],[r.scrollDelta,r.scrollDelta],e,o,i);return a.signal*(t[1]-t[0])*r.scrollDelta}))};function Yk(t){return function(e,i,n,o){var r=this.range,a=r.slice(),s=e.axisModels[0];if(s){var l=t(a,s,e,i,n,o);return cy(l,a,[0,100],"all"),this.range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}}}var $k={grid:function(t,e,i,n,o){var r=i.axis,a={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=r.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=r.inverse?-1:1),a},polar:function(t,e,i,n,o){var r=i.axis,a={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=r.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=h[1]-h[0],a.pixelStart=h[0],a.signal=r.inverse?-1:1),a},singleAxis:function(t,e,i,n,o){var r=i.axis,a=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===r.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=r.inverse?-1:1),s}},Uk=Xk;function Zk(t){iC(t),t.registerComponentModel(Nk),t.registerComponentView(Uk),Hk(t)}var qk=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=(0,dr.G_)(FA.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(FA),Kk=qk,Jk=vo.A,Qk=7,tP=1,eP=30,iP=7,nP="horizontal",oP="vertical",rP=5,aP=["line","bar","candlestick","scatter"],sP={easing:"cubicOut",duration:100,delay:0},lP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._displayables={},i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=(0,u.oI)(this._onBrush,this),this._onBrushEnd=(0,u.oI)(this._onBrushEnd,this)},e.prototype.render=function(e,i,n,o){if(t.prototype.render.apply(this,arguments),fr.N(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){fr.IU(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new Fn.A;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,i=t.get("brushSelect"),n=i?iP:0,o=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},a=this._orient===nP?{right:r.width-o.x-o.width,top:r.height-eP-Qk-n,width:o.width,height:eP}:{right:Qk,top:o.y,width:eP,height:o.height},s=Kr.vs(t.option);(0,u.__)(["right","top","width","height"],(function(t){"ph"===s[t]&&(s[t]=a[t])}));var l=Kr.dV(s,r);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===oP&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),r=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==nP||o?i===nP&&o?{scaleY:a?1:-1,scaleX:-1}:i!==oP||o?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([r]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.sliderGroup,n=t.get("brushSelect");i.add(new Jk({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new Jk({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:(0,u.oI)(this._onClickPanel,this)}),r=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",r.on("mousemove",this._onBrush),r.on("mouseup",this._onBrushEnd)):(r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)),i.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,i=this._shadowSize||[],n=t.series,o=n.getRawData(),r=n.getShadowDim&&n.getShadowDim(),a=r&&o.getDimensionInfo(r)?n.getShadowDim():t.otherDim;if(null!=a){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(o!==this._shadowData||a!==this._shadowDim||e[0]!==i[0]||e[1]!==i[1]){var h=o.getDataExtent(a),u=.3*(h[1]-h[0]);h=[h[0]-u,h[1]+u];var c,d=[0,e[1]],p=[0,e[0]],g=[[e[0],0],[0,0]],f=[],m=p[1]/(o.count()-1),y=0,v=Math.round(o.count()/e[0]);o.each([a],(function(t,e){if(v>0&&e%v)y+=m;else{var i=null==t||isNaN(t)||""===t,n=i?0:(0,_.Cb)(t,h,d,!0);i&&!c&&e?(g.push([g[g.length-1][0],0]),f.push([f[f.length-1][0],0])):!i&&c&&(g.push([y,0]),f.push([y,0])),g.push([y,n]),f.push([y,n]),y+=m,c=i}})),s=this._shadowPolygonPts=g,l=this._shadowPolylinePts=f}this._shadowData=o,this._shadowDim=a,this._shadowSize=[e[0],e[1]];for(var x=this.dataZoomModel,b=0;b<3;b++){var w=M(1===b);this._displayables.sliderGroup.add(w),this._displayables.dataShadowSegs.push(w)}}}function M(t){var e=x.getModel(t?"selectedDataBackground":"dataBackground"),i=new Fn.A,n=new Lh.A({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),o=new S.A({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return i.add(n),i.add(o),i}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var i,n=this.ecModel;return t.eachTargetAxis((function(o,r){var a=t.getAxisProxy(o,r).getTargetSeriesModels();(0,u.__)(a,(function(t){if(!i&&!(!0!==e&&(0,u.qh)(aP,t.get("type"))<0)){var a,s=n.getComponent(NA(o),r).axis,l=hP(o),h=t.coordinateSystem;null!=l&&h.getOtherAxis&&(a=h.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),i={thisAxis:s,series:t,thisDim:o,otherDim:l,otherAxisInverse:a}}}),this)}),this),i}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,i=e.handles=[null,null],n=e.handleLabels=[null,null],o=this._displayables.sliderGroup,r=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,h=a.get("brushSelect"),c=e.filler=new Jk({silent:h,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});o.add(c),o.add(new Jk({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:tP,fill:"rgba(0,0,0,0)"}})),(0,u.__)([0,1],(function(e){var r=a.get("handleIcon");!Bn.$V[r]&&r.indexOf("path://")<0&&r.indexOf("image://")<0&&(r="path://"+r);var s=(0,Bn.v5)(r,-1,0,2,2,null,!0);s.attr({cursor:uP(this._orient),draggable:!0,drift:(0,u.oI)(this._onDragMove,this,e),ondragend:(0,u.oI)(this._onDragEnd,this),onmouseover:(0,u.oI)(this._showDataInfo,this,!0),onmouseout:(0,u.oI)(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),h=a.get("handleSize");this._handleHeight=(0,_.lo)(h,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,L.iJ)(s);var c=a.get("handleColor");null!=c&&(s.style.fill=c),o.add(i[e]=s);var d=a.getModel("textStyle");t.add(n[e]=new Ne.Ay({silent:!0,invisible:!0,style:(0,st.VB)(d,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()}),z2:10}))}),this);var d=c;if(h){var p=(0,_.lo)(a.get("moveHandleSize"),r[1]),g=e.moveHandle=new vo.A({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:r[1]-.5,height:p}}),f=.8*p,m=e.moveHandleIcon=(0,Bn.v5)(a.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);m.silent=!0,m.y=r[1]+p/2-.5,g.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(r[1]/2,Math.max(p,10));d=e.moveZone=new vo.A({invisible:!0,shape:{y:r[1]-y,height:p+y}}),d.on("mouseover",(function(){s.enterEmphasis(g)})).on("mouseout",(function(){s.leaveEmphasis(g)})),o.add(g),o.add(m),o.add(d)}d.attr({draggable:!0,cursor:uP(this._orient),drift:(0,u.oI)(this._onDragMove,this,"all"),ondragstart:(0,u.oI)(this._showDataInfo,this,!0),ondragend:(0,u.oI)(this._onDragEnd,this),onmouseover:(0,u.oI)(this._showDataInfo,this,!0),onmouseout:(0,u.oI)(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[(0,_.Cb)(t[0],[0,100],e,!0),(0,_.Cb)(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),r=i.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];cy(e,n,o,i.get("zoomLock")?"all":t,null!=r.minSpan?(0,_.Cb)(r.minSpan,a,o,!0):null,null!=r.maxSpan?(0,_.Cb)(r.maxSpan,a,o,!0):null);var s=this._range,l=this._range=(0,_.Y6)([(0,_.Cb)(n[0],o,a,!0),(0,_.Cb)(n[1],o,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,i=this._handleEnds,n=(0,_.Y6)(i.slice()),o=this._size;(0,u.__)([0,1],(function(t){var n=e.handles[t],r=this._handleHeight;n.attr({scaleX:r/2,scaleY:r/2,x:i[t]+(t?-1:1),y:o[1]/2-r/2})}),this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var r={x:n[0],width:n[1]-n[0]};e.moveHandle&&(e.moveHandle.setShape(r),e.moveZone.setShape(r),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",r.x+r.width/2));for(var a=e.dataShadowSegs,s=[0,n[0],n[1],o[0]],l=0;l<a.length;l++){var h=a[l],c=h.getClipPath();c||(c=new vo.A,h.setClipPath(c)),c.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,r=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,h=t?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();r=[this._formatLabel(h[0],s),this._formatLabel(h[1],s)]}}var u=(0,_.Y6)(this._handleEnds.slice());function c(t){var e=Hn.getTransform(i.handles[t].parent,this.group),a=Hn.transformDirection(0===t?"right":"left",e),s=this._handleWidth/2+rP,l=Hn.applyTransform([u[t]+(0===t?-s:s),this._size[1]/2],e);n[t].setStyle({x:l[0],y:l[1],verticalAlign:o===nP?"middle":a,align:o===nP?a:"center",text:r[t]})}c.call(this,0),c.call(this,1)},e.prototype._formatLabel=function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var r=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return(0,u.Tn)(n)?n(t,r):(0,u.Kg)(n)?n.replace("{value}",r):r},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,i=e.handleLabels;i[0].attr("invisible",!t),i[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,i,n){this._dragging=!0,Kh.ds(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),r=Hn.applyTransform([e,i],o,!0),a=this._updateInterval(t,r[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,r=this._updateInterval("all",i[0]-o);this._updateView(),r&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,i=t.offsetY;this._brushStart=new w.A(e,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var i=e.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),r=[0,100];this._range=(0,_.Y6)([(0,_.Cb)(i.x,o,r,!0),(0,_.Cb)(i.x+i.width,o,r,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Kh.ds(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var i=this._displayables,n=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new Jk({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var r=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),l=a.transformCoordToLocal(r.x,r.y),h=this._size;s[0]=Math.max(Math.min(h[0],s[0]),0),o.setShape({x:l[0],y:0,width:s[0]-l[0],height:h[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?sP:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=EA(this.dataZoomModel).infoList;if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var n=this.api.getWidth(),o=this.api.getHeight();t={x:.2*n,y:.2*o,width:.6*n,height:.6*o}}return t},e.type="dataZoom.slider",e}(XA);function hP(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function uP(t){return"vertical"===t?"ns-resize":"ew-resize"}var cP=lP;function dP(t){t.registerComponentModel(Kk),t.registerComponentView(cP),iC(t)}function pP(t){f(Zk),f(dP)}var gP={get:function(t,e,i){var n=u.o8((fP[t]||{})[e]);return i&&u.cy(n)?n[n.length-1]:n}},fP={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mP=gP,yP=mg.mapVisual,vP=mg.eachVisual,xP=u.cy,_P=u.__,bP=_.Y6,wP=_.Cb,MP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,e){var i=this.option;!e&&aD(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=u.oI(t,this),this.controllerVisuals=rD(this.option.controller,e,t),this.targetVisuals=rD(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,i){e.push(i)})):e=m.qB(t),e},e.prototype.eachTargetSeries=function(t,e){u.__(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&t.call(e,n)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(i){i===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,i){var n,o=this.option,r=o.precision,a=this.dataBound,s=o.formatter;i=i||["<",">"],u.cy(t)&&(t=t.slice(),n=!0);var l=e?t:n?[h(t[0]),h(t[1])]:h(t);return u.Kg(s)?s.replace("{value}",n?l[0]:l).replace("{value2}",n?l[1]:l):u.Tn(s)?n?s(t[0],t[1]):s(t):n?t[0]===a[0]?i[0]+" "+l[1]:t[1]===a[1]?i[1]+" "+l[0]:l[0]+" - "+l[1]:l;function h(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(r,20))}},e.prototype.resetExtent=function(){var t=this.option,e=bP([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var i=t.dimensions,n=i.length-1;n>=0;n--){var o=i[n],r=t.getDimensionInfo(o);if(!r.isCalculationCoord)return r.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),o=e.controller||(e.controller={});u.h1(n,i),u.h1(o,i);var r=this.isCategory();function a(i){xP(e.color)&&!i.inRange&&(i.inRange={color:e.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get("gradientColor")}}function s(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},_P(n,(function(t,e){if(mg.isValidType(e)){var i=mP.get(e,"inactive",r);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}function l(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor"),o=this.getItemSymbol(),a=o||"roundRect";_P(this.stateList,(function(o){var s=this.itemSize,l=t[o];l||(l=t[o]={color:r?n:[n]}),null==l.symbol&&(l.symbol=e&&u.o8(e)||(r?a:[a])),null==l.symbolSize&&(l.symbolSize=i&&u.o8(i)||(r?s[0]:[s[0],s[0]])),l.symbol=yP(l.symbol,(function(t){return"none"===t?a:t}));var h=l.symbolSize;if(null!=h){var c=-1/0;vP(h,(function(t){t>c&&(c=t)})),l.symbolSize=yP(h,(function(t){return wP(t,[0,c],[0,s[0]],!0)}))}}),this)}a.call(this,n),a.call(this,o),s.call(this,n,"inRange","outOfRange"),l.call(this,o)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(l.A),SP=MP,IP=[20,140],AP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.optionUpdated=function(e,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=IP[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=IP[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):u.cy(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),u.__(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=_.Y6((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)}),this),e.push({seriesId:i.id,dataIndex:n})}),this),e},e.prototype.getVisualMeta=function(t){var e=CP(this,"outOfRange",this.getExtent()),i=CP(this,"inRange",this.option.range.slice()),n=[];function o(e,i){n.push({value:e,color:t(e,i)})}for(var r=0,a=0,s=i.length,l=e.length;a<l&&(!i.length||e[a]<=i[0]);a++)e[a]<i[r]&&o(e[a],"outOfRange");for(var h=1;r<s;r++,h=0)h&&n.length&&o(i[r],"outOfRange"),o(i[r],"inRange");for(h=1;a<l;a++)(!i.length||i[i.length-1]<e[a])&&(h&&(n.length&&o(n[n.length-1].value,"outOfRange"),h=0),o(e[a],"outOfRange"));var u=n.length;return{stops:n,outerColors:[u?n[0].color:"transparent",u?n[u-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=(0,dr.G_)(SP.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(SP);function CP(t,e,i){if(i[0]===i[1])return i.slice();for(var n=200,o=(i[1]-i[0])/n,r=i[0],a=[],s=0;s<=n&&r<i[1];s++)a.push(r),r+=o;return a.push(i[1]),a}var TP=AP,DP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return(0,Pi.C6)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,i,n){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,i,n):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,i=So.QX(e.get("padding")||0),n=t.getBoundingRect();t.add(new vo.A({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,i){i=i||{};var n=i.forceState,o=this.visualMapModel,r={};if("color"===e){var a=o.get("contentColor");r.color=a}function s(t){return r[t]}function l(t,e){r[t]=e}var h=o.controllerVisuals[n||o.getValueState(t)],c=mg.prepareVisualTypes(h);return u.__(c,(function(n){var o=h[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=h.__alphaForOpacity),mg.dependsOn(n,e)&&o&&o.applyVisual(t,s,l)})),r[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,i=this.api;Kr.m$(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,e,i,n){},e.type="visualMap",e}(a.A),LP=DP,kP=[["left","right","width"],["top","bottom","height"]];function PP(t,e,i){var n=t.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var r={width:e.getWidth(),height:e.getHeight()},a="horizontal"===n.orient?1:0,s=kP[a],l=[0,null,10],h={},u=0;u<3;u++)h[kP[1-a][u]]=l[u],h[s[u]]=2===u?i[0]:n[s[u]];var c=[["x","width",3],["y","height",0]][a],d=(0,Kr.dV)(h,r,n.padding);return s[(d.margin[c[2]]||0)+d[c[0]]+.5*d[c[1]]<.5*r[c[1]]?0:1]}function OP(t,e){return u.__(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var NP=_.Cb,RP=u.__,EP=Math.min,zP=Math.max,VP=12,BP=6,FP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return(0,Pi.C6)(e,t),e.prototype.init=function(e,i){t.prototype.init.call(this,e,i),this._hoverLinkFromSeriesMouseOver=u.oI(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=u.oI(this._hideIndicator,this)},e.prototype.doRender=function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,r=o.get("textGap"),a=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===i?-r:a[1]+r],s),h=this._applyTransform(0===i?"bottom":"top",s),u=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new Ne.Ay({style:(0,st.VB)(c,{x:l[0],y:l[1],verticalAlign:"horizontal"===u?"middle":h,align:"horizontal"===u?h:"center",text:n})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,r=this._useHandle,a=PP(e,this.api,n),s=i.mainGroup=this._createBarGroup(a),l=new Fn.A;s.add(l),l.add(i.outOfRange=WP()),l.add(i.inRange=WP(null,r?XP(this._orient):null,u.oI(this._dragHandle,this,"all",!1),u.oI(this._dragHandle,this,"all",!0))),l.setClipPath(new vo.A({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var h=e.textStyleModel.getTextRect("国"),c=zP(h.width,h.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(e,s,0,n,c,o),this._createHandle(e,s,1,n,c,o)),this._createIndicator(e,s,n,c,o),t.add(s)},e.prototype._createHandle=function(t,e,i,n,o,r){var a=u.oI(this._dragHandle,this,i,!1),s=u.oI(this._dragHandle,this,i,!0),l=(0,Ht.lo)(t.get("handleSize"),n[0]),h=(0,Bn.v5)(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),c=XP(this._orient);h.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){Kh.ds(t.event)}}),h.x=n[0]/2,h.useStyle(t.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,L.ix)(h,!0),e.add(h);var d=this.visualMapModel.textStyleModel,p=new Ne.Ay({cursor:c,draggable:!0,drift:a,onmousemove:function(t){Kh.ds(t.event)},ondragend:s,style:(0,st.VB)(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[l,0],f=this._shapes;f.handleThumbs[i]=h,f.handleLabelPoints[i]=g,f.handleLabels[i]=p},e.prototype._createIndicator=function(t,e,i,n,o){var r=(0,Ht.lo)(t.get("indicatorSize"),i[0]),a=(0,Bn.v5)(t.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(a instanceof Gt.Ay){var l=a.style;a.useStyle(u.X$({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);e.add(a);var h=this.visualMapModel.textStyleModel,c=new Ne.Ay({silent:!0,invisible:!0,style:(0,st.VB)(h,{x:0,y:0,text:""})});this.group.add(c);var d=[("horizontal"===o?n/2:BP)+i[0]/2,0],p=this._shapes;p.indicator=a,p.indicatorLabel=c,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():HP(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[NP(e[0],i,n,!0),NP(e[1],i,n,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];cy(e,n,o,t,0);var r=i.getExtent();this._dataInterval=[NP(n[0],o,r,!0),NP(n[1],o,r,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],r=t?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),n.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(r,a)},e.prototype._createBarVisual=function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(t,o),a=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(i,a);return{barColor:new lo.A(0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var i=100,n=[],o=(t[1]-t[0])/i;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<i;r++){var a=t[0]+o*r;if(a>t[1])break;n.push({color:this.getControllerVisual(a,"color",e),offset:r/i})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new Fn.A("horizontal"!==e||i?"horizontal"===e&&i?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||i?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,r=i.handleLabels,a=n.itemSize,s=n.getExtent();RP([0,1],(function(l){var h=o[l];h.setStyle("fill",e.handlesColor[l]),h.y=t[l];var u=NP(t[l],[0,a[1]],s,!0),c=this.getControllerVisual(u,"symbolSize");h.scaleX=h.scaleY=c/a[0],h.x=a[0]-c/2;var d=Hn.applyTransform(i.handleLabelPoints[l],Hn.getTransform(h,this.group));r[l].setStyle({x:d[0],y:d[1],text:n.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,i,n){var o=this.visualMapModel,r=o.getExtent(),a=o.itemSize,s=[0,a[1]],l=this._shapes,h=l.indicator;if(h){h.attr("invisible",!1);var u={convertOpacityToAlpha:!0},c=this.getControllerVisual(t,"color",u),d=this.getControllerVisual(t,"symbolSize"),p=NP(t,r,s,!0),g=a[0]-d/2,f={x:h.x,y:h.y};h.y=p,h.x=g;var m=Hn.applyTransform(l.indicatorLabelPoint,Hn.getTransform(h,this.group)),y=l.indicatorLabel;y.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),x=this._orient,_="horizontal"===x;y.setStyle({text:(i||"")+o.formatValueText(e),verticalAlign:_?v:"middle",align:_?"center":v});var b={x:g,y:p,style:{fill:c}},w={style:{x:m[0],y:m[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var M={duration:100,easing:"cubicInOut",additive:!0};h.x=f.x,h.y=f.y,h.animateTo(b,M),y.animateTo(w,M)}else h.attr(b),y.attr(w);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var I=0;I<S.length;I++)this.api.enterBlur(S[I])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);n[1]=EP(zP(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],r=i.getExtent();t=EP(zP(o[0],t),o[1]);var a=GP(i,r,o),s=[t-a,t+a],l=NP(t,o,r,!0),h=[NP(s[0],o,r,!0),NP(s[1],o,r,!0)];s[0]<o[0]&&(h[0]=-1/0),s[1]>o[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(l,h[1],"< ",a):h[1]===1/0?this._showIndicator(l,h[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var u=this._hoverLinkDataIndices,c=[];(e||HP(i))&&(c=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var d=m.D6(u,c);this._dispatchHighDown("downplay",OP(d[0],i)),this._dispatchHighDown("highlight",OP(d[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if((0,pd.R)(t.target,(function(t){var i=(0,x.z)(t);if(null!=i.dataIndex)return e=i,!0}),!0),e){var i=this.ecModel.getSeriesByIndex(e.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(i)){var o=i.getData(e.dataType),r=o.getStore().get(n.getDataDimensionIndex(o),e.dataIndex);isNaN(r)||this._showIndicator(r,r)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var i=0;i<e.length;i++)this.api.leaveBlur(e[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",OP(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,i,n){var o=Hn.getTransform(e,n?null:this.group);return u.cy(t)?Hn.applyTransform(t,o,i):Hn.transformDirection(t,o,i)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(LP);function WP(t,e,i,n){return new Lh.A({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){Kh.ds(t.event)},ondragend:n})}function GP(t,e,i){var n=VP/2,o=t.get("hoverLinkDataSize");return o&&(n=NP(o,e,i,!0)/2),n}function HP(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function XP(t){return"vertical"===t?"ns-resize":"ew-resize"}var jP=FP,YP={type:"selectDataRange",event:"dataRangeSelected",update:"update"},$P=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},UP=[{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent("visualMap",(function(e){var n=t.pipelineContext;!e.isTargetSeries(t)||n&&n.large||i.push(lD(e.stateList,e.targetVisuals,u.oI(e.getValueState,e),e.getDataDimensionIndex(t.getData())))})),i}},{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(u.oI(ZP,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimensionIndex(i);r>=0&&(o.dimension=r,n.push(o))}})),t.getData().setVisual("visualMeta",n)}}];function ZP(t,e,i,n){for(var o=e.targetVisuals[n],r=mg.prepareVisualTypes(o),a={color:(0,iD.rI)(t.getData(),"color")},s=0,l=r.length;s<l;s++){var h=r[s],u=o["opacity"===h?"__alphaForOpacity":h];u&&u.applyVisual(i,c,d)}return a.color;function c(t){return a[t]}function d(t,e){a[t]=e}}var qP=u.__;function KP(t){var e=t&&t.visualMap;u.cy(e)||(e=e?[e]:[]),qP(e,(function(t){if(t){JP(t,"splitList")&&!JP(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&u.cy(e)&&qP(e,(function(t){u.Gv(t)&&(JP(t,"start")&&!JP(t,"min")&&(t.min=t.start),JP(t,"end")&&!JP(t,"max")&&(t.max=t.end))}))}}))}function JP(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var QP=!1;function tO(t){QP||(QP=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(YP,$P),(0,u.__)(UP,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(KP))}function eO(t){t.registerComponentModel(TP),t.registerComponentView(jP),tO(t)}var iO=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._pieceList=[],i}return(0,Pi.C6)(e,t),e.prototype.optionUpdated=function(e,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],nO[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var o=this.option.categories;this.resetVisual((function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=u.o8(o)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=u.Tj(this._pieceList,(function(t){return t=u.o8(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,i={},n=mg.listVisualTypes(),o=this.isCategory();function r(t,e,i){return t&&t[e]&&t[e].hasOwnProperty(i)}u.__(e.pieces,(function(t){u.__(n,(function(e){t.hasOwnProperty(e)&&(i[e]=1)}))})),u.__(i,(function(t,i){var n=!1;u.__(this.stateList,(function(t){n=n||r(e,t,i)||r(e.target,t,i)}),this),!n&&u.__(this.stateList,(function(t){(e[t]||(e[t]={}))[i]=mP.get(i,"inRange"===t?"active":"inactive",o)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,u.__(n,(function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0)}),this),"single"===i.selectedMode){var r=!1;u.__(n,(function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(r?o[i]=!1:r=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=u.o8(t)},e.prototype.getValueState=function(t){var e=mg.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],i=this._pieceList;return this.eachTargetSeries((function(n){var o=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(e,n){var r=mg.findPieceIndex(e,i);r===t&&o.push(n)}),this),e.push({seriesId:n.id,dataIndex:o})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],i=["",""],n=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&&o.unshift({interval:[-1/0,r]}),r=o[o.length-1].interval[1],r!==1/0&&o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return u.__(o,(function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])}),this),{stops:e,outerColors:i}}function s(o,r){var a=n.getRepresentValue({interval:o});r||(r=n.getValueState(a));var s=t(a,r);o[0]===-1/0?i[0]=s:o[1]===1/0?i[1]=s:e.push({value:o[0],color:s},{value:o[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=(0,dr.G_)(SP.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(SP),nO={splitNumber:function(t){var e=this.option,i=Math.min(e.precision,20),n=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;var r=(n[1]-n[0])/o;while(+r.toFixed(i)!==r&&i<5)i++;e.precision=i,r=+r.toFixed(i),e.minOpen&&t.push({interval:[-1/0,n[0]],close:[0,0]});for(var a=0,s=n[0];a<o;s+=r,a++){var l=a===o-1?n[1]:s+r;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[n[1],1/0],close:[0,0]}),(0,_.sL)(t),u.__(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;u.__(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),oO(e,t)},pieces:function(t){var e=this.option;u.__(e.pieces,(function(e,i){u.Gv(e)||(e={value:e});var n={text:"",index:i};if(null!=e.label&&(n.text=e.label),e.hasOwnProperty("value")){var o=n.value=e.value;n.interval=[o,o],n.close=[1,1]}else{for(var r=n.interval=[],a=n.close=[0,0],s=[1,0,1],l=[-1/0,1/0],h=[],c=0;c<2;c++){for(var d=[["gte","gt","min"],["lte","lt","max"]][c],p=0;p<3&&null==r[c];p++)r[c]=e[d[p]],a[c]=s[p],h[c]=2===p;null==r[c]&&(r[c]=l[c])}h[0]&&r[1]===1/0&&(a[0]=0),h[1]&&r[0]===-1/0&&(a[1]=0),r[0]===r[1]&&a[0]&&a[1]&&(n.value=r[0])}n.visual=mg.retrieveVisuals(e),t.push(n)}),this),oO(e,t),(0,_.sL)(t),u.__(t,(function(t){var e=t.close,i=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)}),this)}};function oO(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}var rO=iO,aO=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,Pi.C6)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get("textGap"),n=e.textStyleModel,o=n.getFont(),r=n.getTextColor(),a=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),h=l.endsText,c=u.Je(e.get("showLabel",!0),!h);h&&this._renderEndsText(t,h[0],s,c,a),u.__(l.viewPieceList,(function(n){var l=n.piece,h=new Fn.A;h.onclick=u.oI(this._onItemClick,this,l),this._enableHoverLink(h,n.indexInModelPieceList);var d=e.getRepresentValue(l);if(this._createItemSymbol(h,d,[0,0,s[0],s[1]]),c){var p=this.visualMapModel.getValueState(d);h.add(new Ne.Ay({style:{x:"right"===a?-i:s[0]+i,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:o,fill:r,opacity:"outOfRange"===p?.5:1}}))}t.add(h)}),this),h&&this._renderEndsText(t,h[1],s,c,a),Kr.aP(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var i=this;t.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(t){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:t,batch:OP(n.findTargetDataIndices(e),n)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return PP(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},e.prototype._renderEndsText=function(t,e,i,n,o){if(e){var r=new Fn.A,a=this.visualMapModel.textStyleModel;r.add(new Ne.Ay({style:(0,st.VB)(a,{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:e})})),t.add(r)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=u.Tj(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),i=t.get("text"),n=t.get("orient"),o=t.get("inverse");return("horizontal"===n?o:!o)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},e.prototype._createItemSymbol=function(t,e,i){t.add((0,Bn.v5)(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,i=e.option,n=i.selectedMode;if(n){var o=u.o8(i.selected),r=e.getSelectedMapKey(t);"single"===n||!0===n?(o[r]=!0,u.__(o,(function(t,e){o[e]=e===r}))):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(LP),sO=aO;function lO(t){t.registerComponentModel(rO),t.registerComponentView(sO),tO(t)}function hO(t){f(eO),f(lO)}var uO={label:{enabled:!0},decal:{show:!1}},cO=(0,m.$r)(),dO={};function pO(t,e){var i=t.getModel("aria");if(i.get("enabled")){var n=u.o8(uO);u.h1(n.label,t.getLocaleModel().get("aria"),!1),u.h1(i.option,n,!1),o(),r()}function o(){var e=i.getModel("decal"),n=e.get("show");if(n){var o=u.nt();t.eachSeries((function(t){if(!t.isColorBySeries()){var e=o.get(t.type);e||(e={},o.set(t.type,e)),cO(t).scope=e}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(u.Tn(e.enableAriaDecal))e.enableAriaDecal();else{var i=e.getData();if(e.isColorBySeries()){var n=(0,bp.x)(e.ecModel,e.name,dO,t.getSeriesCount()),o=i.getVisual("decal");i.setVisual("decal",h(o,n))}else{var r=e.getRawData(),a={},s=cO(e).scope;i.each((function(t){var e=i.getRawIndex(t);a[e]=t}));var l=r.count();r.each((function(t){var n=a[t],o=r.getName(t)||t+"",u=(0,bp.x)(e.ecModel,o,s,l),c=i.getItemVisual(n,"decal");i.setItemVisual(n,"decal",h(c,u))}))}}function h(t,e){var i=t?u.X$(u.X$({},e),t):e;return i.dirty=!0,i}}))}}function r(){var n=e.getZr().dom;if(n){var o=t.getLocaleModel().get("aria"),r=i.getModel("label");if(r.option=u.NT(r.option,o),r.get("enabled"))if(r.get("description"))n.setAttribute("aria-label",r.get("description"));else{var h,c=t.getSeriesCount(),d=r.get(["data","maxCount"])||10,p=r.get(["series","maxCount"])||10,g=Math.min(c,p);if(!(c<1)){var f=s();if(f){var m=r.get(["general","withTitle"]);h=a(m,{title:f})}else h=r.get(["general","withoutTitle"]);var y=[],v=c>1?r.get(["series","multiple","prefix"]):r.get(["series","single","prefix"]);h+=a(v,{seriesCount:c}),t.eachSeries((function(t,e){if(e<g){var i=void 0,n=t.get("name"),o=n?"withName":"withoutName";i=c>1?r.get(["series","multiple",o]):r.get(["series","single",o]),i=a(i,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:l(t.subType)});var s=t.getData();if(s.count()>d){var h=r.get(["data","partialData"]);i+=a(h,{displayCnt:d})}else i+=r.get(["data","allData"]);for(var u=r.get(["data","separator","middle"]),p=r.get(["data","separator","end"]),f=[],m=0;m<s.count();m++)if(m<d){var v=s.getName(m),x=s.getValues(m),_=r.get(["data",v?"withName":"withoutName"]);f.push(a(_,{name:v,value:x.join(u)}))}i+=f.join(u)+p,y.push(i)}}));var x=r.getModel(["series","multiple","separator"]),_=x.get("middle"),b=x.get("end");h+=y.join(_)+b,n.setAttribute("aria-label",h)}}}}function a(t,e){if(!u.Kg(t))return t;var i=t;return u.__(e,(function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),i}function s(){var e=t.get("title");return e&&e.length&&(e=e[0]),e&&e.text}function l(e){var i=t.getLocaleModel().get(["series","typeNames"]);return i[e]||i.chart}}function gO(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},u.__(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}function fO(t){t.registerPreprocessor(gO),t.registerVisual(t.PRIORITY.VISUAL.ARIA,pO)}var mO={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},yO=function(){function t(t){var e=this._condVal=(0,u.Kg)(t)?new RegExp(t):(0,u.gd)(t)?t:null;if(null==e){var i="";0,(0,zx.$8)(i)}}return t.prototype.evaluate=function(t){var e=typeof t;return(0,u.Kg)(e)?this._condVal.test(t):!!(0,u.Et)(e)&&this._condVal.test(t+"")},t}(),vO=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),xO=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),_O=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),bO=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),wO=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,i=e(this.valueGetterParam),n=t?this.valueParser(i):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?n:i))return!1;return!0},t}();function MO(t,e){if(!0===t||!1===t){var i=new vO;return i.value=t,i}var n="";return CO(t)||(0,zx.$8)(n),t.and?SO("and",t,e):t.or?SO("or",t,e):t.not?IO(t,e):AO(t,e)}function SO(t,e,i){var n=e[t],o="";(0,u.cy)(n)||(0,zx.$8)(o),n.length||(0,zx.$8)(o);var r="and"===t?new xO:new _O;return r.children=(0,u.Tj)(n,(function(t){return MO(t,i)})),r.children.length||(0,zx.$8)(o),r}function IO(t,e){var i=t.not,n="";CO(i)||(0,zx.$8)(n);var o=new bO;return o.child=MO(i,e),o.child||(0,zx.$8)(n),o}function AO(t,e){for(var i="",n=e.prepareGetValue(t),o=[],r=(0,u.HP)(t),a=t.parser,s=a?(0,pL.zC)(a):null,l=0;l<r.length;l++){var h=r[l];if("parser"!==h&&!e.valueGetterAttrMap.get(h)){var c=(0,u.$3)(mO,h)?mO[h]:h,d=t[h],p=s?s(d):d,g=(0,pL.zs)(c,p)||"reg"===c&&new yO(p);g||(0,zx.$8)(i),o.push(g)}}o.length||(0,zx.$8)(i);var f=new wO;return f.valueGetterParam=n,f.valueParser=s,f.getValue=e.getValue,f.subCondList=o,f}function CO(t){return(0,u.Gv)(t)&&!(0,u.Xj)(t)}var TO=function(){function t(t,e){this._cond=MO(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function DO(t,e){return new TO(t,e)}var LO={type:"echarts:filter",transform:function(t){for(var e,i=t.upstream,n=DO(t.config,{valueGetterAttrMap:(0,u.nt)({dimension:!0}),prepareGetValue:function(t){var e="",n=t.dimension;(0,u.$3)(t,"dimension")||(0,zx.$8)(e);var o=i.getDimensionInfo(n);return o||(0,zx.$8)(e),{dimIdx:o.index}},getValue:function(t){return i.retrieveValueFromItem(e,t.dimIdx)}}),o=[],r=0,a=i.count();r<a;r++)e=i.getRawDataItem(r),n.evaluate()&&o.push(e);return{data:o}}};var kO={type:"echarts:sort",transform:function(t){var e=t.upstream,i=t.config,n="",o=(0,m.qB)(i);o.length||(0,zx.$8)(n);var r=[];(0,u.__)(o,(function(t){var i=t.dimension,o=t.order,a=t.parser,s=t.incomparable;if(null==i&&(0,zx.$8)(n),"asc"!==o&&"desc"!==o&&(0,zx.$8)(n),s&&"min"!==s&&"max"!==s){var l="";0,(0,zx.$8)(l)}if("asc"!==o&&"desc"!==o){var h="";0,(0,zx.$8)(h)}var u=e.getDimensionInfo(i);u||(0,zx.$8)(n);var c=a?(0,pL.zC)(a):null;a&&!c&&(0,zx.$8)(n),r.push({dimIdx:u.index,parser:c,comparator:new pL.Fl(o,s)})}));var a=e.sourceFormat;a!==Bi.Km&&a!==Bi.Wk&&(0,zx.$8)(n);for(var s=[],l=0,h=e.count();l<h;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,i){for(var n=0;n<r.length;n++){var o=r[n],a=e.retrieveValueFromItem(t,o.dimIdx),s=e.retrieveValueFromItem(i,o.dimIdx);o.parser&&(a=o.parser(a),s=o.parser(s));var l=o.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};function PO(t){t.registerTransform(LO),t.registerTransform(kO)}var OO=i(972),NO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,Pi.C6)(e,t),e.prototype.init=function(e,i,n){t.prototype.init.call(this,e,i,n),this._sourceManager=new OO.R(this),(0,OO.A)(this)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),(0,OO.A)(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Bi.i_},e}(l.A),RO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,Pi.C6)(e,t),e.type="dataset",e}(a.A);function EO(t){t.registerComponentModel(NO),t.registerComponentView(RO)}var zO=I.A.CMD;function VO(t,e){return Math.abs(t-e)<1e-5}function BO(t){var e,i,n,o,r,a=t.data,s=t.len(),l=[],h=0,u=0,c=0,d=0;function p(t,i){e&&e.length>2&&l.push(e),e=[t,i]}function g(t,i,n,o){VO(t,n)&&VO(i,o)||e.push(t,i,n,o,n,o)}function f(t,i,n,o,r,a){var s=Math.abs(i-t),l=4*Math.tan(s/4)/3,h=i<t?-1:1,u=Math.cos(t),c=Math.sin(t),d=Math.cos(i),p=Math.sin(i),g=u*r+n,f=c*a+o,m=d*r+n,y=p*a+o,v=r*l*h,x=a*l*h;e.push(g-v*c,f+x*u,m+v*p,y-x*d,m,y)}for(var m=0;m<s;){var y=a[m++],v=1===m;switch(v&&(h=a[m],u=a[m+1],c=h,d=u,y!==zO.L&&y!==zO.C&&y!==zO.Q||(e=[c,d])),y){case zO.M:h=c=a[m++],u=d=a[m++],p(c,d);break;case zO.L:i=a[m++],n=a[m++],g(h,u,i,n),h=i,u=n;break;case zO.C:e.push(a[m++],a[m++],a[m++],a[m++],h=a[m++],u=a[m++]);break;case zO.Q:i=a[m++],n=a[m++],o=a[m++],r=a[m++],e.push(h+2/3*(i-h),u+2/3*(n-u),o+2/3*(i-o),r+2/3*(n-r),o,r),h=o,u=r;break;case zO.A:var x=a[m++],_=a[m++],b=a[m++],w=a[m++],M=a[m++],S=a[m++]+M;m+=1;var I=!a[m++];i=Math.cos(M)*b+x,n=Math.sin(M)*w+_,v?(c=i,d=n,p(c,d)):g(h,u,i,n),h=Math.cos(S)*b+x,u=Math.sin(S)*w+_;for(var A=(I?-1:1)*Math.PI/2,C=M;I?C>S:C<S;C+=A){var T=I?Math.max(C+A,S):Math.min(C+A,S);f(C,T,x,_,b,w)}break;case zO.R:c=h=a[m++],d=u=a[m++],i=c+a[m++],n=d+a[m++],p(i,d),g(i,d,i,n),g(i,n,c,n),g(c,n,c,d),g(c,d,i,d);break;case zO.Z:e&&g(h,u,c,d),h=c,u=d;break}}return e&&e.length>2&&l.push(e),l}function FO(t,e,i,n,o,r,a,s,l,h){if(VO(t,i)&&VO(e,n)&&VO(o,a)&&VO(r,s))l.push(a,s);else{var u=2/h,c=u*u,d=a-t,p=s-e,g=Math.sqrt(d*d+p*p);d/=g,p/=g;var f=i-t,m=n-e,y=o-a,v=r-s,x=f*f+m*m,_=y*y+v*v;if(x<c&&_<c)l.push(a,s);else{var b=d*f+p*m,w=-d*y-p*v,M=x-b*b,S=_-w*w;if(M<c&&b>=0&&S<c&&w>=0)l.push(a,s);else{var I=[],A=[];(0,C.YT)(t,i,o,a,.5,I),(0,C.YT)(e,n,r,s,.5,A),FO(I[0],A[0],I[1],A[1],I[2],A[2],I[3],A[3],l,h),FO(I[4],A[4],I[5],A[5],I[6],A[6],I[7],A[7],l,h)}}}}function WO(t,e){var i=BO(t),n=[];e=e||1;for(var o=0;o<i.length;o++){var r=i[o],a=[],s=r[0],l=r[1];a.push(s,l);for(var h=2;h<r.length;){var u=r[h++],c=r[h++],d=r[h++],p=r[h++],g=r[h++],f=r[h++];FO(s,l,u,c,d,p,g,f,a,e),s=g,l=f}n.push(a)}return n}function GO(t,e,i){var n=t[e],o=t[1-e],r=Math.abs(n/o),a=Math.ceil(Math.sqrt(r*i)),s=Math.floor(i/a);0===s&&(s=1,a=i);for(var l=[],h=0;h<a;h++)l.push(s);var u=a*s,c=i-u;if(c>0)for(h=0;h<c;h++)l[h%a]+=1;return l}function HO(t,e,i){for(var n=t.r0,o=t.r,r=t.startAngle,a=t.endAngle,s=Math.abs(a-r),l=s*o,h=o-n,u=l>Math.abs(h),c=GO([l,h],u?0:1,e),d=(u?s:h)/c.length,p=0;p<c.length;p++)for(var g=(u?h:s)/c[p],f=0;f<c[p];f++){var m={};u?(m.startAngle=r+d*p,m.endAngle=r+d*(p+1),m.r0=n+g*f,m.r=n+g*(f+1)):(m.startAngle=r+g*f,m.endAngle=r+g*(f+1),m.r0=n+d*p,m.r=n+d*(p+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,i.push(m)}}function XO(t,e,i){for(var n=t.width,o=t.height,r=n>o,a=GO([n,o],r?0:1,e),s=r?"width":"height",l=r?"height":"width",h=r?"x":"y",u=r?"y":"x",c=t[s]/a.length,d=0;d<a.length;d++)for(var p=t[l]/a[d],g=0;g<a[d];g++){var f={};f[h]=d*c,f[u]=g*p,f[s]=c,f[l]=p,f.x+=t.x,f.y+=t.y,i.push(f)}}function jO(t,e,i,n){return t*n-i*e}function YO(t,e,i,n,o,r,a,s){var l=i-t,h=n-e,u=a-o,c=s-r,d=jO(u,c,l,h);if(Math.abs(d)<1e-6)return null;var p=t-o,g=e-r,f=jO(p,g,u,c)/d;return f<0||f>1?null:new w.A(f*l+t,f*h+e)}function $O(t,e,i){var n=new w.A;w.A.sub(n,i,e),n.normalize();var o=new w.A;w.A.sub(o,t,e);var r=o.dot(n);return r}function UO(t,e){var i=t[t.length-1];i&&i[0]===e[0]&&i[1]===e[1]||t.push(e)}function ZO(t,e,i){for(var n=t.length,o=[],r=0;r<n;r++){var a=t[r],s=t[(r+1)%n],l=YO(a[0],a[1],s[0],s[1],e.x,e.y,i.x,i.y);l&&o.push({projPt:$O(l,e,i),pt:l,idx:r})}if(o.length<2)return[{points:t},{points:t}];o.sort((function(t,e){return t.projPt-e.projPt}));var h=o[0],u=o[o.length-1];if(u.idx<h.idx){var c=h;h=u,u=c}var d=[h.pt.x,h.pt.y],p=[u.pt.x,u.pt.y],g=[d],f=[p];for(r=h.idx+1;r<=u.idx;r++)UO(g,t[r].slice());UO(g,p),UO(g,d);for(r=u.idx+1;r<=h.idx+n;r++)UO(f,t[r%n].slice());return UO(f,d),UO(f,p),[{points:g},{points:f}]}function qO(t){var e=t.points,i=[],n=[];(0,Od.Cr)(e,i,n);var o=new y.A(i[0],i[1],n[0]-i[0],n[1]-i[1]),r=o.width,a=o.height,s=o.x,l=o.y,h=new w.A,u=new w.A;return r>a?(h.x=u.x=s+r/2,h.y=l,u.y=l+a):(h.y=u.y=l+a/2,h.x=s,u.x=s+r),ZO(e,h,u)}function KO(t,e,i,n){if(1===i)n.push(e);else{var o=Math.floor(i/2),r=t(e);KO(t,r[0],o,n),KO(t,r[1],i-o,n)}return n}function JO(t,e){for(var i=[],n=0;n<e;n++)i.push((0,gu.rR)(t));return i}function QO(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function tN(t){for(var e=[],i=0;i<t.length;)e.push([t[i++],t[i++]]);return e}function eN(t,e){var i,n=[],o=t.shape;switch(t.type){case"rect":XO(o,e,n),i=vo.A;break;case"sector":HO(o,e,n),i=xo.A;break;case"circle":HO({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},e,n),i=xo.A;break;default:var r=t.getComputedTransform(),a=r?Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3])):1,s=(0,u.Tj)(WO(t.getUpdatedPathProxy(),a),(function(t){return tN(t)})),l=s.length;if(0===l)KO(qO,{points:s[0]},e,n);else if(l===e)for(var h=0;h<l;h++)n.push({points:s[h]});else{var c=0,d=(0,u.Tj)(s,(function(t){var e=[],i=[];(0,Od.Cr)(t,e,i);var n=(i[1]-e[1])*(i[0]-e[0]);return c+=n,{poly:t,area:n}}));d.sort((function(t,e){return e.area-t.area}));var p=e;for(h=0;h<l;h++){var g=d[h];if(p<=0)break;var f=h===l-1?p:Math.ceil(g.area/c*e);f<0||(KO(qO,{points:g.poly},f,n),p-=f)}}i=Lh.A;break}if(!i)return JO(t,e);var m=[];for(h=0;h<n.length;h++){var y=new i;y.setShape(n[h]),QO(t,y),m.push(y)}return m}function iN(t,e){var i=t.length,n=e.length;if(i===n)return[t,e];for(var o=[],r=[],a=i<n?t:e,s=Math.min(i,n),l=Math.abs(n-i)/6,h=(s-2)/6,u=Math.ceil(l/h)+1,c=[a[0],a[1]],d=l,p=2;p<s;){var g=a[p-2],f=a[p-1],m=a[p++],y=a[p++],v=a[p++],x=a[p++],_=a[p++],b=a[p++];if(d<=0)c.push(m,y,v,x,_,b);else{for(var w=Math.min(d,u-1)+1,M=1;M<=w;M++){var S=M/w;(0,C.YT)(g,m,v,_,S,o),(0,C.YT)(f,y,x,b,S,r),g=o[3],f=r[3],c.push(o[1],r[1],o[2],r[2],g,f),m=o[5],y=r[5],v=o[6],x=r[6]}d-=w-1}}return a===t?[c,e]:[t,c]}function nN(t,e){for(var i=t.length,n=t[i-2],o=t[i-1],r=[],a=0;a<e.length;)r[a++]=n,r[a++]=o;return r}function oN(t,e){for(var i,n,o,r=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],h=e[s],u=void 0,c=void 0;l?h?(i=iN(l,h),u=i[0],c=i[1],n=u,o=c):(c=nN(o||l,l),u=l):(u=nN(n||h,h),c=h),r.push(u),a.push(c)}return[r,a]}function rN(t){for(var e=0,i=0,n=0,o=t.length,r=0,a=o-2;r<o;a=r,r+=2){var s=t[a],l=t[a+1],h=t[r],u=t[r+1],c=s*u-h*l;e+=c,i+=(s+h)*c,n+=(l+u)*c}return 0===e?[t[0]||0,t[1]||0]:[i/e/3,n/e/3,e]}function aN(t,e,i,n){for(var o=(t.length-2)/6,r=1/0,a=0,s=t.length,l=s-2,h=0;h<o;h++){for(var u=6*h,c=0,d=0;d<s;d+=2){var p=0===d?u:(u+d-2)%l+2,g=t[p]-i[0],f=t[p+1]-i[1],m=e[d]-n[0],y=e[d+1]-n[1],v=m-g,x=y-f;c+=v*v+x*x}c<r&&(r=c,a=h)}return a}function sN(t){for(var e=[],i=t.length,n=0;n<i;n+=2)e[n]=t[i-n-2],e[n+1]=t[i-n-1];return e}function lN(t,e,i,n){for(var o,r=[],a=0;a<t.length;a++){var s=t[a],l=e[a],h=rN(s),u=rN(l);null==o&&(o=h[2]<0!==u[2]<0);var c=[],d=[],p=0,g=1/0,f=[],m=s.length;o&&(s=sN(s));for(var y=6*aN(s,l,h,u),v=m-2,x=0;x<v;x+=2){var _=(y+x)%v+2;c[x+2]=s[_]-h[0],c[x+3]=s[_+1]-h[1]}if(c[0]=s[y]-h[0],c[1]=s[y+1]-h[1],i>0)for(var b=n/i,w=-n/2;w<=n/2;w+=b){var M=Math.sin(w),S=Math.cos(w),I=0;for(x=0;x<s.length;x+=2){var A=c[x],C=c[x+1],T=l[x]-u[0],D=l[x+1]-u[1],L=T*S-D*M,k=T*M+D*S;f[x]=L,f[x+1]=k;var P=L-A,O=k-C;I+=P*P+O*O}if(I<g){g=I,p=w;for(var N=0;N<f.length;N++)d[N]=f[N]}}else for(var R=0;R<m;R+=2)d[R]=l[R]-u[0],d[R+1]=l[R+1]-u[1];r.push({from:c,to:d,fromCp:h,toCp:u,rotation:-p})}return r}function hN(t){return t.__isCombineMorphing}var uN="__mOriginal_";function cN(t,e,i){var n=uN+e,o=t[n]||t[e];t[n]||(t[n]=t[e]);var r=i.replace,a=i.after,s=i.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=r?r.apply(this,e):o.apply(this,e),a&&a.apply(this,e),t}}function dN(t,e){var i=uN+e;t[i]&&(t[e]=t[i],t[i]=null)}function pN(t,e){for(var i=0;i<t.length;i++)for(var n=t[i],o=0;o<n.length;){var r=n[o],a=n[o+1];n[o++]=e[0]*r+e[2]*a+e[4],n[o++]=e[1]*r+e[3]*a+e[5]}}function gN(t,e){var i=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),o=oN(BO(i),BO(n)),r=o[0],a=o[1],s=t.getComputedTransform(),l=e.getComputedTransform();function h(){this.transform=null}s&&pN(r,s),l&&pN(a,l),cN(e,"updateTransform",{replace:h}),e.transform=null;var u=lN(r,a,10,Math.PI),c=[];cN(e,"buildPath",{replace:function(t){for(var i=e.__morphT,n=1-i,o=[],r=0;r<u.length;r++){var a=u[r],s=a.from,l=a.to,h=a.rotation*i,d=a.fromCp,p=a.toCp,g=Math.sin(h),f=Math.cos(h);(0,D.Cc)(o,d,p,i);for(var m=0;m<s.length;m+=2){var y=s[m],v=s[m+1],x=l[m],_=l[m+1],b=y*n+x*i,w=v*n+_*i;c[m]=b*f-w*g+o[0],c[m+1]=b*g+w*f+o[1]}var M=c[0],S=c[1];t.moveTo(M,S);for(m=2;m<s.length;){x=c[m++],_=c[m++];var I=c[m++],A=c[m++],C=c[m++],T=c[m++];M===x&&S===_&&I===C&&A===T?t.lineTo(C,T):t.bezierCurveTo(x,_,I,A,C,T),M=C,S=T}}}})}function fN(t,e,i){if(!t||!e)return e;var n=i.done,o=i.during;function r(){dN(e,"buildPath"),dN(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return gN(t,e),e.__morphT=0,e.animateTo({__morphT:1},(0,u.NT)({during:function(t){e.dirtyShape(),o&&o(t)},done:function(){r(),n&&n()}},i)),e}function mN(t,e,i,n,o,r){var a=16;t=o===i?0:Math.round(32767*(t-i)/(o-i)),e=r===n?0:Math.round(32767*(e-n)/(r-n));for(var s,l=0,h=(1<<a)/2;h>0;h/=2){var u=0,c=0;(t&h)>0&&(u=1),(e&h)>0&&(c=1),l+=h*h*(3*u^c),0===c&&(1===u&&(t=h-1-t,e=h-1-e),s=t,t=e,e=s)}return l}function yN(t){var e=1/0,i=1/0,n=-1/0,o=-1/0,r=(0,u.Tj)(t,(function(t){var r=t.getBoundingRect(),a=t.getComputedTransform(),s=r.x+r.width/2+(a?a[4]:0),l=r.y+r.height/2+(a?a[5]:0);return e=Math.min(s,e),i=Math.min(l,i),n=Math.max(s,n),o=Math.max(l,o),[s,l]})),a=(0,u.Tj)(r,(function(r,a){return{cp:r,z:mN(r[0],r[1],e,i,n,o),path:t[a]}}));return a.sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function vN(t){return eN(t.path,t.count)}function xN(){return{fromIndividuals:[],toIndividuals:[],count:0}}function _N(t,e,i){var n=[];function o(t){for(var e=0;e<t.length;e++){var i=t[e];hN(i)?o(i.childrenRef()):i instanceof M.Ay&&n.push(i)}}o(t);var r=n.length;if(!r)return xN();var a=i.dividePath||vN,s=a({path:e,count:r});if(s.length!==r)return console.error("Invalid morphing: unmatched splitted path"),xN();n=yN(n),s=yN(s);for(var l=i.done,h=i.during,c=i.individualDelay,d=new b.Ay,p=0;p<r;p++){var g=n[p],f=s[p];f.parent=e,f.copyTransform(d),c||gN(g,f)}function m(t){for(var e=0;e<s.length;e++)s[e].addSelfToZr(t)}function y(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,dN(e,"addSelfToZr"),dN(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return s},cN(e,"addSelfToZr",{after:function(t){m(t)}}),cN(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<s.length;e++)s[e].removeSelfFromZr(t)}});var v=s.length;if(c){var x=v,_=function(){x--,0===x&&(y(),l&&l())};for(p=0;p<v;p++){var w=c?(0,u.NT)({delay:(i.delay||0)+c(p,v,n[p],s[p]),done:_},i):i;fN(n[p],s[p],w)}}else e.__morphT=0,e.animateTo({__morphT:1},(0,u.NT)({during:function(t){for(var i=0;i<v;i++){var n=s[i];n.__morphT=e.__morphT,n.dirtyShape()}h&&h(t)},done:function(){y();for(var e=0;e<t.length;e++)dN(t[e],"updateTransform");l&&l()}},i));return e.__zr&&m(e.__zr),{fromIndividuals:n,toIndividuals:s,count:v}}function bN(t,e,i){var n=e.length,o=[],r=i.dividePath||vN;function a(t){for(var e=0;e<t.length;e++){var i=t[e];hN(i)?a(i.childrenRef()):i instanceof M.Ay&&o.push(i)}}if(hN(t)){a(t.childrenRef());var s=o.length;if(s<n)for(var l=0,h=s;h<n;h++)o.push((0,gu.rR)(o[l++%s]));o.length=n}else{o=r({path:t,count:n});var c=t.getComputedTransform();for(h=0;h<o.length;h++)o[h].setLocalTransform(c);if(o.length!==n)return console.error("Invalid morphing: unmatched splitted path"),xN()}o=yN(o),e=yN(e);var d=i.individualDelay;for(h=0;h<n;h++){var p=d?(0,u.NT)({delay:(i.delay||0)+d(h,n,o[h],e[h])},i):i;fN(o[h],e[h],p)}return{fromIndividuals:o,toIndividuals:e,count:e.length}}function wN(t){return(0,u.cy)(t[0])}function MN(t,e){for(var i=[],n=t.length,o=0;o<n;o++)i.push({one:t[o],many:[]});for(o=0;o<e.length;o++){var r=e[o].length,a=void 0;for(a=0;a<r;a++)i[a%n].many.push(e[o][a])}var s=0;for(o=n-1;o>=0;o--)if(!i[o].many.length){var l=i[s].many;if(l.length<=1){if(!s)return i;s=0}r=l.length;var h=Math.ceil(r/2);i[o].many=l.slice(h,r),i[s].many=l.slice(0,h),s++}return i}var SN={clone:function(t){for(var e=[],i=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var o=(0,gu.rR)(t.path);o.setStyle("opacity",i),e.push(o)}return e},split:null};function IN(t,e,i,n,o,r){if(t.length&&e.length){var a=(0,v.Jw)("update",n,o);if(a&&a.duration>0){var s,l,h=n.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},a);wN(t)&&(s=t,l=e),wN(e)&&(s=e,l=t);for(var d=s?s===t:t.length>e.length,p=s?MN(l,s):MN(d?e:t,[d?t:e]),g=0,f=0;f<p.length;f++)g+=p[f].many.length;var m=0;for(f=0;f<p.length;f++)y(p[f],d,m,g),m+=p[f].many.length}}function y(t,e,n,o,a){var s=t.many,l=t.one;if(1!==s.length||a)for(var d=(0,u.NT)({dividePath:SN[i],individualDelay:h&&function(t,e,i,r){return h(t+n,o)}},c),p=e?_N(s,l,d):bN(l,s,d),g=p.fromIndividuals,f=p.toIndividuals,m=g.length,v=0;v<m;v++){b=h?(0,u.NT)({delay:h(v,m)},c):c;r(g[v],f[v],e?s[v]:t.one,e?t.one:s[v],b)}else{var x=e?s[0]:l,_=e?l:s[0];if(hN(x))y({many:[x],one:_},!0,n,o,!0);else{var b=h?(0,u.NT)({delay:h(n,o)},c):c;fN(x,_,b),r(x,_,x,_,b)}}}}function AN(t){if(!t)return[];if((0,u.cy)(t)){for(var e=[],i=0;i<t.length;i++)e.push(AN(t[i]));return e}var n=[];return t.traverse((function(t){t instanceof M.Ay&&!t.disableMorphing&&!t.invisible&&!t.ignore&&n.push(t)})),n}var CN=1e4,TN=0,DN=1,LN=2,kN=(0,m.$r)();function PN(t,e){for(var i=t.dimensions,n=0;n<i.length;n++){var o=t.getDimensionInfo(i[n]);if(o&&0===o.otherDims[e])return i[n]}}function ON(t,e,i){var n=t.getDimensionInfo(i),o=n&&n.ordinalMeta;if(n){var r=t.get(n.name,e);return o&&o.categories[r]||r+""}}function NN(t,e,i,n){var o=n?"itemChildGroupId":"itemGroupId",r=PN(t,o);if(r){var a=ON(t,e,r);return a}var s=t.getRawDataItem(e),l=n?"childGroupId":"groupId";return s&&s[l]?s[l]+"":n?void 0:i||t.getId(e)}function RN(t){var e=[];return(0,u.__)(t,(function(t){var i=t.data,n=t.dataGroupId;if(!(i.count()>CN))for(var o=i.getIndices(),r=0;r<o.length;r++)e.push({data:i,groupId:NN(i,r,n,!1),childGroupId:NN(i,r,n,!0),divide:t.divide,dataIndex:r})})),e}function EN(t,e,i){t.traverse((function(t){t instanceof M.Ay&&(0,v.LW)(t,{style:{opacity:0}},e,{dataIndex:i,isFrom:!0})}))}function zN(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function VN(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function BN(t,e,i){var n=(0,v.Jw)("update",i,e);n&&t.traverse((function(t){if(t instanceof Ac.Ay){var e=(0,v.Xr)(t);e&&t.animateFrom({style:e},n)}}))}function FN(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++){var o=t[n],r=e[n];if(o.data.getId(o.dataIndex)!==r.data.getId(r.dataIndex))return!1}return!0}function WN(t,e,i){var n=RN(t),o=RN(e);function r(t,e,i,n,o){(i||t)&&e.animateFrom({style:i&&i!==t?(0,u.X$)((0,u.X$)({},i.style),t.style):t.style},o)}var a=!1,s=TN,l=(0,u.nt)(),h=(0,u.nt)();n.forEach((function(t){t.groupId&&l.set(t.groupId,!0),t.childGroupId&&h.set(t.childGroupId,!0)}));for(var c=0;c<o.length;c++){var d=o[c].groupId;if(h.get(d)){s=DN;break}var p=o[c].childGroupId;if(p&&l.get(p)){s=LN;break}}function g(t,e){return function(i){var n=i.data,o=i.dataIndex;return e?n.getId(o):t?s===DN?i.childGroupId:i.groupId:s===LN?i.childGroupId:i.groupId}}var f=FN(n,o),m={};if(!f)for(c=0;c<o.length;c++){var y=o[c],x=y.data.getItemGraphicEl(y.dataIndex);x&&(m[x.id]=!0)}function _(t,e){var i=n[e],s=o[t],l=s.data.hostModel,h=i.data.getItemGraphicEl(i.dataIndex),u=s.data.getItemGraphicEl(s.dataIndex);h!==u?h&&m[h.id]||u&&(VN(u),h?(VN(h),zN(h),a=!0,IN(AN(h),AN(u),s.divide,l,t,r)):EN(u,l,t)):u&&BN(u,s.dataIndex,l)}new zi(n,o,g(!0,f),g(!1,f),null,"multiple").update(_).updateManyToOne((function(t,e){var i=o[t],s=i.data,l=s.hostModel,h=s.getItemGraphicEl(i.dataIndex),c=(0,u.pb)((0,u.Tj)(e,(function(t){return n[t].data.getItemGraphicEl(n[t].dataIndex)})),(function(t){return t&&t!==h&&!m[t.id]}));h&&(VN(h),c.length?((0,u.__)(c,(function(t){VN(t),zN(t)})),a=!0,IN(AN(c),AN(h),i.divide,l,t,r)):EN(h,l,i.dataIndex))})).updateOneToMany((function(t,e){var i=n[e],s=i.data.getItemGraphicEl(i.dataIndex);if(!s||!m[s.id]){var l=(0,u.pb)((0,u.Tj)(t,(function(t){return o[t].data.getItemGraphicEl(o[t].dataIndex)})),(function(t){return t&&t!==s})),h=o[t[0]].data.hostModel;l.length&&((0,u.__)(l,(function(t){return VN(t)})),s?(VN(s),zN(s),a=!0,IN(AN(s),AN(l),i.divide,h,t[0],r)):(0,u.__)(l,(function(e){return EN(e,h,t[0])})))}})).updateManyToMany((function(t,e){new zi(e,t,(function(t){return n[t].data.getId(n[t].dataIndex)}),(function(t){return o[t].data.getId(o[t].dataIndex)})).update((function(i,n){_(t[i],e[n])})).execute()})).execute(),a&&(0,u.__)(e,(function(t){var e=t.data,n=e.hostModel,o=n&&i.getViewOfSeriesModel(n),r=(0,v.Jw)("update",n,0);o&&n.isAnimationEnabled()&&r&&r.duration>0&&o.group.traverse((function(t){t instanceof M.Ay&&!t.animators.length&&t.animateFrom({style:{opacity:0}},r)}))}))}function GN(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function HN(t){return(0,u.cy)(t)?t.sort().join(","):t}function XN(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function jN(t,e){var i=(0,u.nt)(),n=(0,u.nt)(),o=(0,u.nt)();return(0,u.__)(t.oldSeries,(function(e,i){var r=t.oldDataGroupIds[i],a=t.oldData[i],s=GN(e),l=HN(s);n.set(l,{dataGroupId:r,data:a}),(0,u.cy)(s)&&(0,u.__)(s,(function(t){o.set(t,{key:l,dataGroupId:r,data:a})}))})),(0,u.__)(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId"),r=t.getData(),a=GN(t),s=HN(a),l=n.get(s);if(l)i.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:XN(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:XN(r),data:r}]});else if((0,u.cy)(a)){0;var h=[];(0,u.__)(a,(function(t){var e=n.get(t);e.data&&h.push({dataGroupId:e.dataGroupId,divide:XN(e.data),data:e.data})})),h.length&&i.set(s,{oldSeries:h,newSeries:[{dataGroupId:e,data:r,divide:XN(r)}]})}else{var c=o.get(a);if(c){var d=i.get(c.key);d||(d={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:XN(c.data)}],newSeries:[]},i.set(c.key,d)),d.newSeries.push({dataGroupId:e,data:r,divide:XN(r)})}}}})),i}function YN(t,e){for(var i=0;i<t.length;i++){var n=null!=e.seriesIndex&&e.seriesIndex===t[i].seriesIndex||null!=e.seriesId&&e.seriesId===t[i].id;if(n)return i}}function $N(t,e,i,n){var o=[],r=[];(0,u.__)((0,m.qB)(t.from),(function(t){var i=YN(e.oldSeries,t);i>=0&&o.push({dataGroupId:e.oldDataGroupIds[i],data:e.oldData[i],divide:XN(e.oldData[i]),groupIdDim:t.dimension})})),(0,u.__)((0,m.qB)(t.to),(function(t){var n=YN(i.updatedSeries,t);if(n>=0){var o=i.updatedSeries[n].getData();r.push({dataGroupId:e.oldDataGroupIds[n],data:o,divide:XN(o),groupIdDim:t.dimension})}})),o.length>0&&r.length>0&&WN(o,r,n)}function UN(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,i){(0,u.__)((0,m.qB)(i.seriesTransition),(function(t){(0,u.__)((0,m.qB)(t.to),(function(t){for(var e=i.updatedSeries,n=0;n<e.length;n++)(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)&&(e[n][h.U]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,i){var n=kN(e);if(n.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)(0,u.__)((0,m.qB)(o),(function(t){$N(t,n,i,e)}));else{var r=jN(n,i);(0,u.__)(r.keys(),(function(t){var i=r.get(t);WN(i.oldSeries,i.newSeries,e)}))}(0,u.__)(i.updatedSeries,(function(t){t[h.U]&&(t[h.U]=!1)}))}for(var a=t.getSeries(),s=n.oldSeries=[],l=n.oldDataGroupIds=[],c=n.oldData=[],d=0;d<a.length;d++){var p=a[d].getData();p.count()<CN&&(s.push(a[d]),l.push(a[d].get("dataGroupId")),c.push(p))}}))}f([Ft]),f([ki]),f([Zo,Zr,ba,Ih,qh,vd,vp,Ug,fm,Im,Em,Wv,_x,Bx,p_,b_,Y_,nb,Ob,Hb,lw,BM]),f(zS),f(DI),f(yd),f(eA),f(Fv),f(dA),f(LA),f(fT),f(JT),f(ES),f(OD),f(ED),f(rL),f(PL),f(XL),f(nk),f(Pk),f(pP),f(Zk),f(dP),f(hO),f(eO),f(lO),f(fO),f(PO),f(EO),f(UN),f(xt);var ZN=i(4335),qN={name:"BarChart",data(){return{chart:null}},mounted(){this.initChart()},methods:{async fetchData(){const t=await ZN.A.get("http://127.0.0.1:5000/api/device_types");return t.data},initChart(){this.chart=r.Ts(this.$refs.chart),this.updateChart()},async updateChart(){await this.fetchData();const t={title:{text:"示例柱状图"},tooltip:{},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]};this.chart.setOption(t)}},beforeDestroy(){this.chart&&this.chart.dispose()}},KN=qN,JN=i(1656),QN=(0,JN.A)(KN,n,o,!1,null,null,null),tR=QN.exports},8533:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return l}});var n=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-content"},[e("div",{staticClass:"guanyuwomen",staticStyle:{"font-size":"16px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","min-height":"100vh"}},[e("div",{staticClass:"text-content",staticStyle:{border:"4px solid #90EE90",padding:"20px","border-radius":"8px","max-width":"800px",width:"90%",margin:"auto","text-align":"left"}},[e("h2",[t._v("欢迎来到我们的罗勒生长情况监测系统网站")]),e("p",[t._v("这里是您了解罗勒生长环境温湿度的窗口，也是我们团队努力的成果展示。 我们致力于通过先进的物联网技术和")]),e("p",[t._v("智能硬件，为农业种植提供科学、精准的数据支持， 帮助种植者优化生长条件，提高作物产量和质量。")]),e("h3",[t._v("我们的使命")]),e("p",[t._v("我们的目标是通过创新的科技手段，为农业种植者提供一个直观、易用的监测平台。")]),e("p",[t._v("我们相信，通过实时监控温湿度等关键环境因素，可以显著提升罗勒等作物的生长环境，进而提高整体的农业产出。")]),e("h3",[t._v("我们的技术")]),e("p",[t._v("本系统核心是W601开发板,")]),e("p",[t._v("它是一款功能强大的物联网设备，能够实时收集温湿度数据。")]),e("p",[t._v("结合MQTT协议,我们确保了数据传输的高效性和可靠性。")]),e("p",[t._v("此外，我们的网站采用最新的前后端技术，为用户提供流畅的交互体验和直观的数据可视化。")]),e("h3",[t._v("我们的特点")]),e("p",[t._v("1. 实时数据监测:通过W601开发板,我们能够实时监测罗勒生长环境的温湿度，确保作物始终处于最佳生长状态。")]),e("p",[t._v("2. 数据可视化：我们的网站提供了直观的图表和图形，让用户可以一目了然地看到温湿度的变化趋势。")]),e("p",[t._v("3. 数据导出功能：用户可以轻松导出温湿度数据，以表格形式进行进一步的分析或记录。")]),e("p",[t._v("4. 友好的用户界面：我们的设计注重用户体验，确保即使是非技术用户也能轻松上手。")]),e("p",[t._v("5. 邮件报警功能：实时监测罗勒生长环境的温湿度，当环境的温湿度超过一定数值，将会发送报警邮件到邮箱。")]),e("h3",[t._v("我们的团队")]),e("p",[t._v("我们的团队由一群对智能农业科技充满热情的大学生组成。我们希望通过团队的共同努力，为农业种植带来革命性的变化。")]),e("p",[t._v("联系我们 如果您对我们的系统感兴趣，或者有任何疑问和建议，欢迎通过以下方式联系我们：")]),e("p",[t._v("邮箱:3406669656@qq.com")]),e("p",[t._v("电话:18622410335")]),e("p",[t._v("地址:天津师范大学主校区德邻公寓10号楼217")]),e("p",[t._v("我们期待与您一起，为农业的可持续发展贡献力量。")])])])])}],r=i(1656),a={},s=(0,r.A)(a,n,o,!1,null,null,null),l=s.exports},7551:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return f}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"excel2"},[e("shidu",{attrs:{msg:"查看设备详情"}})],1)},o=[],r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("土壤湿度数据")]),e("table",[t._m(0),e("tbody",t._l(t.devices,(function(i,n){return e("tr",{key:n},[e("td"),e("td",[t._v(t._s(i.监测编号))]),e("td",[t._v(t._s(i.湿度水平))]),e("td",[t._v(t._s(i.监测时间))]),e("td")])})),0)])])},a=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td"),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测编号")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("土壤湿度")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测时间")]),e("td")])])}],s={data(){return{devices:[],humidityDevices:[]}},async created(){try{const t=await fetch("http://127.0.0.1:5000/devices"),e=await t.json();this.devices=e}catch(t){console.error("Error fetching data:",t)}}},l=s,h=i(1656),u=(0,h.A)(l,r,a,!1,null,"62454d68",null),c=u.exports,d={name:"ShiduView",components:{shidu:c}},p=d,g=(0,h.A)(p,n,o,!1,null,null,null),f=g.exports},2723:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"zhiwu",staticStyle:{"font-size":"16px",display:"flex","flex-direction":"column","align-items":"center"}},t._l(t.zhiwuInfo,(function(i,n){return e("div",{key:n,staticClass:"content",staticStyle:{width:"90%",display:"flex","justify-content":"center","flex-wrap":"wrap","margin-bottom":"20px"}},[e("div",{staticClass:"text-content",staticStyle:{"max-width":"600px","margin-right":"20px"}},[e("h2",[t._v(t._s(i.name))]),e("p",[t._v("特点: "+t._s(i.features))]),t._l(i.uses,(function(i){return e("p",{key:i},[t._v(t._s(i))])}))],2),e("div",{staticClass:"image-content",staticStyle:{display:"flex","justify-content":"center",width:"350px"}},[e("img",{staticStyle:{width:"100%"},attrs:{src:i.imageSrc,alt:`${i.name} 图片`}})])])})),0)},o=[],r={data(){return{zhiwuInfo:[{name:"甜罗勒",features:"具有甜美、温和的香气和味道，叶片通常为深绿色。",uses:["料理: 常用于制作青酱(Pesto)、意大利面、披萨和沙拉。","调味: 增添汤、炖菜和炒菜的风味。","装饰: 作为菜肴的装饰增添新鲜感和风味。"],imageSrc:i(4782)},{name:"紫罗勒",features:"叶片呈紫色，有时带有红色，味道比甜罗勒稍微辛辣和强烈。",uses:["装饰: 由于其独特的颜色，常用于装饰菜肴，提升视觉效果。","沙拉: 可作为沙拉的组成部分，为菜肴增添色彩和风味。","烹饪: 用于调味，但需要注意紫罗勒的色素可能会影响菜肴的颜色。"],imageSrc:i(6196)},{name:"圣罗勒",features:"具有强烈的香气和辛辣的味道，叶片较小，颜色从绿色到紫色不等。",uses:["传统医学: 在印度传统医学（如阿育吠陀）中，用于改善免疫力、减轻压力和改善呼吸系统健康。","茶饮: 常用来制作 Tulsi 茶，被认为具有健康益处。","调味: 用于印度和东南亚菜肴，尤其是在咖喱和炖菜中。"],imageSrc:i(8002)},{name:"柠檬罗勒",features:"叶片带有明显的柠檬香气，味道清新。",uses:["东南亚料理: 主要用于泰国和越南菜肴，如汤、炒菜和腌制品。","调味: 添加到鱼类、海鲜和鸡肉菜肴中，增强风味。","茶饮: 可以用来泡茶，提供清新的柠檬风味。"],imageSrc:i(7812)}]}}},a=r,s=i(1656),l=(0,s.A)(a,n,o,!1,null,"63b2ab12",null),h=l.exports},9379:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return Jh}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app1"},[e("app",{attrs:{msg:"查看设备详情"}})],1)},o=[],r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("数据一览表")]),e("canvas",{attrs:{id:"lineChart",width:"800",height:"500"}}),e("div",{staticClass:"table-container"},[e("h1",[t._v("温度表")]),e("table",{staticClass:"data-table"},[t._m(0),e("tbody",t._l(t.devices,(function(i,n){return e("tr",{key:n},[e("td",[t._v(t._s(i.监测编号))]),e("td",[t._v(t._s(i.温度水平))]),e("td",[t._v(t._s(i.监测时间))])])})),0)]),e("h1",[t._v("湿度表")]),e("table",{staticClass:"data-table"},[t._m(1),e("tbody",t._l(t.devices,(function(i,n){return e("tr",{key:n},[e("td",[t._v(t._s(i.监测编号))]),e("td",[t._v(t._s(i.湿度水平))]),e("td",[t._v(t._s(i.监测时间))])])})),0)])])])},a=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测编号")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("温度水平")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测时间")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测编号")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("土壤湿度")]),e("th",{staticStyle:{"line-height":"30px",border:"1px solid black"}},[t._v("监测时间")])])])}];
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function s(t){return t+.5|0}const l=(t,e,i)=>Math.max(Math.min(t,i),e);function h(t){return l(s(2.55*t),0,255)}function u(t){return l(s(255*t),0,255)}function c(t){return l(s(t/2.55)/100,0,1)}function d(t){return l(s(100*t),0,100)}const p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},g=[..."0123456789ABCDEF"],f=t=>g[15&t],m=t=>g[(240&t)>>4]+g[15&t],y=t=>(240&t)>>4===(15&t),v=t=>y(t.r)&&y(t.g)&&y(t.b)&&y(t.a);function x(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*p[t[1]],g:255&17*p[t[2]],b:255&17*p[t[3]],a:5===i?17*p[t[4]]:255}:7!==i&&9!==i||(e={r:p[t[1]]<<4|p[t[2]],g:p[t[3]]<<4|p[t[4]],b:p[t[5]]<<4|p[t[6]],a:9===i?p[t[7]]<<4|p[t[8]]:255})),e}const _=(t,e)=>t<255?e(t):"";function b(t){var e=v(t)?f:m;return t?"#"+e(t.r)+e(t.g)+e(t.b)+_(t.a,e):void 0}const w=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M(t,e,i){const n=e*Math.min(i,1-i),o=(e,o=(e+t/30)%12)=>i-n*Math.max(Math.min(o-3,9-o,1),-1);return[o(0),o(8),o(4)]}function S(t,e,i){const n=(n,o=(n+t/60)%6)=>i-i*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function I(t,e,i){const n=M(t,1,.5);let o;for(e+i>1&&(o=1/(e+i),e*=o,i*=o),o=0;o<3;o++)n[o]*=1-e-i,n[o]+=e;return n}function A(t,e,i,n,o){return t===o?(e-i)/n+(e<i?6:0):e===o?(i-t)/n+2:(t-e)/n+4}function C(t){const e=255,i=t.r/e,n=t.g/e,o=t.b/e,r=Math.max(i,n,o),a=Math.min(i,n,o),s=(r+a)/2;let l,h,u;return r!==a&&(u=r-a,h=s>.5?u/(2-r-a):u/(r+a),l=A(i,n,o,u,r),l=60*l+.5),[0|l,h||0,s]}function T(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(u)}function D(t,e,i){return T(M,t,e,i)}function L(t,e,i){return T(I,t,e,i)}function k(t,e,i){return T(S,t,e,i)}function P(t){return(t%360+360)%360}function O(t){const e=w.exec(t);let i,n=255;if(!e)return;e[5]!==i&&(n=e[6]?h(+e[5]):u(+e[5]));const o=P(+e[2]),r=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?L(o,r,a):"hsv"===e[1]?k(o,r,a):D(o,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function N(t,e){var i=C(t);i[0]=P(i[0]+e),i=D(i),t.r=i[0],t.g=i[1],t.b=i[2]}function R(t){if(!t)return;const e=C(t),i=e[0],n=d(e[1]),o=d(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${o}%, ${c(t.a)})`:`hsl(${i}, ${n}%, ${o}%)`}const E={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},z={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function V(){const t={},e=Object.keys(z),i=Object.keys(E);let n,o,r,a,s;for(n=0;n<e.length;n++){for(a=s=e[n],o=0;o<i.length;o++)r=i[o],s=s.replace(r,E[r]);r=parseInt(z[a],16),t[s]=[r>>16&255,r>>8&255,255&r]}return t}let B;function F(t){B||(B=V(),B.transparent=[0,0,0,0]);const e=B[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const W=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function G(t){const e=W.exec(t);let i,n,o,r=255;if(e){if(e[7]!==i){const t=+e[7];r=e[8]?h(t):l(255*t,0,255)}return i=+e[1],n=+e[3],o=+e[5],i=255&(e[2]?h(i):l(i,0,255)),n=255&(e[4]?h(n):l(n,0,255)),o=255&(e[6]?h(o):l(o,0,255)),{r:i,g:n,b:o,a:r}}}function H(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${c(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const X=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,j=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Y(t,e,i){const n=j(c(t.r)),o=j(c(t.g)),r=j(c(t.b));return{r:u(X(n+i*(j(c(e.r))-n))),g:u(X(o+i*(j(c(e.g))-o))),b:u(X(r+i*(j(c(e.b))-r))),a:t.a+i*(e.a-t.a)}}function $(t,e,i){if(t){let n=C(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=D(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function U(t,e){return t?Object.assign(e||{},t):t}function Z(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=u(t[3]))):(e=U(t,{r:0,g:0,b:0,a:1}),e.a=u(e.a)),e}function q(t){return"r"===t.charAt(0)?G(t):O(t)}class K{constructor(t){if(t instanceof K)return t;const e=typeof t;let i;"object"===e?i=Z(t):"string"===e&&(i=x(t)||F(t)||q(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=U(this._rgb);return t&&(t.a=c(t.a)),t}set rgb(t){this._rgb=Z(t)}rgbString(){return this._valid?H(this._rgb):void 0}hexString(){return this._valid?b(this._rgb):void 0}hslString(){return this._valid?R(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let o;const r=e===o?.5:e,a=2*r-1,s=i.a-n.a,l=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;o=1-l,i.r=255&l*i.r+o*n.r+.5,i.g=255&l*i.g+o*n.g+.5,i.b=255&l*i.b+o*n.b+.5,i.a=r*i.a+(1-r)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Y(this._rgb,t._rgb,e)),this}clone(){return new K(this.rgb)}alpha(t){return this._rgb.a=u(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=s(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $(this._rgb,2,t),this}darken(t){return $(this._rgb,2,-t),this}saturate(t){return $(this._rgb,1,t),this}desaturate(t){return $(this._rgb,1,-t),this}rotate(t){return N(this._rgb,t),this}}
/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
function J(){}const Q=(()=>{let t=0;return()=>t++})();function tt(t){return null===t||"undefined"===typeof t}function et(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function it(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function nt(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function ot(t,e){return nt(t)?t:e}function rt(t,e){return"undefined"===typeof t?e:t}const at=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,st=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lt(t,e,i){if(t&&"function"===typeof t.call)return t.apply(i,e)}function ht(t,e,i,n){let o,r,a;if(et(t))if(r=t.length,n)for(o=r-1;o>=0;o--)e.call(i,t[o],o);else for(o=0;o<r;o++)e.call(i,t[o],o);else if(it(t))for(a=Object.keys(t),r=a.length,o=0;o<r;o++)e.call(i,t[a[o]],a[o])}function ut(t,e){let i,n,o,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(o=t[i],r=e[i],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function ct(t){if(et(t))return t.map(ct);if(it(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let o=0;for(;o<n;++o)e[i[o]]=ct(t[i[o]]);return e}return t}function dt(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function pt(t,e,i,n){if(!dt(t))return;const o=e[t],r=i[t];it(o)&&it(r)?gt(o,r,n):e[t]=ct(r)}function gt(t,e,i){const n=et(e)?e:[e],o=n.length;if(!it(t))return t;i=i||{};const r=i.merger||pt;let a;for(let s=0;s<o;++s){if(a=n[s],!it(a))continue;const e=Object.keys(a);for(let n=0,o=e.length;n<o;++n)r(e[n],t,a,i)}return t}function ft(t,e){return gt(t,e,{merger:mt})}function mt(t,e,i){if(!dt(t))return;const n=e[t],o=i[t];it(n)&&it(o)?ft(n,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ct(o))}const yt={"":t=>t,x:t=>t.x,y:t=>t.y};function vt(t){const e=t.split("."),i=[];let n="";for(const o of e)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function xt(t){const e=vt(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}function _t(t,e){const i=yt[e]||(yt[e]=xt(e));return i(t)}function bt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wt=t=>"undefined"!==typeof t,Mt=t=>"function"===typeof t,St=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function It(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const At=Math.PI,Ct=2*At,Tt=Ct+At,Dt=Number.POSITIVE_INFINITY,Lt=At/180,kt=At/2,Pt=At/4,Ot=2*At/3,Nt=Math.log10,Rt=Math.sign;function Et(t,e,i){return Math.abs(t-e)<i}function zt(t){const e=Math.round(t);t=Et(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(Nt(t))),n=t/i,o=n<=1?1:n<=2?2:n<=5?5:10;return o*i}function Vt(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n===0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function Bt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ft(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function Wt(t,e,i){let n,o,r;for(n=0,o=t.length;n<o;n++)r=t[n][i],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Gt(t){return t*(At/180)}function Ht(t){return t*(180/At)}function Xt(t){if(!nt(t))return;let e=1,i=0;while(Math.round(t*e)/e!==t)e*=10,i++;return i}function jt(t,e){const i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n);let r=Math.atan2(n,i);return r<-.5*At&&(r+=Ct),{angle:r,distance:o}}function Yt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $t(t,e){return(t-e+Tt)%Ct-At}function Ut(t){return(t%Ct+Ct)%Ct}function Zt(t,e,i,n){const o=Ut(t),r=Ut(e),a=Ut(i),s=Ut(r-o),l=Ut(a-o),h=Ut(o-r),u=Ut(o-a);return o===r||o===a||n&&r===a||s>l&&h<u}function qt(t,e,i){return Math.max(e,Math.min(i,t))}function Kt(t){return qt(t,-32768,32767)}function Jt(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function Qt(t,e,i){i=i||(i=>t[i]<e);let n,o=t.length-1,r=0;while(o-r>1)n=r+o>>1,i(n)?r=n:o=n;return{lo:r,hi:o}}const te=(t,e,i,n)=>Qt(t,i,n?n=>{const o=t[n][e];return o<i||o===i&&t[n+1][e]===i}:n=>t[n][e]<i),ee=(t,e,i)=>Qt(t,i,(n=>t[n][e]>=i));function ie(t,e,i){let n=0,o=t.length;while(n<o&&t[n]<e)n++;while(o>n&&t[o-1]>i)o--;return n>0||o<t.length?t.slice(n,o):t}const ne=["push","pop","shift","splice","unshift"];function oe(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ne.forEach((e=>{const i="_onData"+bt(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const o=n.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[i]&&t[i](...e)})),o}})})))}function re(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,o=n.indexOf(e);-1!==o&&n.splice(o,1),n.length>0||(ne.forEach((e=>{delete t[e]})),delete t._chartjs)}function ae(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const se=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function le(t,e){let i=[],n=!1;return function(...o){i=o,n||(n=!0,se.call(window,(()=>{n=!1,t.apply(e,i)})))}}function he(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}const ue=t=>"start"===t?"left":"end"===t?"right":"center",ce=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,de=(t,e,i,n)=>{const o=n?"left":"right";return t===o?i:"center"===t?(e+i)/2:e};function pe(t,e,i){const n=e.length;let o=0,r=n;if(t._sorted){const{iScale:a,_parsed:s}=t,l=a.axis,{min:h,max:u,minDefined:c,maxDefined:d}=a.getUserBounds();c&&(o=qt(Math.min(te(s,l,h).lo,i?n:te(e,l,a.getPixelForValue(h)).lo),0,n-1)),r=d?qt(Math.max(te(s,a.axis,u,!0).hi+1,i?0:te(e,l,a.getPixelForValue(u),!0).hi+1),o,n)-o:n-o}return{start:o,count:r}}function ge(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,o={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=o,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,o),r}const fe=t=>0===t||1===t,me=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ct/i),ye=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ct/i)+1,ve={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*kt),easeOutSine:t=>Math.sin(t*kt),easeInOutSine:t=>-.5*(Math.cos(At*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>fe(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fe(t)?t:me(t,.075,.3),easeOutElastic:t=>fe(t)?t:ye(t,.075,.3),easeInOutElastic(t){const e=.1125,i=.45;return fe(t)?t:t<.5?.5*me(2*t,e,i):.5+.5*ye(2*t-1,e,i)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ve.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*ve.easeInBounce(2*t):.5*ve.easeOutBounce(2*t-1)+.5};function xe(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function _e(t){return xe(t)?t:new K(t)}function be(t){return xe(t)?t:new K(t).saturate(.5).darken(.1).hexString()}const we=["x","y","borderWidth","radius","tension"],Me=["color","borderColor","backgroundColor"];function Se(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Me},numbers:{type:"number",properties:we}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})}function Ie(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ae=new Map;function Ce(t,e){e=e||{};const i=t+JSON.stringify(e);let n=Ae.get(i);return n||(n=new Intl.NumberFormat(t,e),Ae.set(i,n)),n}function Te(t,e,i){return Ce(e,i).format(t)}const De={values(t){return et(t)?t:""+t},numeric(t,e,i){if(0===t)return"0";const n=this.chart.options.locale;let o,r=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(o="scientific"),r=Le(t,i)}const a=Nt(Math.abs(r)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Te(t,n,l)},logarithmic(t,e,i){if(0===t)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(Nt(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?De.numeric.call(this,t,e,i):""}};function Le(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var ke={formatters:De};function Pe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ke.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}const Oe=Object.create(null),Ne=Object.create(null);function Re(t,e){if(!e)return t;const i=e.split(".");for(let n=0,o=i.length;n<o;++n){const e=i[n];t=t[e]||(t[e]=Object.create(null))}return t}function Ee(t,e,i){return"string"===typeof e?gt(Re(t,e),i):gt(Re(t,""),e)}class ze{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>be(e.backgroundColor),this.hoverBorderColor=(t,e)=>be(e.borderColor),this.hoverColor=(t,e)=>be(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ee(this,t,e)}get(t){return Re(this,t)}describe(t,e){return Ee(Ne,t,e)}override(t,e){return Ee(Oe,t,e)}route(t,e,i,n){const o=Re(this,t),r=Re(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=r[n];return it(t)?Object.assign({},e,t):rt(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Ve=new ze({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Se,Ie,Pe]);function Be(t){return!t||tt(t.size)||tt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Fe(t,e,i,n,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,i.push(o)),r>n&&(n=r),n}function We(t,e,i,n){n=n||{};let o=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(o=n.data={},r=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let a=0;const s=i.length;let l,h,u,c,d;for(l=0;l<s;l++)if(c=i[l],void 0===c||null===c||et(c)){if(et(c))for(h=0,u=c.length;h<u;h++)d=c[h],void 0===d||null===d||et(d)||(a=Fe(t,o,r,a,d))}else a=Fe(t,o,r,a,c);t.restore();const p=r.length/2;if(p>i.length){for(l=0;l<p;l++)delete o[r[l]];r.splice(0,p)}return a}function Ge(t,e,i){const n=t.currentDevicePixelRatio,o=0!==i?Math.max(i/2,.5):0;return Math.round((e-o)*n)/n+o}function He(t,e){(e||t)&&(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Xe(t,e,i,n){je(t,e,i,n,null)}function je(t,e,i,n,o){let r,a,s,l,h,u,c,d;const p=e.pointStyle,g=e.rotation,f=e.radius;let m=(g||0)*Lt;if(p&&"object"===typeof p&&(r=p.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(i,n),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),p){default:o?t.ellipse(i,n,o/2,f,0,0,Ct):t.arc(i,n,f,0,Ct),t.closePath();break;case"triangle":u=o?o/2:f,t.moveTo(i+Math.sin(m)*u,n-Math.cos(m)*f),m+=Ot,t.lineTo(i+Math.sin(m)*u,n-Math.cos(m)*f),m+=Ot,t.lineTo(i+Math.sin(m)*u,n-Math.cos(m)*f),t.closePath();break;case"rectRounded":h=.516*f,l=f-h,a=Math.cos(m+Pt)*l,c=Math.cos(m+Pt)*(o?o/2-h:l),s=Math.sin(m+Pt)*l,d=Math.sin(m+Pt)*(o?o/2-h:l),t.arc(i-c,n-s,h,m-At,m-kt),t.arc(i+d,n-a,h,m-kt,m),t.arc(i+c,n+s,h,m,m+kt),t.arc(i-d,n+a,h,m+kt,m+At),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*f,u=o?o/2:l,t.rect(i-u,n-l,2*u,2*l);break}m+=Pt;case"rectRot":c=Math.cos(m)*(o?o/2:f),a=Math.cos(m)*f,s=Math.sin(m)*f,d=Math.sin(m)*(o?o/2:f),t.moveTo(i-c,n-s),t.lineTo(i+d,n-a),t.lineTo(i+c,n+s),t.lineTo(i-d,n+a),t.closePath();break;case"crossRot":m+=Pt;case"cross":c=Math.cos(m)*(o?o/2:f),a=Math.cos(m)*f,s=Math.sin(m)*f,d=Math.sin(m)*(o?o/2:f),t.moveTo(i-c,n-s),t.lineTo(i+c,n+s),t.moveTo(i+d,n-a),t.lineTo(i-d,n+a);break;case"star":c=Math.cos(m)*(o?o/2:f),a=Math.cos(m)*f,s=Math.sin(m)*f,d=Math.sin(m)*(o?o/2:f),t.moveTo(i-c,n-s),t.lineTo(i+c,n+s),t.moveTo(i+d,n-a),t.lineTo(i-d,n+a),m+=Pt,c=Math.cos(m)*(o?o/2:f),a=Math.cos(m)*f,s=Math.sin(m)*f,d=Math.sin(m)*(o?o/2:f),t.moveTo(i-c,n-s),t.lineTo(i+c,n+s),t.moveTo(i+d,n-a),t.lineTo(i-d,n+a);break;case"line":a=o?o/2:Math.cos(m)*f,s=Math.sin(m)*f,t.moveTo(i-a,n-s),t.lineTo(i+a,n+s);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(m)*(o?o/2:f),n+Math.sin(m)*f);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ye(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function $e(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ue(t){t.restore()}function Ze(t,e,i,n,o){if(!e)return t.lineTo(i.x,i.y);if("middle"===o){const n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===o!==!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function qe(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Ke(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),tt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Je(t,e,i,n,o){if(o.strikethrough||o.underline){const r=t.measureText(n),a=e-r.actualBoundingBoxLeft,s=e+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,h=i+r.actualBoundingBoxDescent,u=o.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(a,u),t.lineTo(s,u),t.stroke()}}function Qe(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function ti(t,e,i,n,o,r={}){const a=et(e)?e:[e],s=r.strokeWidth>0&&""!==r.strokeColor;let l,h;for(t.save(),t.font=o.string,Ke(t,r),l=0;l<a.length;++l)h=a[l],r.backdrop&&Qe(t,r.backdrop),s&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),tt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(h,i,n,r.maxWidth)),t.fillText(h,i,n,r.maxWidth),Je(t,i,n,h,r),n+=Number(o.lineHeight);t.restore()}function ei(t,e){const{x:i,y:n,w:o,h:r,radius:a}=e;t.arc(i+a.topLeft,n+a.topLeft,a.topLeft,1.5*At,At,!0),t.lineTo(i,n+r-a.bottomLeft),t.arc(i+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,At,kt,!0),t.lineTo(i+o-a.bottomRight,n+r),t.arc(i+o-a.bottomRight,n+r-a.bottomRight,a.bottomRight,kt,0,!0),t.lineTo(i+o,n+a.topRight),t.arc(i+o-a.topRight,n+a.topRight,a.topRight,0,-kt,!0),t.lineTo(i+a.topLeft,n)}const ii=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ni=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oi(t,e){const i=(""+t).match(ii);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}const ri=t=>+t||0;function ai(t,e){const i={},n=it(e),o=n?Object.keys(e):e,r=it(t)?n?i=>rt(t[i],t[e[i]]):e=>t[e]:()=>t;for(const a of o)i[a]=ri(r(a));return i}function si(t){return ai(t,{top:"y",right:"x",bottom:"y",left:"x"})}function li(t){return ai(t,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(t){const e=si(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ui(t,e){t=t||{},e=e||Ve.font;let i=rt(t.size,e.size);"string"===typeof i&&(i=parseInt(i,10));let n=rt(t.style,e.style);n&&!(""+n).match(ni)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:rt(t.family,e.family),lineHeight:oi(rt(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:rt(t.weight,e.weight),string:""};return o.string=Be(o),o}function ci(t,e,i,n){let o,r,a,s=!0;for(o=0,r=t.length;o<r;++o)if(a=t[o],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==i&&et(a)&&(a=a[i%a.length],s=!1),void 0!==a))return n&&!s&&(n.cacheable=!1),a}function di(t,e,i){const{min:n,max:o}=t,r=st(e,(o-n)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(n,-Math.abs(r)),max:a(o,r)}}function pi(t,e){return Object.assign(Object.create(t),e)}function gi(t,e=[""],i,n,o=()=>t[0]){const r=i||t;"undefined"===typeof n&&(n=Li("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:o,override:i=>gi([i,...t],e,r,n)};return new Proxy(a,{deleteProperty(e,i){return delete e[i],delete e._keys,delete t[0][i],!0},get(i,n){return xi(i,n,(()=>Di(n,e,t,i)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return ki(t).includes(e)},ownKeys(t){return ki(t)},set(t,e,i){const n=t._storage||(t._storage=o());return t[e]=n[e]=i,delete t._keys,!0}})}function fi(t,e,i,n){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:mi(t,n),setContext:e=>fi(t,e,i,n),override:o=>fi(t.override(o),e,i,n)};return new Proxy(o,{deleteProperty(e,i){return delete e[i],delete t[i],!0},get(t,e,i){return xi(t,e,(()=>_i(t,e,i)))},getOwnPropertyDescriptor(e,i){return e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(e,i,n){return t[i]=n,delete e[i],!0}})}function mi(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:i,indexable:n,isScriptable:Mt(i)?i:()=>i,isIndexable:Mt(n)?n:()=>n}}const yi=(t,e)=>t?t+bt(e):e,vi=(t,e)=>it(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function xi(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const n=i();return t[e]=n,n}function _i(t,e,i){const{_proxy:n,_context:o,_subProxy:r,_descriptors:a}=t;let s=n[e];return Mt(s)&&a.isScriptable(e)&&(s=bi(e,s,t,i)),et(s)&&s.length&&(s=wi(e,s,t,a.isIndexable)),vi(e,s)&&(s=fi(s,o,r&&r[e],a)),s}function bi(t,e,i,n){const{_proxy:o,_context:r,_subProxy:a,_stack:s}=i;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let l=e(r,a||n);return s.delete(t),vi(t,l)&&(l=Ai(o._scopes,o,t,l)),l}function wi(t,e,i,n){const{_proxy:o,_context:r,_subProxy:a,_descriptors:s}=i;if("undefined"!==typeof r.index&&n(t))return e[r.index%e.length];if(it(e[0])){const i=e,n=o._scopes.filter((t=>t!==i));e=[];for(const l of i){const i=Ai(n,o,t,l);e.push(fi(i,r,a&&a[t],s))}}return e}function Mi(t,e,i){return Mt(t)?t(e,i):t}const Si=(t,e)=>!0===t?e:"string"===typeof t?_t(e,t):void 0;function Ii(t,e,i,n,o){for(const r of e){const e=Si(i,r);if(e){t.add(e);const r=Mi(e._fallback,i,o);if("undefined"!==typeof r&&r!==i&&r!==n)return r}else if(!1===e&&"undefined"!==typeof n&&i!==n)return null}return!1}function Ai(t,e,i,n){const o=e._rootScopes,r=Mi(e._fallback,i,n),a=[...t,...o],s=new Set;s.add(n);let l=Ci(s,a,i,r||i,n);return null!==l&&(("undefined"===typeof r||r===i||(l=Ci(s,a,r,l,n),null!==l))&&gi(Array.from(s),[""],o,r,(()=>Ti(e,i,n))))}function Ci(t,e,i,n,o){while(i)i=Ii(t,e,i,n,o);return i}function Ti(t,e,i){const n=t._getTarget();e in n||(n[e]={});const o=n[e];return et(o)&&it(i)?i:o||{}}function Di(t,e,i,n){let o;for(const r of e)if(o=Li(yi(r,t),i),"undefined"!==typeof o)return vi(t,o)?Ai(i,n,t,o):o}function Li(t,e){for(const i of e){if(!i)continue;const e=i[t];if("undefined"!==typeof e)return e}}function ki(t){let e=t._keys;return e||(e=t._keys=Pi(t._scopes)),e}function Pi(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}function Oi(t,e,i,n){const{iScale:o}=t,{key:r="r"}=this._parsing,a=new Array(n);let s,l,h,u;for(s=0,l=n;s<l;++s)h=s+i,u=e[h],a[s]={r:o.parse(_t(u,r),h)};return a}const Ni=Number.EPSILON||1e-14,Ri=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ei=t=>"x"===t?"y":"x";function zi(t,e,i,n){const o=t.skip?e:t,r=e,a=i.skip?e:i,s=Yt(r,o),l=Yt(a,r);let h=s/(s+l),u=l/(s+l);h=isNaN(h)?0:h,u=isNaN(u)?0:u;const c=n*h,d=n*u;return{previous:{x:r.x-c*(a.x-o.x),y:r.y-c*(a.y-o.y)},next:{x:r.x+d*(a.x-o.x),y:r.y+d*(a.y-o.y)}}}function Vi(t,e,i){const n=t.length;let o,r,a,s,l,h=Ri(t,0);for(let u=0;u<n-1;++u)l=h,h=Ri(t,u+1),l&&h&&(Et(e[u],0,Ni)?i[u]=i[u+1]=0:(o=i[u]/e[u],r=i[u+1]/e[u],s=Math.pow(o,2)+Math.pow(r,2),s<=9||(a=3/Math.sqrt(s),i[u]=o*a*e[u],i[u+1]=r*a*e[u])))}function Bi(t,e,i="x"){const n=Ei(i),o=t.length;let r,a,s,l=Ri(t,0);for(let h=0;h<o;++h){if(a=s,s=l,l=Ri(t,h+1),!s)continue;const o=s[i],u=s[n];a&&(r=(o-a[i])/3,s[`cp1${i}`]=o-r,s[`cp1${n}`]=u-r*e[h]),l&&(r=(l[i]-o)/3,s[`cp2${i}`]=o+r,s[`cp2${n}`]=u+r*e[h])}}function Fi(t,e="x"){const i=Ei(e),n=t.length,o=Array(n).fill(0),r=Array(n);let a,s,l,h=Ri(t,0);for(a=0;a<n;++a)if(s=l,l=h,h=Ri(t,a+1),l){if(h){const t=h[e]-l[e];o[a]=0!==t?(h[i]-l[i])/t:0}r[a]=s?h?Rt(o[a-1])!==Rt(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}Vi(t,o,r),Bi(t,r,e)}function Wi(t,e,i){return Math.max(Math.min(t,i),e)}function Gi(t,e){let i,n,o,r,a,s=Ye(t[0],e);for(i=0,n=t.length;i<n;++i)a=r,r=s,s=i<n-1&&Ye(t[i+1],e),r&&(o=t[i],a&&(o.cp1x=Wi(o.cp1x,e.left,e.right),o.cp1y=Wi(o.cp1y,e.top,e.bottom)),s&&(o.cp2x=Wi(o.cp2x,e.left,e.right),o.cp2y=Wi(o.cp2y,e.top,e.bottom)))}function Hi(t,e,i,n,o){let r,a,s,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Fi(t,o);else{let i=n?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)s=t[r],l=zi(i,s,t[Math.min(r+1,a-(n?0:1))%a],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,i=s}e.capBezierPoints&&Gi(t,i)}function Xi(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ji(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Yi(t,e,i){let n;return"string"===typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const $i=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Ui(t,e){return $i(t).getPropertyValue(e)}const Zi=["top","right","bottom","left"];function qi(t,e,i){const n={};i=i?"-"+i:"";for(let o=0;o<4;o++){const r=Zi[o];n[r]=parseFloat(t[e+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Ki=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function Ji(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:o,offsetY:r}=n;let a,s,l=!1;if(Ki(o,r,t.target))a=o,s=r;else{const t=e.getBoundingClientRect();a=n.clientX-t.left,s=n.clientY-t.top,l=!0}return{x:a,y:s,box:l}}function Qi(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,o=$i(i),r="border-box"===o.boxSizing,a=qi(o,"padding"),s=qi(o,"border","width"),{x:l,y:h,box:u}=Ji(t,i),c=a.left+(u&&s.left),d=a.top+(u&&s.top);let{width:p,height:g}=e;return r&&(p-=a.width+s.width,g-=a.height+s.height),{x:Math.round((l-c)/p*i.width/n),y:Math.round((h-d)/g*i.height/n)}}function tn(t,e,i){let n,o;if(void 0===e||void 0===i){const r=t&&ji(t);if(r){const t=r.getBoundingClientRect(),a=$i(r),s=qi(a,"border","width"),l=qi(a,"padding");e=t.width-l.width-s.width,i=t.height-l.height-s.height,n=Yi(a.maxWidth,r,"clientWidth"),o=Yi(a.maxHeight,r,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||Dt,maxHeight:o||Dt}}const en=t=>Math.round(10*t)/10;function nn(t,e,i,n){const o=$i(t),r=qi(o,"margin"),a=Yi(o.maxWidth,t,"clientWidth")||Dt,s=Yi(o.maxHeight,t,"clientHeight")||Dt,l=tn(t,e,i);let{width:h,height:u}=l;if("content-box"===o.boxSizing){const t=qi(o,"border","width"),e=qi(o,"padding");h-=e.width+t.width,u-=e.height+t.height}h=Math.max(0,h-r.width),u=Math.max(0,n?h/n:u-r.height),h=en(Math.min(h,a,l.maxWidth)),u=en(Math.min(u,s,l.maxHeight)),h&&!u&&(u=en(h/2));const c=void 0!==e||void 0!==i;return c&&n&&l.height&&u>l.height&&(u=l.height,h=en(Math.floor(u*n))),{width:h,height:u}}function on(t,e,i){const n=e||1,o=Math.floor(t.height*n),r=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||a.height!==o||a.width!==r)&&(t.currentDevicePixelRatio=n,a.height=o,a.width=r,t.ctx.setTransform(n,0,0,n,0,0),!0)}const rn=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Xi()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function an(t,e){const i=Ui(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function sn(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function ln(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function hn(t,e,i,n){const o={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=sn(t,o,i),s=sn(o,r,i),l=sn(r,e,i),h=sn(a,s,i),u=sn(s,l,i);return sn(h,u,i)}const un=function(t,e){return{x(i){return t+t+e-i},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},cn=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function dn(t,e,i){return t?un(e,i):cn()}function pn(t,e){let i,n;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function gn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function fn(t){return"angle"===t?{between:Zt,compare:$t,normalize:Ut}:{between:Jt,compare:(t,e)=>t-e,normalize:t=>t}}function mn({start:t,end:e,count:i,loop:n,style:o}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i===0,style:o}}function yn(t,e,i){const{property:n,start:o,end:r}=i,{between:a,normalize:s}=fn(n),l=e.length;let h,u,{start:c,end:d,loop:p}=t;if(p){for(c+=l,d+=l,h=0,u=l;h<u;++h){if(!a(s(e[c%l][n]),o,r))break;c--,d--}c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:p,style:t.style}}function vn(t,e,i){if(!i)return[t];const{property:n,start:o,end:r}=i,a=e.length,{compare:s,between:l,normalize:h}=fn(n),{start:u,end:c,loop:d,style:p}=yn(t,e,i),g=[];let f,m,y,v=!1,x=null;const _=()=>l(o,y,f)&&0!==s(o,y),b=()=>0===s(r,f)||l(r,y,f),w=()=>v||_(),M=()=>!v||b();for(let S=u,I=u;S<=c;++S)m=e[S%a],m.skip||(f=h(m[n]),f!==y&&(v=l(f,o,r),null===x&&w()&&(x=0===s(f,o)?S:I),null!==x&&M()&&(g.push(mn({start:x,end:S,loop:d,count:a,style:p})),x=null),I=S,y=f));return null!==x&&g.push(mn({start:x,end:c,loop:d,count:a,style:p})),g}function xn(t,e){const i=[],n=t.segments;for(let o=0;o<n.length;o++){const r=vn(n[o],t.points,e);r.length&&i.push(...r)}return i}function _n(t,e,i,n){let o=0,r=e-1;if(i&&!n)while(o<e&&!t[o].skip)o++;while(o<e&&t[o].skip)o++;o%=e,i&&(r+=o);while(r>o&&t[r%e].skip)r--;return r%=e,{start:o,end:r}}function bn(t,e,i,n){const o=t.length,r=[];let a,s=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%o];i.skip||i.stop?l.skip||(n=!1,r.push({start:e%o,end:(a-1)%o,loop:n}),e=s=i.stop?a:null):(s=a,l.skip&&(e=a)),l=i}return null!==s&&r.push({start:e%o,end:s%o,loop:n}),r}function wn(t,e){const i=t.points,n=t.options.spanGaps,o=i.length;if(!o)return[];const r=!!t._loop,{start:a,end:s}=_n(i,o,r,n);if(!0===n)return Mn(t,[{start:a,end:s,loop:r}],i,e);const l=s<a?s+o:s,h=!!t._fullLoop&&0===a&&s===o-1;return Mn(t,bn(i,a,l,h),i,e)}function Mn(t,e,i,n){return n&&n.setContext&&i?Sn(t,e,i,n):e}function Sn(t,e,i,n){const o=t._chart.getContext(),r=In(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,l=i.length,h=[];let u=r,c=e[0].start,d=c;function p(t,e,n,o){const r=s?-1:1;if(t!==e){t+=l;while(i[t%l].skip)t-=r;while(i[e%l].skip)e+=r;t%l!==e%l&&(h.push({start:t%l,end:e%l,loop:n,style:o}),u=o,c=e%l)}}for(const g of e){c=s?c:g.start;let t,e=i[c%l];for(d=c+1;d<=g.end;d++){const r=i[d%l];t=In(n.setContext(pi(o,{type:"segment",p0:e,p1:r,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),An(t,u)&&p(c,d-1,g.loop,u),e=r,u=t}c<d-1&&p(c,d-1,g.loop,u)}return h}function In(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function An(t,e){if(!e)return!1;const i=[],n=function(t,e){return xe(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)}
/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
class Cn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const o=e.listeners[n],r=e.duration;o.forEach((n=>n({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(i-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=se.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const o=i.items;let r,a=o.length-1,s=!1;for(;a>=0;--a)r=o[a],r._active?(r._total>i.duration&&(i.duration=r._total),r.tick(t),s=!0):(o[a]=o[o.length-1],o.pop());s&&(n.draw(),this._notify(n,i,t,"progress")),o.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=o.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Tn=new Cn;const Dn="transparent",Ln={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const n=_e(t||Dn),o=n.valid&&_e(e||Dn);return o&&o.valid?o.mix(n,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class kn{constructor(t,e,i,n){const o=e[i];n=ci([t.to,n,o,t.from]);const r=ci([t.from,o,n]);this._active=!0,this._fn=t.fn||Ln[t.type||typeof r],this._easing=ve[t.easing]||ve.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ci([t.to,e,n,t.from]),this._from=ci([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,o=this._from,r=this._loop,a=this._to;let s;if(this._active=o!==a&&(r||e<i),!this._active)return this._target[n]=a,void this._notify(!0);e<0?this._target[n]=o:(s=e/i%2,s=r&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[n]=this._fn(o,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}}class Pn{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!it(t))return;const e=Object.keys(Ve.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const o=t[n];if(!it(o))return;const r={};for(const t of e)r[t]=o[t];(et(o.properties)&&o.properties||[n]).forEach((t=>{t!==n&&i.has(t)||i.set(t,r)}))}))}_animateOptions(t,e){const i=e.options,n=Nn(t,i);if(!n)return[];const o=this._createAnimations(n,i);return i.$shared&&On(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),o}_createAnimations(t,e){const i=this._properties,n=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),a=Date.now();let s;for(s=r.length-1;s>=0;--s){const l=r[s];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(t,e));continue}const h=e[l];let u=o[l];const c=i.get(l);if(u){if(c&&u.active()){u.update(c,h,a);continue}u.cancel()}c&&c.duration?(o[l]=u=new kn(c,t,l,h),n.push(u)):t[l]=h}return n}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Tn.add(this._chart,i),!0):void 0}}function On(t,e){const i=[],n=Object.keys(e);for(let o=0;o<n.length;o++){const e=t[n[o]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}function Nn(t,e){if(!e)return;let i=t.options;if(i)return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}function Rn(t,e){const i=t&&t.options||{},n=i.reverse,o=void 0===i.min?e:0,r=void 0===i.max?e:0;return{start:n?r:o,end:n?o:r}}function En(t,e,i){if(!1===i)return!1;const n=Rn(t,i),o=Rn(e,i);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function zn(t){let e,i,n,o;return it(t)?(e=t.top,i=t.right,n=t.bottom,o=t.left):e=i=n=o=t,{top:e,right:i,bottom:n,left:o,disabled:!1===t}}function Vn(t,e){const i=[],n=t._getSortedDatasetMetas(e);let o,r;for(o=0,r=n.length;o<r;++o)i.push(n[o].index);return i}function Bn(t,e,i,n={}){const o=t.keys,r="single"===n.mode;let a,s,l,h;if(null!==e){for(a=0,s=o.length;a<s;++a){if(l=+o[a],l===i){if(n.all)continue;break}h=t.values[l],nt(h)&&(r||0===e||Rt(e)===Rt(h))&&(e+=h)}return e}}function Fn(t,e){const{iScale:i,vScale:n}=e,o="x"===i.axis?"x":"y",r="x"===n.axis?"x":"y",a=Object.keys(t),s=new Array(a.length);let l,h,u;for(l=0,h=a.length;l<h;++l)u=a[l],s[l]={[o]:u,[r]:t[u]};return s}function Wn(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Gn(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function Hn(t){const{min:e,max:i,minDefined:n,maxDefined:o}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}function Xn(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function jn(t,e,i,n){for(const o of e.getMatchingVisibleMetas(n).reverse()){const e=t[o.index];if(i&&e>0||!i&&e<0)return o.index}return null}function Yn(t,e){const{chart:i,_cachedMeta:n}=t,o=i._stacks||(i._stacks={}),{iScale:r,vScale:a,index:s}=n,l=r.axis,h=a.axis,u=Gn(r,a,n),c=e.length;let d;for(let p=0;p<c;++p){const t=e[p],{[l]:i,[h]:r}=t,c=t._stacks||(t._stacks={});d=c[h]=Xn(o,u,i),d[s]=r,d._top=jn(d,a,!0,n.type),d._bottom=jn(d,a,!1,n.type);const g=d._visualValues||(d._visualValues={});g[s]=r}}function $n(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Un(t,e){return pi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Zn(t,e,i){return pi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function qn(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}}const Kn=t=>"reset"===t||"none"===t,Jn=(t,e)=>e?t:Object.assign({},t),Qn=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Vn(i,!0),values:null};class to{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Wn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&qn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,o=e.xAxisID=rt(i.xAxisID,$n(t,"x")),r=e.yAxisID=rt(i.yAxisID,$n(t,"y")),a=e.rAxisID=rt(i.rAxisID,$n(t,"r")),s=e.indexAxis,l=e.iAxisID=n(s,o,r,a),h=e.vAxisID=n(s,r,o,a);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&re(this._data,this),t._stacked&&qn(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(it(e)){const t=this._cachedMeta;this._data=Fn(e,t)}else if(i!==e){if(i){re(i,this);const t=this._cachedMeta;qn(t),t._parsed=[]}e&&Object.isExtensible(e)&&oe(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const o=e._stacked;e._stacked=Wn(e.vScale,e),e.stack!==i.stack&&(n=!0,qn(e),e.stack=i.stack),this._resyncElements(t),(n||o!==e._stacked)&&Yn(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:o,_stacked:r}=i,a=o.axis;let s,l,h,u=0===t&&e===n.length||i._sorted,c=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,h=n;else{h=et(n[t])?this.parseArrayData(i,n,t,e):it(n[t])?this.parseObjectData(i,n,t,e):this.parsePrimitiveData(i,n,t,e);const o=()=>null===l[a]||c&&l[a]<c[a];for(s=0;s<e;++s)i._parsed[s+t]=l=h[s],u&&(o()&&(u=!1),c=l);i._sorted=u}r&&Yn(this,h)}parsePrimitiveData(t,e,i,n){const{iScale:o,vScale:r}=t,a=o.axis,s=r.axis,l=o.getLabels(),h=o===r,u=new Array(n);let c,d,p;for(c=0,d=n;c<d;++c)p=c+i,u[c]={[a]:h||o.parse(l[p],p),[s]:r.parse(e[p],p)};return u}parseArrayData(t,e,i,n){const{xScale:o,yScale:r}=t,a=new Array(n);let s,l,h,u;for(s=0,l=n;s<l;++s)h=s+i,u=e[h],a[s]={x:o.parse(u[0],h),y:r.parse(u[1],h)};return a}parseObjectData(t,e,i,n){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(n);let h,u,c,d;for(h=0,u=n;h<u;++h)c=h+i,d=e[c],l[h]={x:o.parse(_t(d,a),c),y:r.parse(_t(d,s),c)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,o=this._cachedMeta,r=e[t.axis],a={keys:Vn(n,!0),values:e._stacks[t.axis]._visualValues};return Bn(a,r,o.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const o=i[e.axis];let r=null===o?NaN:o;const a=n&&i._stacks[e.axis];n&&a&&(n.values=a,r=Bn(n,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,o=i._sorted&&t===i.iScale,r=n.length,a=this._getOtherScale(t),s=Qn(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=Hn(a);let c,d;function p(){d=n[c];const e=d[a.axis];return!nt(d[t.axis])||h>e||u<e}for(c=0;c<r;++c)if(!p()&&(this.updateRangeFromParsed(l,t,d,s),o))break;if(o)for(c=r-1;c>=0;--c)if(!p()){this.updateRangeFromParsed(l,t,d,s);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,o,r;for(n=0,o=e.length;n<o;++n)r=e[n][t.axis],nt(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:n?""+n.getLabelForValue(o[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=zn(rt(this.options.clip,En(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],o=e.chartArea,r=[],a=this._drawStart||0,s=this._drawCount||n.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,o,a,s),h=a;h<a+s;++h){const e=n[h];e.hidden||(e.active&&l?r.push(e):e.draw(t,o))}for(h=0;h<r.length;++h)r[h].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];o=e.$context||(e.$context=Zn(this.getContext(),t,e)),o.parsed=this.getParsed(t),o.raw=n.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Un(this.chart.getContext(),this.index)),o.dataset=n,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n="active"===e,o=this._cachedDataOpts,r=t+"-"+e,a=o[r],s=this.enableOptionSharing&&wt(i);if(a)return Jn(a,s);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],c=l.getOptionScopes(this.getDataset(),h),d=Object.keys(Ve.elements[t]),p=()=>this.getContext(i,n,e),g=l.resolveNamedOptions(c,d,p,u);return g.$shared&&(g.$shared=s,o[r]=Object.freeze(Jn(g,s))),g}_resolveAnimations(t,e,i){const n=this.chart,o=this._cachedDataOpts,r=`animation-${e}`,a=o[r];if(a)return a;let s;if(!1!==n.options.animation){const n=this.chart.config,o=n.datasetAnimationScopeKeys(this._type,e),r=n.getOptionScopes(this.getDataset(),o);s=n.createResolver(r,this.getContext(t,i,e))}const l=new Pn(n,s&&s.animations);return s&&s._cacheable&&(o[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Kn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,o=this.getSharedOptions(i),r=this.includeOptions(e,o)||o!==n;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:r}}updateElement(t,e,i,n){Kn(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!Kn(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const o=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,s,l]of this._syncList)this[a](s,l);this._syncList=[];const n=i.length,o=e.length,r=Math.min(o,n);r&&this.parse(0,r),o>n?this._insertElements(n,o-n,t):o<n&&this._removeElements(o,n-o)}_insertElements(t,e,i=!0){const n=this._cachedMeta,o=n.data,r=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=r;a--)t[a]=t[a-e]};for(s(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&s(n._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&qn(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function eo(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let e=0,o=i.length;e<o;e++)n=n.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=ae(n.sort(((t,e)=>t-e)))}return t._cache.$bar}function io(t){const e=t.iScale,i=eo(e,t.type);let n,o,r,a,s=e._length;const l=()=>{32767!==r&&-32768!==r&&(wt(a)&&(s=Math.min(s,Math.abs(r-a)||s)),a=r)};for(n=0,o=i.length;n<o;++n)r=e.getPixelForValue(i[n]),l();for(a=void 0,n=0,o=e.ticks.length;n<o;++n)r=e.getPixelForTick(n),l();return s}function no(t,e,i,n){const o=i.barThickness;let r,a;return tt(o)?(r=e.min*i.categoryPercentage,a=i.barPercentage):(r=o*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[t]-r/2}}function oo(t,e,i,n){const o=e.pixels,r=o[t];let a=t>0?o[t-1]:null,s=t<o.length-1?o[t+1]:null;const l=i.categoryPercentage;null===a&&(a=r-(null===s?e.end-e.start:s-r)),null===s&&(s=r+r-a);const h=r-(r-Math.min(a,s))/2*l,u=Math.abs(s-a)/2*l;return{chunk:u/n,ratio:i.barPercentage,start:h}}function ro(t,e,i,n){const o=i.parse(t[0],n),r=i.parse(t[1],n),a=Math.min(o,r),s=Math.max(o,r);let l=a,h=s;Math.abs(a)>Math.abs(s)&&(l=s,h=a),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:o,end:r,min:a,max:s}}function ao(t,e,i,n){return et(t)?ro(t,e,i,n):e[i.axis]=i.parse(t,n),e}function so(t,e,i,n){const o=t.iScale,r=t.vScale,a=o.getLabels(),s=o===r,l=[];let h,u,c,d;for(h=i,u=i+n;h<u;++h)d=e[h],c={},c[o.axis]=s||o.parse(a[h],h),l.push(ao(d,c,r,h));return l}function lo(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ho(t,e,i){return 0!==t?Rt(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function uo(t){let e,i,n,o,r;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(o="end",r="start"):(o="start",r="end"),{start:i,end:n,reverse:e,top:o,bottom:r}}function co(t,e,i,n){let o=e.borderSkipped;const r={};if(!o)return void(t.borderSkipped=r);if(!0===o)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:h,bottom:u}=uo(t);"middle"===o&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?o=h:(i._bottom||0)===n?o=u:(r[po(u,a,s,l)]=!0,o=h)),r[po(o,a,s,l)]=!0,t.borderSkipped=r}function po(t,e,i,n){return n?(t=go(t,e,i),t=fo(t,i,e)):t=fo(t,e,i),t}function go(t,e,i){return t===e?i:t===i?e:t}function fo(t,e,i){return"start"===t?e:"end"===t?i:t}function mo(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class yo extends to{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,n){return so(t,e,i,n)}parseArrayData(t,e,i,n){return so(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===o.axis?a:s,h="x"===r.axis?a:s,u=[];let c,d,p,g;for(c=i,d=i+n;c<d;++c)g=e[c],p={},p[o.axis]=o.parse(_t(g,l),c),u.push(ao(_t(g,h),p,r,c));return u}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,o=this.getParsed(t),r=o._custom,a=lo(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(o[n.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const o="reset"===n,{index:r,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),l=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:c}=this._getSharedOptions(e,n);for(let d=e;d<e+i;d++){const e=this.getParsed(d),i=o||tt(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,h),g=(e._stacks||{})[a.axis],f={horizontal:l,base:i.base,enableBorderRadius:!g||lo(e._custom)||r===g._top||r===g._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};c&&(f.options=u||this.resolveDataElementOptions(d,t[d].active?"active":n));const m=f.options||t[d].options;co(f,m,g,r),mo(f,m,h.ratio),this.updateElement(t[d],d,f,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),o=i.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(e),s=a&&a[i.axis],l=t=>{const e=t._parsed.find((t=>t[i.axis]===s)),n=e&&e[t.vScale.axis];if(tt(n)||isNaN(n))return!0};for(const h of n)if((void 0===e||!l(h))&&((!1===o||-1===r.indexOf(h.stack)||void 0===o&&void 0===h.stack)&&r.push(h.stack),h.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const n=this._getStacks(t,i),o=void 0!==e?n.indexOf(e):-1;return-1===o?n.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let o,r;for(o=0,r=e.data.length;o<r;++o)n.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const a=t.barThickness,s=a||io(e);return{min:s,pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:o,minBarLength:r}}=this,a=o||0,s=this.getParsed(t),l=s._custom,h=lo(l);let u,c,d=s[e.axis],p=0,g=i?this.applyStack(e,s,i):d;g!==d&&(p=g-d,g=d),h&&(d=l.barStart,g=l.barEnd-l.barStart,0!==d&&Rt(d)!==Rt(l.barEnd)&&(p=0),p+=d);const f=tt(o)||h?p:o;let m=e.getPixelForValue(f);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(p+g):m,c=u-m,Math.abs(c)<r){c=ho(c,e,a)*r,d===a&&(m-=c/2);const t=e.getPixelForDecimal(0),o=e.getPixelForDecimal(1),l=Math.min(t,o),p=Math.max(t,o);m=Math.max(Math.min(m,p),l),u=m+c,i&&!h&&(s._stacks[e.axis]._visualValues[n]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(a)){const t=Rt(c)*e.getLineWidthForValue(a)/2;m+=t,c-=t}return{size:c,base:m,head:u,center:u+c/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,o=n.skipNull,r=rt(n.maxBarThickness,1/0);let a,s;if(e.grouped){const i=o?this._getStackCount(t):e.stackCount,l="flex"===n.barThickness?oo(t,e,n,i):no(t,e,n,i),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=l.start+l.chunk*h+l.chunk/2,s=Math.min(r,l.chunk*l.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),s=Math.min(r,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let o=0;for(;o<n;++o)null===this.getParsed(o)[e.axis]||i[o].hidden||i[o].draw(this._ctx)}}class vo extends to{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const o=super.parsePrimitiveData(t,e,i,n);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+i).radius;return o}parseArrayData(t,e,i,n){const o=super.parseArrayData(t,e,i,n);for(let r=0;r<o.length;r++){const t=e[i+r];o[r]._custom=rt(t[2],this.resolveDataElementOptions(r+i).radius)}return o}parseObjectData(t,e,i,n){const o=super.parseObjectData(t,e,i,n);for(let r=0;r<o.length;r++){const t=e[i+r];o[r]._custom=rt(t&&t.r&&+t.r,this.resolveDataElementOptions(r+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:o}=e,r=this.getParsed(t),a=n.getLabelForValue(r.x),s=o.getLabelForValue(r.y),l=r._custom;return{label:i[t]||"",value:"("+a+", "+s+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const o="reset"===n,{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(e,n),h=r.axis,u=a.axis;for(let c=e;c<e+i;c++){const e=t[c],i=!o&&this.getParsed(c),d={},p=d[h]=o?r.getPixelForDecimal(.5):r.getPixelForValue(i[h]),g=d[u]=o?a.getBasePixel():a.getPixelForValue(i[u]);d.skip=isNaN(p)||isNaN(g),l&&(d.options=s||this.resolveDataElementOptions(c,e.active?"active":n),o&&(d.options.radius=0)),this.updateElement(e,c,d,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const o=n.radius;return"active"!==e&&(n.radius=0),n.radius+=rt(i&&i._custom,o),n}}function xo(t,e,i){let n=1,o=1,r=0,a=0;if(e<Ct){const s=t,l=s+e,h=Math.cos(s),u=Math.sin(s),c=Math.cos(l),d=Math.sin(l),p=(t,e,n)=>Zt(t,s,l,!0)?1:Math.max(e,e*i,n,n*i),g=(t,e,n)=>Zt(t,s,l,!0)?-1:Math.min(e,e*i,n,n*i),f=p(0,h,c),m=p(kt,u,d),y=g(At,h,c),v=g(At+kt,u,d);n=(f-y)/2,o=(m-v)/2,r=-(f+y)/2,a=-(m+v)/2}return{ratioX:n,ratioY:o,offsetX:r,offsetY:a}}class _o extends to{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,o)=>{const r=t.getDatasetMeta(0),a=r.controller.getStyle(o);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let o,r,a=t=>+i[t];if(it(i[t])){const{key:t="value"}=this._parsing;a=e=>+_t(i[e],t)}for(o=t,r=t+e;o<r;++o)n._parsed[o]=a(o)}}_getRotation(){return Gt(this.options.rotation-90)}_getCircumference(){return Gt(this.options.circumference)}_getRotationExtents(){let t=Ct,e=-Ct;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,o=n._getRotation(),r=n._getCircumference();t=Math.min(t,o),e=Math.max(e,o+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,o=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-r)/2,0),s=Math.min(at(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:c,ratioY:d,offsetX:p,offsetY:g}=xo(u,h,s),f=(i.width-r)/c,m=(i.height-r)/d,y=Math.max(Math.min(f,m)/2,0),v=st(this.options.radius,y),x=Math.max(v*s,0),_=(v-x)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,n.total=this.calculateTotal(),this.outerRadius=v-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*l,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*o/Ct)}updateElements(t,e,i,n){const o="reset"===n,r=this.chart,a=r.chartArea,s=r.options,l=s.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,c=o&&l.animateScale,d=c?0:this.innerRadius,p=c?0:this.outerRadius,{sharedOptions:g,includeOptions:f}=this._getSharedOptions(e,n);let m,y=this._getRotation();for(m=0;m<e;++m)y+=this._circumference(m,o);for(m=e;m<e+i;++m){const e=this._circumference(m,o),i=t[m],r={x:h+this.offsetX,y:u+this.offsetY,startAngle:y,endAngle:y+e,circumference:e,outerRadius:p,innerRadius:d};f&&(r.options=g||this.resolveDataElementOptions(m,i.active?"active":n)),y+=e,this.updateElement(i,m,r,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){const o=t._parsed[i];null===o||isNaN(o)||!this.chart.getDataVisibility(i)||e[i].hidden||(n+=Math.abs(o))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ct*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],o=Te(e._parsed[t],i.options.locale);return{label:n[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,o,r,a,s;if(!t)for(n=0,o=i.data.datasets.length;n<o;++n)if(i.isDatasetVisible(n)){r=i.getDatasetMeta(n),t=r.data,a=r.controller;break}if(!t)return 0;for(n=0,o=t.length;n<o;++n)s=a.resolveDataElementOptions(n),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(rt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bo extends to{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:o}=e,r=this.chart._animationsDisabled;let{start:a,count:s}=pe(e,n,r);this._drawStart=a,this._drawCount=s,ge(e)&&(a=0,s=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:l},t),this.updateElements(n,a,s,t)}updateElements(t,e,i,n){const o="reset"===n,{iScale:r,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,n),c=r.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,f=Bt(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||o||"none"===n,y=e+i,v=t.length;let x=e>0&&this.getParsed(e-1);for(let _=0;_<v;++_){const i=t[_],p=m?i:{};if(_<e||_>=y){p.skip=!0;continue}const v=this.getParsed(_),b=tt(v[d]),w=p[c]=r.getPixelForValue(v[c],_),M=p[d]=o||b?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,v,s):v[d],_);p.skip=isNaN(w)||isNaN(M)||b,p.stop=_>0&&Math.abs(v[c]-x[c])>f,g&&(p.parsed=v,p.raw=l.data[_]),u&&(p.options=h||this.resolveDataElementOptions(_,i.active?"active":n)),m||this.updateElement(i,_,p,n),x=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class wo extends to{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,o)=>{const r=t.getDatasetMeta(0),a=r.controller.getStyle(o);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],o=Te(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:o}}parseObjectData(t,e,i,n){return Oi.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(n/2,0),r=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,n){const o="reset"===n,r=this.chart,a=r.options,s=a.animation,l=this._cachedMeta.rScale,h=l.xCenter,u=l.yCenter,c=l.getIndexAngle(0)-.5*At;let d,p=c;const g=360/this.countVisibleElements();for(d=0;d<e;++d)p+=this._computeAngle(d,n,g);for(d=e;d<e+i;d++){const e=t[d];let i=p,a=p+this._computeAngle(d,n,g),f=r.getDataVisibility(d)?l.getDistanceFromCenterForValue(this.getParsed(d).r):0;p=a,o&&(s.animateScale&&(f=0),s.animateRotate&&(i=a=c));const m={x:h,y:u,innerRadius:0,outerRadius:f,startAngle:i,endAngle:a,options:this.resolveDataElementOptions(d,e.active?"active":n)};this.updateElement(e,d,m,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Gt(this.resolveDataElementOptions(t,e).angle||i):0}}class Mo extends _o{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class So extends to{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return Oi.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],o=e.iScale.getLabels();if(i.points=n,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={_loop:!0,_fullLoop:o.length===n.length,options:e};this.updateElement(i,void 0,r,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const o=this._cachedMeta.rScale,r="reset"===n;for(let a=e;a<e+i;a++){const e=t[a],i=this.resolveDataElementOptions(a,e.active?"active":n),s=o.getPointPositionForValue(a,this.getParsed(a).r),l=r?o.xCenter:s.x,h=r?o.yCenter:s.y,u={x:l,y:h,angle:s.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,a,u,n)}}}class Io extends to{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:o}=e,r=this.getParsed(t),a=n.getLabelForValue(r.x),s=o.getLabelForValue(r.y);return{label:i[t]||"",value:"("+a+", "+s+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:o,count:r}=pe(e,i,n);if(this._drawStart=o,this._drawCount=r,ge(e)&&(o=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:r}=e;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=i;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:a},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const o="reset"===n,{iScale:r,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,h=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(h),c=this.includeOptions(n,u),d=r.axis,p=a.axis,{spanGaps:g,segment:f}=this.options,m=Bt(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||"none"===n;let v=e>0&&this.getParsed(e-1);for(let x=e;x<e+i;++x){const e=t[x],i=this.getParsed(x),h=y?e:{},g=tt(i[p]),_=h[d]=r.getPixelForValue(i[d],x),b=h[p]=o||g?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,i,s):i[p],x);h.skip=isNaN(_)||isNaN(b)||g,h.stop=x>0&&Math.abs(i[d]-v[d])>m,f&&(h.parsed=i,h.raw=l.data[x]),c&&(h.options=u||this.resolveDataElementOptions(x,e.active?"active":n)),y||this.updateElement(e,x,h,n),v=i}this.updateSharedOptions(u,n,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const o=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,o,r)/2}}var Ao=Object.freeze({__proto__:null,BarController:yo,BubbleController:vo,DoughnutController:_o,LineController:bo,PieController:Mo,PolarAreaController:wo,RadarController:So,ScatterController:Io});function Co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class To{static override(t){Object.assign(To.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Co()}parse(){return Co()}format(){return Co()}add(){return Co()}diff(){return Co()}startOf(){return Co()}endOf(){return Co()}}var Do={_date:To};function Lo(t,e,i,n){const{controller:o,data:r,_sorted:a}=t,s=o._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&r.length){const t=s._reversePixels?ee:te;if(!n)return t(r,e,i);if(o._sharedOptions){const n=r[0],o="function"===typeof n.getRange&&n.getRange(e);if(o){const n=t(r,e,i-o),a=t(r,e,i+o);return{lo:n.lo,hi:a.hi}}}}return{lo:0,hi:r.length-1}}function ko(t,e,i,n,o){const r=t.getSortedVisibleDatasetMetas(),a=i[e];for(let s=0,l=r.length;s<l;++s){const{index:t,data:i}=r[s],{lo:l,hi:h}=Lo(r[s],e,a,o);for(let e=l;e<=h;++e){const o=i[e];o.skip||n(o,t,e)}}}function Po(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){const o=e?Math.abs(t.x-n.x):0,r=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Oo(t,e,i,n,o){const r=[];if(!o&&!t.isPointInArea(e))return r;const a=function(i,a,s){(o||Ye(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&r.push({element:i,datasetIndex:a,index:s})};return ko(t,i,e,a,!0),r}function No(t,e,i,n){let o=[];function r(t,i,r){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],n),{angle:l}=jt(t,{x:e.x,y:e.y});Zt(l,a,s)&&o.push({element:t,datasetIndex:i,index:r})}return ko(t,i,e,r),o}function Ro(t,e,i,n,o,r){let a=[];const s=Po(i);let l=Number.POSITIVE_INFINITY;function h(i,h,u){const c=i.inRange(e.x,e.y,o);if(n&&!c)return;const d=i.getCenterPoint(o),p=!!r||t.isPointInArea(d);if(!p&&!c)return;const g=s(e,d);g<l?(a=[{element:i,datasetIndex:h,index:u}],l=g):g===l&&a.push({element:i,datasetIndex:h,index:u})}return ko(t,i,e,h),a}function Eo(t,e,i,n,o,r){return r||t.isPointInArea(e)?"r"!==i||n?Ro(t,e,i,n,o,r):No(t,e,i,o):[]}function zo(t,e,i,n,o){const r=[],a="x"===i?"inXRange":"inYRange";let s=!1;return ko(t,i,e,((t,n,l)=>{t[a]&&t[a](e[i],o)&&(r.push({element:t,datasetIndex:n,index:l}),s=s||t.inRange(e.x,e.y,o))})),n&&!s?[]:r}var Vo={evaluateInteractionItems:ko,modes:{index(t,e,i,n){const o=Qi(e,t),r=i.axis||"x",a=i.includeInvisible||!1,s=i.intersect?Oo(t,o,r,n,a):Eo(t,o,r,!1,n,a),l=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,i,n){const o=Qi(e,t),r=i.axis||"xy",a=i.includeInvisible||!1;let s=i.intersect?Oo(t,o,r,n,a):Eo(t,o,r,!1,n,a);if(s.length>0){const e=s[0].datasetIndex,i=t.getDatasetMeta(e).data;s=[];for(let t=0;t<i.length;++t)s.push({element:i[t],datasetIndex:e,index:t})}return s},point(t,e,i,n){const o=Qi(e,t),r=i.axis||"xy",a=i.includeInvisible||!1;return Oo(t,o,r,n,a)},nearest(t,e,i,n){const o=Qi(e,t),r=i.axis||"xy",a=i.includeInvisible||!1;return Eo(t,o,r,i.intersect,n,a)},x(t,e,i,n){const o=Qi(e,t);return zo(t,o,"x",i.intersect,n)},y(t,e,i,n){const o=Qi(e,t);return zo(t,o,"y",i.intersect,n)}}};const Bo=["left","top","right","bottom"];function Fo(t,e){return t.filter((t=>t.pos===e))}function Wo(t,e){return t.filter((t=>-1===Bo.indexOf(t.pos)&&t.box.axis===e))}function Go(t,e){return t.sort(((t,i)=>{const n=e?i:t,o=e?t:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight}))}function Ho(t){const e=[];let i,n,o,r,a,s;for(i=0,n=(t||[]).length;i<n;++i)o=t[i],({position:r,options:{stack:a,stackWeight:s=1}}=o),e.push({index:i,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:s});return e}function Xo(t){const e={};for(const i of t){const{stack:t,pos:n,stackWeight:o}=i;if(!t||!Bo.includes(n))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function jo(t,e){const i=Xo(t),{vBoxMaxWidth:n,hBoxMaxHeight:o}=e;let r,a,s;for(r=0,a=t.length;r<a;++r){s=t[r];const{fullSize:a}=s.box,l=i[s.stack],h=l&&s.stackWeight/l.weight;s.horizontal?(s.width=h?h*n:a&&e.availableWidth,s.height=o):(s.width=n,s.height=h?h*o:a&&e.availableHeight)}return i}function Yo(t){const e=Ho(t),i=Go(e.filter((t=>t.box.fullSize)),!0),n=Go(Fo(e,"left"),!0),o=Go(Fo(e,"right")),r=Go(Fo(e,"top"),!0),a=Go(Fo(e,"bottom")),s=Wo(e,"x"),l=Wo(e,"y");return{fullSize:i,leftAndTop:n.concat(r),rightAndBottom:o.concat(l).concat(a).concat(s),chartArea:Fo(e,"chartArea"),vertical:n.concat(o).concat(l),horizontal:r.concat(a).concat(s)}}function $o(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function Uo(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Zo(t,e,i,n){const{pos:o,box:r}=i,a=t.maxPadding;if(!it(o)){i.size&&(t[o]-=i.size);const e=n[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?r.height:r.width),i.size=e.size/e.count,t[o]+=i.size}r.getPadding&&Uo(a,r.getPadding());const s=Math.max(0,e.outerWidth-$o(a,t,"left","right")),l=Math.max(0,e.outerHeight-$o(a,t,"top","bottom")),h=s!==t.w,u=l!==t.h;return t.w=s,t.h=l,i.horizontal?{same:h,other:u}:{same:u,other:h}}function qo(t){const e=t.maxPadding;function i(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function Ko(t,e){const i=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function Jo(t,e,i,n){const o=[];let r,a,s,l,h,u;for(r=0,a=t.length,h=0;r<a;++r){s=t[r],l=s.box,l.update(s.width||e.w,s.height||e.h,Ko(s.horizontal,e));const{same:a,other:c}=Zo(e,i,s,n);h|=a&&o.length,u=u||c,l.fullSize||o.push(s)}return h&&Jo(o,e,i,n)||u}function Qo(t,e,i,n,o){t.top=i,t.left=e,t.right=e+n,t.bottom=i+o,t.width=n,t.height=o}function tr(t,e,i,n){const o=i.padding;let{x:r,y:a}=e;for(const s of t){const t=s.box,l=n[s.stack]||{count:1,placed:0,weight:1},h=s.stackWeight/l.weight||1;if(s.horizontal){const n=e.w*h,r=l.size||t.height;wt(l.start)&&(a=l.start),t.fullSize?Qo(t,o.left,a,i.outerWidth-o.right-o.left,r):Qo(t,e.left+l.placed,a,n,r),l.start=a,l.placed+=n,a=t.bottom}else{const n=e.h*h,a=l.size||t.width;wt(l.start)&&(r=l.start),t.fullSize?Qo(t,r,o.top,a,i.outerHeight-o.bottom-o.top):Qo(t,r,e.top+l.placed,a,n),l.start=r,l.placed+=n,r=t.right}}e.x=r,e.y=a}var er={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const o=hi(t.options.layout.padding),r=Math.max(e-o.width,0),a=Math.max(i-o.height,0),s=Yo(t.boxes),l=s.vertical,h=s.horizontal;ht(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,c=Object.freeze({outerWidth:e,outerHeight:i,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},o);Uo(d,hi(n));const p=Object.assign({maxPadding:d,w:r,h:a,x:o.left,y:o.top},o),g=jo(l.concat(h),c);Jo(s.fullSize,p,c,g),Jo(l,p,c,g),Jo(h,p,c,g)&&Jo(l,p,c,g),qo(p),tr(s.leftAndTop,p,c,g),p.x+=p.w,p.y+=p.h,tr(s.rightAndBottom,p,c,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ht(s.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class ir{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class nr extends ir{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const or="$chartjs",rr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ar=t=>null===t||""===t;function sr(t,e){const i=t.style,n=t.getAttribute("height"),o=t.getAttribute("width");if(t[or]={initial:{height:n,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ar(o)){const e=an(t,"width");void 0!==e&&(t.width=e)}if(ar(n))if(""===t.style.height)t.height=t.width/(e||2);else{const e=an(t,"height");void 0!==e&&(t.height=e)}return t}const lr=!!rn&&{passive:!0};function hr(t,e,i){t&&t.addEventListener(e,i,lr)}function ur(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,lr)}function cr(t,e){const i=rr[t.type]||t.type,{x:n,y:o}=Qi(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==o?o:null}}function dr(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function pr(t,e,i){const n=t.canvas,o=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||dr(i.addedNodes,n),e=e&&!dr(i.removedNodes,n);e&&i()}));return o.observe(document,{childList:!0,subtree:!0}),o}function gr(t,e,i){const n=t.canvas,o=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||dr(i.removedNodes,n),e=e&&!dr(i.addedNodes,n);e&&i()}));return o.observe(document,{childList:!0,subtree:!0}),o}const fr=new Map;let mr=0;function yr(){const t=window.devicePixelRatio;t!==mr&&(mr=t,fr.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function vr(t,e){fr.size||window.addEventListener("resize",yr),fr.set(t,e)}function xr(t){fr.delete(t),fr.size||window.removeEventListener("resize",yr)}function _r(t,e,i){const n=t.canvas,o=n&&ji(n);if(!o)return;const r=le(((t,e)=>{const n=o.clientWidth;i(t,e),n<o.clientWidth&&i()}),window),a=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||r(i,n)}));return a.observe(o),vr(t,r),a}function br(t,e,i){i&&i.disconnect(),"resize"===e&&xr(t)}function wr(t,e,i){const n=t.canvas,o=le((e=>{null!==t.ctx&&i(cr(e,t))}),t);return hr(n,e,o),o}class Mr extends ir{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(sr(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[or])return!1;const i=e[or].initial;["height","width"].forEach((t=>{const n=i[t];tt(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[or],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),o={attach:pr,detach:gr,resize:_r},r=o[e]||wr;n[e]=r(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;const o={attach:br,detach:br,resize:br},r=o[e]||ur;r(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return nn(t,e,i,n)}isAttached(t){const e=t&&ji(t);return!(!e||!e.isConnected)}}function Sr(t){return!Xi()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?nr:Mr}class Ir{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Bt(this.x)&&Bt(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach((t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),n}}function Ar(t,e){const i=t.options.ticks,n=Cr(t),o=Math.min(i.maxTicksLimit||n,n),r=i.major.enabled?Dr(e):[],a=r.length,s=r[0],l=r[a-1],h=[];if(a>o)return Lr(e,h,r,a/o),h;const u=Tr(r,e,o);if(a>0){let t,i;const n=a>1?Math.round((l-s)/(a-1)):null;for(kr(e,h,u,tt(n)?0:s-n,s),t=0,i=a-1;t<i;t++)kr(e,h,u,r[t],r[t+1]);return kr(e,h,u,l,tt(n)?e.length:l+n),h}return kr(e,h,u),h}function Cr(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),o=t._maxLength/i;return Math.floor(Math.min(n,o))}function Tr(t,e,i){const n=Pr(t),o=e.length/i;if(!n)return Math.max(o,1);const r=Vt(n);for(let a=0,s=r.length-1;a<s;a++){const t=r[a];if(t>o)return t}return Math.max(o,1)}function Dr(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}function Lr(t,e,i,n){let o,r=0,a=i[0];for(n=Math.ceil(n),o=0;o<t.length;o++)o===a&&(e.push(t[o]),r++,a=i[r*n])}function kr(t,e,i,n,o){const r=rt(n,0),a=Math.min(rt(o,t.length),t.length);let s,l,h,u=0;i=Math.ceil(i),o&&(s=o-n,i=s/Math.floor(s/i)),h=r;while(h<0)u++,h=Math.round(r+u*i);for(l=Math.max(r,0);l<a;l++)l===h&&(e.push(t[l]),u++,h=Math.round(r+u*i))}function Pr(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}const Or=t=>"left"===t?"right":"right"===t?"left":t,Nr=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Rr=(t,e)=>Math.min(e||t,t);function Er(t,e){const i=[],n=t.length/e,o=t.length;let r=0;for(;r<o;r+=n)i.push(t[Math.floor(r)]);return i}function zr(t,e,i){const n=t.ticks.length,o=Math.min(e,n-1),r=t._startPixel,a=t._endPixel,s=1e-6;let l,h=t.getPixelForTick(o);if(!(i&&(l=1===n?Math.max(h-r,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(o-1))/2,h+=o<e?l:-l,h<r-s||h>a+s)))return h}function Vr(t,e){ht(t,(t=>{const i=t.gc,n=i.length/2;let o;if(n>e){for(o=0;o<n;++o)delete t.data[i[o]];i.splice(0,n)}}))}function Br(t){return t.drawTicks?t.tickLength:0}function Fr(t,e){if(!t.display)return 0;const i=ui(t.font,e),n=hi(t.padding),o=et(t.text)?t.text.length:1;return o*i.lineHeight+n.height}function Wr(t,e){return pi(t,{scale:e,type:"scale"})}function Gr(t,e,i){return pi(t,{tick:i,index:e,type:"tick"})}function Hr(t,e,i){let n=ue(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=Or(n)),n}function Xr(t,e,i,n){const{top:o,left:r,bottom:a,right:s,chart:l}=t,{chartArea:h,scales:u}=l;let c,d,p,g=0;const f=a-o,m=s-r;if(t.isHorizontal()){if(d=ce(n,r,s),it(i)){const t=Object.keys(i)[0],n=i[t];p=u[t].getPixelForValue(n)+f-e}else p="center"===i?(h.bottom+h.top)/2+f-e:Nr(t,i,e);c=s-r}else{if(it(i)){const t=Object.keys(i)[0],n=i[t];d=u[t].getPixelForValue(n)-m+e}else d="center"===i?(h.left+h.right)/2-m+e:Nr(t,i,e);p=ce(n,a,o),g="left"===i?-kt:kt}return{titleX:d,titleY:p,maxWidth:c,rotation:g}}class jr extends Ir{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=ot(t,Number.POSITIVE_INFINITY),e=ot(e,Number.NEGATIVE_INFINITY),i=ot(i,Number.POSITIVE_INFINITY),n=ot(n,Number.NEGATIVE_INFINITY),{min:ot(t,i),max:ot(e,n),minDefined:nt(t),maxDefined:nt(e)}}getMinMax(t){let e,{min:i,max:n,minDefined:o,maxDefined:r}=this.getUserBounds();if(o&&r)return{min:i,max:n};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)e=a[s].controller.getMinMax(this,t),o||(i=Math.min(i,e.min)),r||(n=Math.max(n,e.max));return i=r&&i>n?n:i,n=o&&i>n?i:n,{min:ot(i,ot(n,i)),max:ot(n,ot(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){const e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=di(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?Er(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=Ar(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lt(this.options.afterUpdate,[this])}beforeSetDimensions(){lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),lt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,o;for(i=0,n=t.length;i<n;i++)o=t[i],o.label=lt(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Rr(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,o=e.maxRotation;let r,a,s,l=n;if(!this._isVisible()||!e.display||n>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const h=this._getLabelSizes(),u=h.widest.width,c=h.highest.height,d=qt(this.chart.width-u,0,this.maxWidth);r=t.offset?this.maxWidth/i:d/(i-1),u+6>r&&(r=d/(i-(t.offset?.5:1)),a=this.maxHeight-Br(t.grid)-e.padding-Fr(t.title,this.chart.options.font),s=Math.sqrt(u*u+c*c),l=Ht(Math.min(Math.asin(qt((h.highest.height+6)/r,-1,1)),Math.asin(qt(a/s,-1,1))-Math.asin(qt(c/s,-1,1)))),l=Math.max(n,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const r=Fr(n,e.options.font);if(a?(t.width=this.maxWidth,t.height=Br(o)+r):(t.height=this.maxHeight,t.width=Br(o)+r),i.display&&this.ticks.length){const{first:e,last:n,widest:o,highest:r}=this._getLabelSizes(),s=2*i.padding,l=Gt(this.labelRotation),h=Math.cos(l),u=Math.sin(l);if(a){const e=i.mirror?0:u*o.width+h*r.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=i.mirror?0:h*o.width+u*r.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,n,u,h)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:o,padding:r},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,c=0;s?l?(u=n*t.width,c=i*e.height):(u=i*t.height,c=n*e.width):"start"===o?c=e.width:"end"===o?u=t.width:"inner"!==o&&(u=t.width/2,c=e.width/2),this.paddingLeft=Math.max((u-a+r)*this.width/(this.width-a),0),this.paddingRight=Math.max((c-h+r)*this.width/(this.width-h),0)}else{let i=e.height/2,n=t.height/2;"start"===o?(i=0,n=t.height):"end"===o&&(i=e.height,n=0),this.paddingTop=i+r,this.paddingBottom=n+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)tt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Er(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:o}=this,r=[],a=[],s=Math.floor(e/Rr(e,i));let l,h,u,c,d,p,g,f,m,y,v,x=0,_=0;for(l=0;l<e;l+=s){if(c=t[l].label,d=this._resolveTickFontOptions(l),n.font=p=d.string,g=o[p]=o[p]||{data:{},gc:[]},f=d.lineHeight,m=y=0,tt(c)||et(c)){if(et(c))for(h=0,u=c.length;h<u;++h)v=c[h],tt(v)||et(v)||(m=Fe(n,g.data,g.gc,m,v),y+=f)}else m=Fe(n,g.data,g.gc,m,c),y=f;r.push(m),a.push(y),x=Math.max(m,x),_=Math.max(y,_)}Vr(o,e);const b=r.indexOf(x),w=a.indexOf(_),M=t=>({width:r[t]||0,height:a[t]||0});return{first:M(0),last:M(e-1),widest:M(b),highest:M(w),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Kt(this._alignToPixels?Ge(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Gr(this.getContext(),t,i))}return this.$context||(this.$context=Wr(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Gt(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,s=o?o.highest.height+r:0;return this.isHorizontal()?s*i>a*n?a/i:s/n:s*n<a*i?s/i:a/n}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:o,position:r,border:a}=n,s=o.offset,l=this.isHorizontal(),h=this.ticks,u=h.length+(s?1:0),c=Br(o),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,f=g/2,m=function(t){return Ge(i,t,g)};let y,v,x,_,b,w,M,S,I,A,C,T;if("top"===r)y=m(this.bottom),w=this.bottom-c,S=y-f,A=m(t.top)+f,T=t.bottom;else if("bottom"===r)y=m(this.top),A=t.top,T=m(t.bottom)-f,w=y+f,S=this.top+c;else if("left"===r)y=m(this.right),b=this.right-c,M=y-f,I=m(t.left)+f,C=t.right;else if("right"===r)y=m(this.left),I=t.left,C=m(t.right)-f,b=y+f,M=this.left+c;else if("x"===e){if("center"===r)y=m((t.top+t.bottom)/2+.5);else if(it(r)){const t=Object.keys(r)[0],e=r[t];y=m(this.chart.scales[t].getPixelForValue(e))}A=t.top,T=t.bottom,w=y+f,S=w+c}else if("y"===e){if("center"===r)y=m((t.left+t.right)/2);else if(it(r)){const t=Object.keys(r)[0],e=r[t];y=m(this.chart.scales[t].getPixelForValue(e))}b=y-f,M=b-c,I=t.left,C=t.right}const D=rt(n.ticks.maxTicksLimit,u),L=Math.max(1,Math.ceil(u/D));for(v=0;v<u;v+=L){const t=this.getContext(v),e=o.setContext(t),n=a.setContext(t),r=e.lineWidth,h=e.color,u=n.dash||[],c=n.dashOffset,p=e.tickWidth,g=e.tickColor,f=e.tickBorderDash||[],m=e.tickBorderDashOffset;x=zr(this,v,s),void 0!==x&&(_=Ge(i,x,r),l?b=M=I=C=_:w=S=A=T=_,d.push({tx1:b,ty1:w,tx2:M,ty2:S,x1:I,y1:A,x2:C,y2:T,width:r,color:h,borderDash:u,borderDashOffset:c,tickWidth:p,tickColor:g,tickBorderDash:f,tickBorderDashOffset:m}))}return this._ticksLength=u,this._borderValue=y,d}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:o}=i,r=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:l,padding:h,mirror:u}=o,c=Br(i.grid),d=c+h,p=u?-h:d,g=-Gt(this.labelRotation),f=[];let m,y,v,x,_,b,w,M,S,I,A,C,T="middle";if("top"===n)b=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===n)b=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===n){const t=this._getYAxisLabelAlignment(c);w=t.textAlign,_=t.x}else if("right"===n){const t=this._getYAxisLabelAlignment(c);w=t.textAlign,_=t.x}else if("x"===e){if("center"===n)b=(t.top+t.bottom)/2+d;else if(it(n)){const t=Object.keys(n)[0],e=n[t];b=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===n)_=(t.left+t.right)/2-d;else if(it(n)){const t=Object.keys(n)[0],e=n[t];_=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(c).textAlign}"y"===e&&("start"===s?T="top":"end"===s&&(T="bottom"));const D=this._getLabelSizes();for(m=0,y=a.length;m<y;++m){v=a[m],x=v.label;const t=o.setContext(this.getContext(m));M=this.getPixelForTick(m)+o.labelOffset,S=this._resolveTickFontOptions(m),I=S.lineHeight,A=et(x)?x.length:1;const e=A/2,i=t.color,s=t.textStrokeColor,h=t.textStrokeWidth;let c,d=w;if(r?(_=M,"inner"===w&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==g?-A*I+I/2:"center"===l?-D.highest.height/2-e*I+I:-D.highest.height+I/2:"near"===l||0!==g?I/2:"center"===l?D.highest.height/2-e*I:D.highest.height-A*I,u&&(C*=-1),0===g||t.showLabelBackdrop||(_+=I/2*Math.sin(g))):(b=M,C=(1-A)*I/2),t.showLabelBackdrop){const e=hi(t.backdropPadding),i=D.heights[m],n=D.widths[m];let o=C-e.top,r=0-e.left;switch(T){case"middle":o-=i/2;break;case"bottom":o-=i;break}switch(w){case"center":r-=n/2;break;case"right":r-=n;break;case"inner":m===y-1?r-=n:m>0&&(r-=n/2);break}c={left:r,top:o,width:n+e.width,height:i+e.height,color:t.backdropColor}}f.push({label:x,font:S,textOffset:C,options:{rotation:g,color:i,strokeColor:s,strokeWidth:h,textAlign:d,textBaseline:T,translation:[_,b],backdrop:c}})}return f}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,i=-Gt(this.labelRotation);if(i)return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,s=r.widest.width;let l,h;return"left"===e?n?(h=this.right+o,"near"===i?l="left":"center"===i?(l="center",h+=s/2):(l="right",h+=s)):(h=this.right-a,"near"===i?l="right":"center"===i?(l="center",h-=s/2):(l="left",h=this.left)):"right"===e?n?(h=this.left+o,"near"===i?l="right":"center"===i?(l="center",h-=s/2):(l="left",h-=s)):(h=this.left+a,"near"===i?l="left":"center"===i?(l="center",h+=s/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,o,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks,n=i.findIndex((e=>e.value===t));if(n>=0){const t=e.setContext(this.getContext(n));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(t,e,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(o=0,r=n.length;o<r;++o){const t=n[o];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;const a=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,h,u,c;this.isHorizontal()?(l=Ge(t,this.left,r)-r/2,h=Ge(t,this.right,a)+a/2,u=c=s):(u=Ge(t,this.top,r)-r/2,c=Ge(t,this.bottom,a)+a/2,l=h=s),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,u),e.lineTo(h,c),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const i=this.ctx,n=this._computeLabelArea();n&&$e(i,n);const o=this.getLabelItems(t);for(const r of o){const t=r.options,e=r.font,n=r.label,o=r.textOffset;ti(i,n,0,o,e,t)}n&&Ue(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const o=ui(i.font),r=hi(i.padding),a=i.align;let s=o.lineHeight/2;"bottom"===e||"center"===e||it(e)?(s+=r.bottom,et(i.text)&&(s+=o.lineHeight*(i.text.length-1))):s+=r.top;const{titleX:l,titleY:h,maxWidth:u,rotation:c}=Xr(this,s,e,a);ti(t,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:c,textAlign:Hr(a,e,n),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=rt(t.grid&&t.grid.z,-1),n=rt(t.border&&t.border.z,0);return this._isVisible()&&this.draw===jr.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let o,r;for(o=0,r=e.length;o<r;++o){const r=e[o];r[i]!==this.id||t&&r.type!==t||n.push(r)}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ui(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Yr{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Zr(e)&&(i=this.register(e));const n=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in n||(n[o]=t,$r(t,r,i),this.override&&Ve.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in Ve[n]&&(delete Ve[n][i],this.override&&delete Oe[i])}}function $r(t,e,i){const n=gt(Object.create(null),[i?Ve.get(i):{},Ve.get(e),t.defaults]);Ve.set(e,n),t.defaultRoutes&&Ur(e,t.defaultRoutes),t.descriptors&&Ve.describe(e,t.descriptors)}function Ur(t,e){Object.keys(e).forEach((i=>{const n=i.split("."),o=n.pop(),r=[t].concat(n).join("."),a=e[i].split("."),s=a.pop(),l=a.join(".");Ve.route(r,o,l,s)}))}function Zr(t){return"id"in t&&"defaults"in t}class qr{constructor(){this.controllers=new Yr(to,"datasets",!0),this.elements=new Yr(Ir,"elements"),this.plugins=new Yr(Object,"plugins"),this.scales=new Yr(jr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):ht(e,(e=>{const n=i||this._getRegistryForType(e);this._exec(t,n,e)}))}))}_exec(t,e,i){const n=bt(t);lt(i["before"+n],[],i),e[t](i),lt(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var Kr=new qr;class Jr{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=n?this._descriptors(t).filter(n):this._descriptors(t),r=this._notify(o,t,e,i);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,i,n){n=n||{};for(const o of t){const t=o.plugin,r=t[i],a=[e,n,o.options];if(!1===lt(r,a,t)&&n.cancelable)return!1}return!0}invalidate(){tt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=rt(i.options&&i.options.plugins,{}),o=Qr(i);return!1!==n||e?ea(t,o,n,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function Qr(t){const e={},i=[],n=Object.keys(Kr.plugins.items);for(let r=0;r<n.length;r++)i.push(Kr.getPlugin(n[r]));const o=t.plugins||[];for(let r=0;r<o.length;r++){const t=o[r];-1===i.indexOf(t)&&(i.push(t),e[t.id]=!0)}return{plugins:i,localIds:e}}function ta(t,e){return e||!1!==t?!0===t?{}:t:null}function ea(t,{plugins:e,localIds:i},n,o){const r=[],a=t.getContext();for(const s of e){const e=s.id,l=ta(n[e],o);null!==l&&r.push({plugin:s,options:ia(t.config,{plugin:s,local:i[e]},l,a)})}return r}function ia(t,{plugin:e,local:i},n,o){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(n,r);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function na(t,e){const i=Ve.datasets[t]||{},n=(e.datasets||{})[t]||{};return n.indexAxis||e.indexAxis||i.indexAxis||"x"}function oa(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}function ra(t,e){return t===e?"_index_":"_value_"}function aa(t){if("x"===t||"y"===t||"r"===t)return t}function sa(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function la(t,...e){if(aa(t))return t;for(const i of e){const e=i.axis||sa(i.position)||t.length>1&&aa(t[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ha(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function ua(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return ha(t,"x",i[0])||ha(t,"y",i[0])}return{}}function ca(t,e){const i=Oe[t.type]||{scales:{}},n=e.scales||{},o=na(t.type,e),r=Object.create(null);return Object.keys(n).forEach((e=>{const a=n[e];if(!it(a))return console.error(`Invalid scale configuration for scale: ${e}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const s=la(e,a,ua(e,t),Ve.scales[a.type]),l=ra(s,o),h=i.scales||{};r[e]=ft(Object.create(null),[{axis:s},a,h[s],h[l]])})),t.data.datasets.forEach((i=>{const o=i.type||t.type,a=i.indexAxis||na(o,e),s=Oe[o]||{},l=s.scales||{};Object.keys(l).forEach((t=>{const e=oa(t,a),o=i[e+"AxisID"]||e;r[o]=r[o]||Object.create(null),ft(r[o],[{axis:e},n[o],l[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];ft(e,[Ve.scales[e.type],Ve.scale])})),r}function da(t){const e=t.options||(t.options={});e.plugins=rt(e.plugins,{}),e.scales=ca(t,e)}function pa(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ga(t){return t=t||{},t.data=pa(t.data),da(t),t}const fa=new Map,ma=new Set;function ya(t,e){let i=fa.get(t);return i||(i=e(),fa.set(t,i),ma.add(i)),i}const va=(t,e,i)=>{const n=_t(e,i);void 0!==n&&t.add(n)};class xa{constructor(t){this._config=ga(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=pa(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),da(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ya(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return ya(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return ya(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,i=this.type;return ya(`${i}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:o}=this,r=this._cachedScopes(t,i),a=r.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>va(s,t,e)))),e.forEach((t=>va(s,n,t))),e.forEach((t=>va(s,Oe[o]||{},t))),e.forEach((t=>va(s,Ve,t))),e.forEach((t=>va(s,Ne,t)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),ma.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Oe[e]||{},Ve.datasets[e]||{},{type:e},Ve,Ne]}resolveNamedOptions(t,e,i,n=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=_a(this._resolverCache,t,n);let s=r;if(wa(r,e)){o.$shared=!1,i=Mt(i)?i():i;const e=this.createResolver(t,i,a);s=fi(r,i,e)}for(const l of e)o[l]=s[l];return o}createResolver(t,e,i=[""],n){const{resolver:o}=_a(this._resolverCache,t,i);return it(e)?fi(o,e,void 0,n):o}}function _a(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const o=i.join();let r=n.get(o);if(!r){const t=gi(e,i);r={resolver:t,subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},n.set(o,r)}return r}const ba=t=>it(t)&&Object.getOwnPropertyNames(t).some((e=>Mt(t[e])));function wa(t,e){const{isScriptable:i,isIndexable:n}=mi(t);for(const o of e){const e=i(o),r=n(o),a=(r||e)&&t[o];if(e&&(Mt(a)||ba(a))||r&&et(a))return!0}return!1}var Ma="4.4.4";const Sa=["top","bottom","left","right","chartArea"];function Ia(t,e){return"top"===t||"bottom"===t||-1===Sa.indexOf(t)&&"x"===e}function Aa(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Ca(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),lt(i&&i.onComplete,[t],e)}function Ta(t){const e=t.chart,i=e.options.animation;lt(i&&i.onProgress,[t],e)}function Da(t){return Xi()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const La={},ka=t=>{const e=Da(t);return Object.values(La).filter((t=>t.canvas===e)).pop()};function Pa(t,e,i){const n=Object.keys(t);for(const o of n){const n=+o;if(n>=e){const r=t[o];delete t[o],(i>0||n>e)&&(t[n+i]=r)}}}function Oa(t,e,i,n){return i&&"mouseout"!==t.type?n?e:t:null}function Na(t,e,i){return t.options.clip?t[i]:e[i]}function Ra(t,e){const{xScale:i,yScale:n}=t;return i&&n?{left:Na(i,e,"left"),right:Na(i,e,"right"),top:Na(n,e,"top"),bottom:Na(n,e,"bottom")}:e}class Ea{static defaults=Ve;static instances=La;static overrides=Oe;static registry=Kr;static version=Ma;static getChart=ka;static register(...t){Kr.add(...t),za()}static unregister(...t){Kr.remove(...t),za()}constructor(t,e){const i=this.config=new xa(e),n=Da(t),o=ka(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Sr(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,r.aspectRatio),s=a&&a.canvas,l=s&&s.height,h=s&&s.width;this.id=Q(),this.ctx=a,this.canvas=s,this.width=h,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=he((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],La[this.id]=this,a&&s?(Tn.listen(this,"complete",Ca),Tn.listen(this,"progress",Ta),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:o}=this;return tt(t)?e&&o?o:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Kr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():on(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return He(this.canvas,this.ctx),this}stop(){return Tn.stop(this),this}resize(t,e){Tn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,t,e,o),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,on(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),lt(i.onResize,[this,r],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};ht(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let o=[];e&&(o=o.concat(Object.keys(e).map((t=>{const i=e[t],n=la(t,i),o="r"===n,r="x"===n;return{options:i,dposition:o?"chartArea":r?"bottom":"left",dtype:o?"radialLinear":r?"category":"linear"}})))),ht(o,(e=>{const o=e.options,r=o.id,a=la(r,o),s=rt(o.type,e.dtype);void 0!==o.position&&Ia(o.position,a)===Ia(e.dposition)||(o.position=e.dposition),n[r]=!0;let l=null;if(r in i&&i[r].type===s)l=i[r];else{const t=Kr.getScale(s);l=new t({id:r,type:s,ctx:this.ctx,chart:this}),i[l.id]=l}l.init(o,t)})),ht(n,((t,e)=>{t||delete i[e]})),ht(i,(t=>{er.configure(this,t,t.options),er.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Aa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const n=e[i];let o=this.getDatasetMeta(i);const r=n.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=r,o.indexAxis=n.indexAxis||na(r,this.options),o.order=n.order||0,o.index=i,o.label=""+n.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const e=Kr.getController(r),{datasetElementType:n,dataElementType:a}=Ve.datasets[r];Object.assign(e,{dataElementType:Kr.getElement(a),datasetElementType:n&&Kr.getElement(n)}),o.controller=new e(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ht(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:t}=this.getDatasetMeta(l),e=!n&&-1===o.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),n||ht(o,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Aa("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ht(this.scales,(t=>{er.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);St(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:o}of e){const e="_removeElements"===i?-o:o;Pa(t,n,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=i(0);for(let o=1;o<e;o++)if(!St(n,i(o)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;er.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ht(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Mt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Tn.has(this)?this.attached&&!Tn.running(this)&&Tn.start(this):(this.draw(),Ca({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];t&&!o.visible||i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,n=!i.disabled,o=Ra(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&$e(e,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),t.controller.draw(),n&&Ue(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Ye(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const o=Vo.modes[e];return"function"===typeof o?o(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter((t=>t&&t._dataset===e)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"===typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,n);wt(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),r.update(o,{visible:i}),this.update((e=>e.datasetIndex===t?n:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Tn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),He(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete La[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};ht(this.options.events,(t=>i(t,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(i,n)=>{t[i]&&(e.removeEventListener(this,i,n),delete t[i])},o=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",o),i("detach",r)};r=()=>{this.attached=!1,n("resize",o),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():r()}unbindEvents(){ht(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},ht(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let o,r,a,s;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+n+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){r=t[a];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!ut(i,e);n&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const n=this.options.hover,o=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=o(e,t),a=i?t:o(t,e);r.length&&this.updateHoverStyle(r,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:o}=this,r=e,a=this._getActiveElements(t,n,i,r),s=It(t),l=Oa(t,this._lastEvent,i,s);i&&(this._lastEvent=null,lt(o.onHover,[t,a,this],this),s&&lt(o.onClick,[t,a,this],this));const h=!ut(a,n);return(h||e)&&(this._active=a,this._updateHoverStyles(a,n,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,n)}}function za(){return ht(Ea.instances,(t=>t._plugins.invalidate()))}function Va(t,e,i){const{startAngle:n,pixelMargin:o,x:r,y:a,outerRadius:s,innerRadius:l}=e;let h=o/s;t.beginPath(),t.arc(r,a,s,n-h,i+h),l>o?(h=o/l,t.arc(r,a,l,i+h,n-h,!0)):t.arc(r,a,o,i+kt,n-kt),t.closePath(),t.clip()}function Ba(t){return ai(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Fa(t,e,i,n){const o=Ba(t.options.borderRadius),r=(i-e)/2,a=Math.min(r,n*e/2),s=t=>{const e=(i-Math.min(r,t))*n/2;return qt(t,0,Math.min(r,e))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:qt(o.innerStart,0,a),innerEnd:qt(o.innerEnd,0,a)}}function Wa(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ga(t,e,i,n,o,r){const{x:a,y:s,startAngle:l,pixelMargin:h,innerRadius:u}=e,c=Math.max(e.outerRadius+n+i-h,0),d=u>0?u+n+i+h:0;let p=0;const g=o-l;if(n){const t=u>0?u-n:0,e=c>0?c-n:0,i=(t+e)/2,o=0!==i?g*i/(i+n):g;p=(g-o)/2}const f=Math.max(.001,g*c-i/At)/c,m=(g-f)/2,y=l+m+p,v=o-m-p,{outerStart:x,outerEnd:_,innerStart:b,innerEnd:w}=Fa(e,d,c,v-y),M=c-x,S=c-_,I=y+x/M,A=v-_/S,C=d+b,T=d+w,D=y+b/C,L=v-w/T;if(t.beginPath(),r){const e=(I+A)/2;if(t.arc(a,s,c,I,e),t.arc(a,s,c,e,A),_>0){const e=Wa(S,A,a,s);t.arc(e.x,e.y,_,A,v+kt)}const i=Wa(T,v,a,s);if(t.lineTo(i.x,i.y),w>0){const e=Wa(T,L,a,s);t.arc(e.x,e.y,w,v+kt,L+Math.PI)}const n=(v-w/d+(y+b/d))/2;if(t.arc(a,s,d,v-w/d,n,!0),t.arc(a,s,d,n,y+b/d,!0),b>0){const e=Wa(C,D,a,s);t.arc(e.x,e.y,b,D+Math.PI,y-kt)}const o=Wa(M,y,a,s);if(t.lineTo(o.x,o.y),x>0){const e=Wa(M,I,a,s);t.arc(e.x,e.y,x,y-kt,I)}}else{t.moveTo(a,s);const e=Math.cos(I)*c+a,i=Math.sin(I)*c+s;t.lineTo(e,i);const n=Math.cos(A)*c+a,o=Math.sin(A)*c+s;t.lineTo(n,o)}t.closePath()}function Ha(t,e,i,n,o){const{fullCircles:r,startAngle:a,circumference:s}=e;let l=e.endAngle;if(r){Ga(t,e,i,n,l,o);for(let e=0;e<r;++e)t.fill();isNaN(s)||(l=a+(s%Ct||Ct))}return Ga(t,e,i,n,l,o),t.fill(),l}function Xa(t,e,i,n,o){const{fullCircles:r,startAngle:a,circumference:s,options:l}=e,{borderWidth:h,borderJoinStyle:u,borderDash:c,borderDashOffset:d}=l,p="inner"===l.borderAlign;if(!h)return;t.setLineDash(c||[]),t.lineDashOffset=d,p?(t.lineWidth=2*h,t.lineJoin=u||"round"):(t.lineWidth=h,t.lineJoin=u||"bevel");let g=e.endAngle;if(r){Ga(t,e,i,n,g,o);for(let e=0;e<r;++e)t.stroke();isNaN(s)||(g=a+(s%Ct||Ct))}p&&Va(t,e,g),r||(Ga(t,e,i,n,g,o),t.stroke())}class ja extends Ir{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.getProps(["x","y"],i),{angle:o,distance:r}=jt(n,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),c=(this.options.spacing+this.options.borderWidth)/2,d=rt(u,s-a),p=Zt(o,a,s)&&a!==s,g=d>=Ct||p,f=Jt(r,l+c,h+c);return g&&f}getCenterPoint(t){const{x:e,y:i,startAngle:n,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:s,spacing:l}=this.options,h=(n+o)/2,u=(r+a+l+s)/2;return{x:e+Math.cos(h)*u,y:i+Math.sin(h)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,n=(e.offset||0)/4,o=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Ct?Math.floor(i/Ct):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*n,Math.sin(a)*n);const s=1-Math.sin(Math.min(At,i||0)),l=n*s;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Ha(t,this,l,o,r),Xa(t,this,l,o,r),t.restore()}}function Ya(t,e,i=e){t.lineCap=rt(i.borderCapStyle,e.borderCapStyle),t.setLineDash(rt(i.borderDash,e.borderDash)),t.lineDashOffset=rt(i.borderDashOffset,e.borderDashOffset),t.lineJoin=rt(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=rt(i.borderWidth,e.borderWidth),t.strokeStyle=rt(i.borderColor,e.borderColor)}function $a(t,e,i){t.lineTo(i.x,i.y)}function Ua(t){return t.stepped?Ze:t.tension||"monotone"===t.cubicInterpolationMode?qe:$a}function Za(t,e,i={}){const n=t.length,{start:o=0,end:r=n-1}=i,{start:a,end:s}=e,l=Math.max(o,a),h=Math.min(r,s),u=o<a&&r<a||o>s&&r>s;return{count:n,start:l,loop:e.loop,ilen:h<l&&!u?n+h-l:h-l}}function qa(t,e,i,n){const{points:o,options:r}=e,{count:a,start:s,loop:l,ilen:h}=Za(o,i,n),u=Ua(r);let c,d,p,{move:g=!0,reverse:f}=n||{};for(c=0;c<=h;++c)d=o[(s+(f?h-c:c))%a],d.skip||(g?(t.moveTo(d.x,d.y),g=!1):u(t,p,d,f,r.stepped),p=d);return l&&(d=o[(s+(f?h:0))%a],u(t,p,d,f,r.stepped)),!!l}function Ka(t,e,i,n){const o=e.points,{count:r,start:a,ilen:s}=Za(o,i,n),{move:l=!0,reverse:h}=n||{};let u,c,d,p,g,f,m=0,y=0;const v=t=>(a+(h?s-t:t))%r,x=()=>{p!==g&&(t.lineTo(m,g),t.lineTo(m,p),t.lineTo(m,f))};for(l&&(c=o[v(0)],t.moveTo(c.x,c.y)),u=0;u<=s;++u){if(c=o[v(u)],c.skip)continue;const e=c.x,i=c.y,n=0|e;n===d?(i<p?p=i:i>g&&(g=i),m=(y*m+e)/++y):(x(),t.lineTo(e,i),d=n,y=0,p=g=i),f=i}x()}function Ja(t){const e=t.options,i=e.borderDash&&e.borderDash.length,n=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!i;return n?Ka:qa}function Qa(t){return t.stepped?ln:t.tension||"monotone"===t.cubicInterpolationMode?hn:sn}function ts(t,e,i,n){let o=e._path;o||(o=e._path=new Path2D,e.path(o,i,n)&&o.closePath()),Ya(t,e.options),t.stroke(o)}function es(t,e,i,n){const{segments:o,options:r}=e,a=Ja(e);for(const s of o)Ya(t,r,s.style),t.beginPath(),a(t,e,s,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}const is="function"===typeof Path2D;function ns(t,e,i,n){is&&!e.options.segment?ts(t,e,i,n):es(t,e,i,n)}class os extends Ir{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Hi(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wn(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],o=this.points,r=xn(this,{property:e,start:n,end:n});if(!r.length)return;const a=[],s=Qa(i);let l,h;for(l=0,h=r.length;l<h;++l){const{start:h,end:u}=r[l],c=o[h],d=o[u];if(c===d){a.push(c);continue}const p=Math.abs((n-c[e])/(d[e]-c[e])),g=s(c,d,p,i.stepped);g[e]=t[e],a.push(g)}return 1===a.length?a[0]:a}pathSegment(t,e,i){const n=Ja(this);return n(t,this,e,i)}path(t,e,i){const n=this.segments,o=Ja(this);let r=this._loop;e=e||0,i=i||this.points.length-e;for(const a of n)r&=o(t,this,a,{start:e,end:e+i-1});return!!r}draw(t,e,i,n){const o=this.options||{},r=this.points||[];r.length&&o.borderWidth&&(t.save(),ns(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function rs(t,e,i,n){const o=t.options,{[i]:r}=t.getProps([i],n);return Math.abs(e-r)<o.radius+o.hitRadius}class as extends Ir{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.options,{x:o,y:r}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return rs(this,t,"x",e)}inYRange(t,e){return rs(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return 2*(e+i)}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Ye(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Xe(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function ss(t,e){const{x:i,y:n,base:o,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let s,l,h,u,c;return t.horizontal?(c=a/2,s=Math.min(i,o),l=Math.max(i,o),h=n-c,u=n+c):(c=r/2,s=i-c,l=i+c,h=Math.min(n,o),u=Math.max(n,o)),{left:s,top:h,right:l,bottom:u}}function ls(t,e,i,n){return t?0:qt(e,i,n)}function hs(t,e,i){const n=t.options.borderWidth,o=t.borderSkipped,r=si(n);return{t:ls(o.top,r.top,0,i),r:ls(o.right,r.right,0,e),b:ls(o.bottom,r.bottom,0,i),l:ls(o.left,r.left,0,e)}}function us(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=li(o),a=Math.min(e,i),s=t.borderSkipped,l=n||it(o);return{topLeft:ls(!l||s.top||s.left,r.topLeft,0,a),topRight:ls(!l||s.top||s.right,r.topRight,0,a),bottomLeft:ls(!l||s.bottom||s.left,r.bottomLeft,0,a),bottomRight:ls(!l||s.bottom||s.right,r.bottomRight,0,a)}}function cs(t){const e=ss(t),i=e.right-e.left,n=e.bottom-e.top,o=hs(t,i/2,n/2),r=us(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:i-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function ds(t,e,i,n){const o=null===e,r=null===i,a=o&&r,s=t&&!a&&ss(t,n);return s&&(o||Jt(e,s.left,s.right))&&(r||Jt(i,s.top,s.bottom))}function ps(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gs(t,e){t.rect(e.x,e.y,e.w,e.h)}function fs(t,e,i={}){const n=t.x!==i.x?-e:0,o=t.y!==i.y?-e:0,r=(t.x+t.w!==i.x+i.w?e:0)-n,a=(t.y+t.h!==i.y+i.h?e:0)-o;return{x:t.x+n,y:t.y+o,w:t.w+r,h:t.h+a,radius:t.radius}}class ms extends Ir{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:o,outer:r}=cs(this),a=ps(r.radius)?ei:gs;t.save(),r.w===o.w&&r.h===o.h||(t.beginPath(),a(t,fs(r,e,o)),t.clip(),a(t,fs(o,-e,r)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,fs(o,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return ds(this,t,e,i)}inXRange(t,e){return ds(this,t,null,e)}inYRange(t,e){return ds(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+n)/2:e,y:o?i:(i+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}var ys=Object.freeze({__proto__:null,ArcElement:ja,BarElement:ms,LineElement:os,PointElement:as});const vs=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xs=vs.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function _s(t){return vs[t%vs.length]}function bs(t){return xs[t%xs.length]}function ws(t,e){return t.borderColor=_s(e),t.backgroundColor=bs(e),++e}function Ms(t,e){return t.backgroundColor=t.data.map((()=>_s(e++))),e}function Ss(t,e){return t.backgroundColor=t.data.map((()=>bs(e++))),e}function Is(t){let e=0;return(i,n)=>{const o=t.getDatasetMeta(n).controller;o instanceof _o?e=Ms(i,e):o instanceof wo?e=Ss(i,e):o&&(e=ws(i,e))}}function As(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Cs(t){return t&&(t.borderColor||t.backgroundColor)}var Ts={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:o}=t.config,{elements:r}=o;if(!i.forceOverride&&(As(n)||Cs(o)||r&&As(r)))return;const a=Is(t);n.forEach(a)}};function Ds(t,e,i,n,o){const r=o.samples||n;if(r>=i)return t.slice(e,e+i);const a=[],s=(i-2)/(r-2);let l=0;const h=e+i-1;let u,c,d,p,g,f=e;for(a[l++]=t[f],u=0;u<r-2;u++){let n,o=0,r=0;const h=Math.floor((u+1)*s)+1+e,m=Math.min(Math.floor((u+2)*s)+1,i)+e,y=m-h;for(n=h;n<m;n++)o+=t[n].x,r+=t[n].y;o/=y,r/=y;const v=Math.floor(u*s)+1+e,x=Math.min(Math.floor((u+1)*s)+1,i)+e,{x:_,y:b}=t[f];for(d=p=-1,n=v;n<x;n++)p=.5*Math.abs((_-o)*(t[n].y-b)-(_-t[n].x)*(r-b)),p>d&&(d=p,c=t[n],g=n);a[l++]=c,f=g}return a[l++]=t[h],a}function Ls(t,e,i,n){let o,r,a,s,l,h,u,c,d,p,g=0,f=0;const m=[],y=e+i-1,v=t[e].x,x=t[y].x,_=x-v;for(o=e;o<e+i;++o){r=t[o],a=(r.x-v)/_*n,s=r.y;const e=0|a;if(e===l)s<d?(d=s,h=o):s>p&&(p=s,u=o),g=(f*g+r.x)/++f;else{const i=o-1;if(!tt(h)&&!tt(u)){const e=Math.min(h,u),n=Math.max(h,u);e!==c&&e!==i&&m.push({...t[e],x:g}),n!==c&&n!==i&&m.push({...t[n],x:g})}o>0&&i!==c&&m.push(t[i]),m.push(r),l=e,f=0,d=p=s,h=u=c=o}}return m}function ks(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Ps(t){t.data.datasets.forEach((t=>{ks(t)}))}function Os(t,e){const i=e.length;let n,o=0;const{iScale:r}=t,{min:a,max:s,minDefined:l,maxDefined:h}=r.getUserBounds();return l&&(o=qt(te(e,r.axis,a).lo,0,i-1)),n=h?qt(te(e,r.axis,s).hi+1,o,i)-o:i-o,{start:o,count:n}}var Ns={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void Ps(t);const n=t.width;t.data.datasets.forEach(((e,o)=>{const{_data:r,indexAxis:a}=e,s=t.getDatasetMeta(o),l=r||e.data;if("y"===ci([a,t.options.indexAxis]))return;if(!s.controller.supportsDecimation)return;const h=t.scales[s.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(t.options.parsing)return;let{start:u,count:c}=Os(s,l);const d=i.threshold||4*n;if(c<=d)return void ks(e);let p;switch(tt(r)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":p=Ds(l,u,c,n,i);break;case"min-max":p=Ls(l,u,c,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=p}))},destroy(t){Ps(t)}};function Rs(t,e,i){const n=t.segments,o=t.points,r=e.points,a=[];for(const s of n){let{start:t,end:n}=s;n=Vs(t,n,o);const l=Es(i,o[t],o[n],s.loop);if(!e.segments){a.push({source:s,target:l,start:o[t],end:o[n]});continue}const h=xn(e,l);for(const e of h){const t=Es(i,r[e.start],r[e.end],e.loop),n=vn(s,o,t);for(const o of n)a.push({source:o,target:e,start:{[i]:Bs(l,t,"start",Math.max)},end:{[i]:Bs(l,t,"end",Math.min)}})}}return a}function Es(t,e,i,n){if(n)return;let o=e[t],r=i[t];return"angle"===t&&(o=Ut(o),r=Ut(r)),{property:t,start:o,end:r}}function zs(t,e){const{x:i=null,y:n=null}=t||{},o=e.points,r=[];return e.segments.forEach((({start:t,end:e})=>{e=Vs(t,e,o);const a=o[t],s=o[e];null!==n?(r.push({x:a.x,y:n}),r.push({x:s.x,y:n})):null!==i&&(r.push({x:i,y:a.y}),r.push({x:i,y:s.y}))})),r}function Vs(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Bs(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function Fs(t,e){let i=[],n=!1;return et(t)?(n=!0,i=t):i=zs(t,e),i.length?new os({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Ws(t){return t&&!1!==t.fill}function Gs(t,e,i){const n=t[e];let o=n.fill;const r=[e];let a;if(!i)return o;while(!1!==o&&-1===r.indexOf(o)){if(!nt(o))return o;if(a=t[o],!a)return!1;if(a.visible)return o;r.push(o),o=a.fill}return!1}function Hs(t,e,i){const n=$s(t);if(it(n))return!isNaN(n.value)&&n;let o=parseFloat(n);return nt(o)&&Math.floor(o)===o?Xs(n[0],e,o,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Xs(t,e,i,n){return"-"!==t&&"+"!==t||(i=e+i),!(i===e||i<0||i>=n)&&i}function js(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:it(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}function Ys(t,e,i){let n;return n="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:it(t)?t.value:e.getBaseValue(),n}function $s(t){const e=t.options,i=e.fill;let n=rt(i&&i.target,i);return void 0===n&&(n=!!e.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}function Us(t){const{scale:e,index:i,line:n}=t,o=[],r=n.segments,a=n.points,s=Zs(e,i);s.push(Fs({x:null,y:e.bottom},n));for(let l=0;l<r.length;l++){const t=r[l];for(let e=t.start;e<=t.end;e++)qs(o,a[e],s)}return new os({points:o,options:{}})}function Zs(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){const t=n[o];if(t.index===e)break;t.hidden||i.unshift(t.dataset)}return i}function qs(t,e,i){const n=[];for(let o=0;o<i.length;o++){const r=i[o],{first:a,last:s,point:l}=Ks(r,e,"x");if(!(!l||a&&s))if(a)n.unshift(l);else if(t.push(l),!s)break}t.push(...n)}function Ks(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const o=n[i],r=t.segments,a=t.points;let s=!1,l=!1;for(let h=0;h<r.length;h++){const t=r[h],e=a[t.start][i],n=a[t.end][i];if(Jt(o,e,n)){s=o===e,l=o===n;break}}return{first:s,last:l,point:n}}class Js{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:o,radius:r}=this;return e=e||{start:0,end:Ct},t.arc(n,o,r,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,o=t.angle;return{x:e+Math.cos(o)*n,y:i+Math.sin(o)*n,angle:o}}}function Qs(t){const{chart:e,fill:i,line:n}=t;if(nt(i))return tl(e,i);if("stack"===i)return Us(t);if("shape"===i)return!0;const o=el(t);return o instanceof Js?o:Fs(o,n)}function tl(t,e){const i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}function el(t){const e=t.scale||{};return e.getPointPositionForValue?nl(t):il(t)}function il(t){const{scale:e={},fill:i}=t,n=js(i,e);if(nt(n)){const t=e.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}function nl(t){const{scale:e,fill:i}=t,n=e.options,o=e.getLabels().length,r=n.reverse?e.max:e.min,a=Ys(i,e,r),s=[];if(n.grid.circular){const t=e.getPointPositionForValue(0,r);return new Js({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<o;++l)s.push(e.getPointPositionForValue(l,a));return s}function ol(t,e,i){const n=Qs(e),{line:o,scale:r,axis:a}=e,s=o.options,l=s.fill,h=s.backgroundColor,{above:u=h,below:c=h}=l||{};n&&o.points.length&&($e(t,i),rl(t,{line:o,target:n,above:u,below:c,area:i,scale:r,axis:a}),Ue(t))}function rl(t,e){const{line:i,target:n,above:o,below:r,area:a,scale:s}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&r!==o&&(al(t,n,a.top),sl(t,{line:i,target:n,color:o,scale:s,property:l}),t.restore(),t.save(),al(t,n,a.bottom)),sl(t,{line:i,target:n,color:r,scale:s,property:l}),t.restore()}function al(t,e,i){const{segments:n,points:o}=e;let r=!0,a=!1;t.beginPath();for(const s of n){const{start:n,end:l}=s,h=o[n],u=o[Vs(n,l,o)];r?(t.moveTo(h.x,h.y),r=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,s,{move:a}),a?t.closePath():t.lineTo(u.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function sl(t,e){const{line:i,target:n,property:o,color:r,scale:a}=e,s=Rs(i,n,o);for(const{source:l,target:h,start:u,end:c}of s){const{style:{backgroundColor:e=r}={}}=l,s=!0!==n;t.save(),t.fillStyle=e,ll(t,a,s&&Es(o,u,c)),t.beginPath();const d=!!i.pathSegment(t,l);let p;if(s){d?t.closePath():hl(t,n,c,o);const e=!!n.pathSegment(t,h,{move:d,reverse:!0});p=d&&e,p||hl(t,n,u,o)}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore()}}function ll(t,e,i){const{top:n,bottom:o}=e.chart.chartArea,{property:r,start:a,end:s}=i||{};"x"===r&&(t.beginPath(),t.rect(a,n,s-a,o-n),t.clip())}function hl(t,e,i,n){const o=e.interpolate(i,n);o&&t.lineTo(o.x,o.y)}var ul={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,o=[];let r,a,s,l;for(a=0;a<n;++a)r=t.getDatasetMeta(a),s=r.dataset,l=null,s&&s.options&&s instanceof os&&(l={visible:t.isDatasetVisible(a),index:a,fill:Hs(s,a,n),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:s}),r.$filler=l,o.push(l);for(a=0;a<n;++a)l=o[a],l&&!1!==l.fill&&(l.fill=Gs(o,a,i.propagate))},beforeDraw(t,e,i){const n="beforeDraw"===i.drawTime,o=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let a=o.length-1;a>=0;--a){const e=o[a].$filler;e&&(e.line.updateControlPoints(r,e.axis),n&&e.fill&&ol(t.ctx,e,r))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){const e=n[o].$filler;Ws(e)&&ol(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;Ws(n)&&"beforeDatasetDraw"===i.drawTime&&ol(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cl=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},dl=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pl extends Ir{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=lt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,n=ui(i.font),o=n.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=cl(i,o);let l,h;e.font=n.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(r,o,a,s)+10):(h=this.maxHeight,l=this._fitCols(r,n,a,s)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],h=n+a;let u=t;o.textAlign="left",o.textBaseline="middle";let c=-1,d=-h;return this.legendItems.forEach(((t,p)=>{const g=i+e/2+o.measureText(t.text).width;(0===p||l[l.length-1]+g+2*a>r)&&(u+=h,l[l.length-(p>0?0:1)]=0,d+=h,c++),s[p]={left:0,top:d,row:c,width:g,height:n},l[l.length-1]+=g+a})),u}_fitCols(t,e,i,n){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],h=r-t;let u=a,c=0,d=0,p=0,g=0;return this.legendItems.forEach(((t,r)=>{const{itemWidth:f,itemHeight:m}=gl(i,e,o,t,n);r>0&&d+m+2*a>h&&(u+=c+a,l.push({width:c,height:d}),p+=c+a,g++,c=d=0),s[r]={left:p,top:d,col:g,width:f,height:m},c=Math.max(c,f),d+=m+a})),u+=c,l.push({width:c,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:o}}=this,r=dn(o,this.left,this.width);if(this.isHorizontal()){let o=0,a=ce(i,this.left+n,this.right-this.lineWidths[o]);for(const s of e)o!==s.row&&(o=s.row,a=ce(i,this.left+n,this.right-this.lineWidths[o])),s.top+=this.top+t+n,s.left=r.leftForLtr(r.x(a),s.width),a+=s.width+n}else{let o=0,a=ce(i,this.top+t+n,this.bottom-this.columnSizes[o].height);for(const s of e)s.col!==o&&(o=s.col,a=ce(i,this.top+t+n,this.bottom-this.columnSizes[o].height)),s.top=a,s.left+=this.left+n,s.left=r.leftForLtr(r.x(s.left),s.width),a+=s.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;$e(t,this),this._draw(),Ue(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:o,labels:r}=t,a=Ve.color,s=dn(t.rtl,this.left,this.width),l=ui(r.font),{padding:h}=r,u=l.size,c=u/2;let d;this.drawTitle(),n.textAlign=s.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:p,boxHeight:g,itemHeight:f}=cl(r,u),m=function(t,e,i){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;n.save();const o=rt(i.lineWidth,1);if(n.fillStyle=rt(i.fillStyle,a),n.lineCap=rt(i.lineCap,"butt"),n.lineDashOffset=rt(i.lineDashOffset,0),n.lineJoin=rt(i.lineJoin,"miter"),n.lineWidth=o,n.strokeStyle=rt(i.strokeStyle,a),n.setLineDash(rt(i.lineDash,[])),r.usePointStyle){const a={radius:g*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:o},l=s.xPlus(t,p/2),h=e+c;je(n,a,l,h,r.pointStyleWidth&&p)}else{const r=e+Math.max((u-g)/2,0),a=s.leftForLtr(t,p),l=li(i.borderRadius);n.beginPath(),Object.values(l).some((t=>0!==t))?ei(n,{x:a,y:r,w:p,h:g,radius:l}):n.rect(a,r,p,g),n.fill(),0!==o&&n.stroke()}n.restore()},y=function(t,e,i){ti(n,i.text,t,e+f/2,l,{strikethrough:i.hidden,textAlign:s.textAlign(i.textAlign)})},v=this.isHorizontal(),x=this._computeTitleHeight();d=v?{x:ce(o,this.left+h,this.right-i[0]),y:this.top+h+x,line:0}:{x:this.left+h,y:ce(o,this.top+x+h,this.bottom-e[0].height),line:0},pn(this.ctx,t.textDirection);const _=f+h;this.legendItems.forEach(((a,u)=>{n.strokeStyle=a.fontColor,n.fillStyle=a.fontColor;const g=n.measureText(a.text).width,f=s.textAlign(a.textAlign||(a.textAlign=r.textAlign)),b=p+c+g;let w=d.x,M=d.y;s.setWidth(this.width),v?u>0&&w+b+h>this.right&&(M=d.y+=_,d.line++,w=d.x=ce(o,this.left+h,this.right-i[d.line])):u>0&&M+_>this.bottom&&(w=d.x=w+e[d.line].width+h,d.line++,M=d.y=ce(o,this.top+x+h,this.bottom-e[d.line].height));const S=s.x(w);if(m(S,M,a),w=de(f,w+p+c,v?w+b:this.right,t.rtl),y(s.x(w),M,a),v)d.x+=b+h;else if("string"!==typeof a.text){const t=l.lineHeight;d.y+=yl(a,t)+h}else d.y+=_})),gn(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ui(e.font),n=hi(e.padding);if(!e.display)return;const o=dn(t.rtl,this.left,this.width),r=this.ctx,a=e.position,s=i.size/2,l=n.top+s;let h,u=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),h=this.top+l,u=ce(t.align,u,this.right-c);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+ce(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=ce(a,u,u+c);r.textAlign=o.textAlign(ue(a)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,ti(r,e.text,d,h,i)}_computeTitleHeight(){const t=this.options.title,e=ui(t.font),i=hi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,o;if(Jt(t,this.left,this.right)&&Jt(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],Jt(t,n.left,n.left+n.width)&&Jt(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!vl(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const n=this._hoveredItem,o=dl(n,i);n&&!o&&lt(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!o&&lt(e.onHover,[t,i,this],this)}else i&&lt(e.onClick,[t,i,this],this)}}function gl(t,e,i,n,o){const r=fl(n,t,e,i),a=ml(o,n,e.lineHeight);return{itemWidth:r,itemHeight:a}}function fl(t,e,i,n){let o=t.text;return o&&"string"!==typeof o&&(o=o.reduce(((t,e)=>t.length>e.length?t:e))),e+i.size/2+n.measureText(o).width}function ml(t,e,i){let n=t;return"string"!==typeof e.text&&(n=yl(e,i)),n}function yl(t,e){const i=t.text?t.text.length:0;return e*i}function vl(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var xl={id:"legend",_element:pl,start(t,e,i){const n=t.legend=new pl({ctx:t.ctx,options:i,chart:t});er.configure(t,n,i),er.addBox(t,n)},stop(t){er.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;er.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,o=i.chart;o.isDatasetVisible(n)?(o.hide(n),e.hidden=!0):(o.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:o,color:r,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(i?0:void 0),h=hi(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:o||l.textAlign,borderRadius:a&&(s||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class _l extends Ir{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=et(i.text)?i.text.length:1;this._padding=hi(i.padding);const o=n*ui(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:n,right:o,options:r}=this,a=r.align;let s,l,h,u=0;return this.isHorizontal()?(l=ce(a,i,o),h=e+t,s=o-i):("left"===r.position?(l=i+t,h=ce(a,n,e),u=-.5*At):(l=o-t,h=ce(a,e,n),u=.5*At),s=n-e),{titleX:l,titleY:h,maxWidth:s,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ui(e.font),n=i.lineHeight,o=n/2+this._padding.top,{titleX:r,titleY:a,maxWidth:s,rotation:l}=this._drawArgs(o);ti(t,e.text,0,0,i,{color:e.color,maxWidth:s,rotation:l,textAlign:ue(e.align),textBaseline:"middle",translation:[r,a]})}}function bl(t,e){const i=new _l({ctx:t.ctx,options:e,chart:t});er.configure(t,i,e),er.addBox(t,i),t.titleBlock=i}var wl={id:"title",_element:_l,start(t,e,i){bl(t,i)},stop(t){const e=t.titleBlock;er.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;er.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ml=new WeakMap;var Sl={id:"subtitle",start(t,e,i){const n=new _l({ctx:t.ctx,options:i,chart:t});er.configure(t,n,i),er.addBox(t,n),Ml.set(t,n)},stop(t){er.removeBox(t,Ml.get(t)),Ml.delete(t)},beforeUpdate(t,e,i){const n=Ml.get(t);er.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Il={average(t){if(!t.length)return!1;let e,i,n=new Set,o=0,r=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();n.add(t.x),o+=t.y,++r}}if(0===r||0===n.size)return!1;const a=[...n].reduce(((t,e)=>t+e))/n.size;return{x:a,y:o/r}},nearest(t,e){if(!t.length)return!1;let i,n,o,r=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){const n=t[i].element;if(n&&n.hasValue()){const t=n.getCenterPoint(),i=Yt(e,t);i<s&&(s=i,o=n)}}if(o){const t=o.tooltipPosition();r=t.x,a=t.y}return{x:r,y:a}}};function Al(t,e){return e&&(et(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Cl(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Tl(t,e){const{element:i,datasetIndex:n,index:o}=e,r=t.getDatasetMeta(n).controller,{label:a,value:s}=r.getLabelAndValue(o);return{chart:t,label:a,parsed:r.getParsed(o),raw:t.data.datasets[n].data[o],formattedValue:s,dataset:r.getDataset(),dataIndex:o,datasetIndex:n,element:i}}function Dl(t,e){const i=t.chart.ctx,{body:n,footer:o,title:r}=t,{boxWidth:a,boxHeight:s}=e,l=ui(e.bodyFont),h=ui(e.titleFont),u=ui(e.footerFont),c=r.length,d=o.length,p=n.length,g=hi(e.padding);let f=g.height,m=0,y=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,c&&(f+=c*h.lineHeight+(c-1)*e.titleSpacing+e.titleMarginBottom),y){const t=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;f+=p*t+(y-p)*l.lineHeight+(y-1)*e.bodySpacing}d&&(f+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const x=function(t){m=Math.max(m,i.measureText(t).width+v)};return i.save(),i.font=h.string,ht(t.title,x),i.font=l.string,ht(t.beforeBody.concat(t.afterBody),x),v=e.displayColors?a+2+e.boxPadding:0,ht(n,(t=>{ht(t.before,x),ht(t.lines,x),ht(t.after,x)})),v=0,i.font=u.string,ht(t.footer,x),i.restore(),m+=g.width,{width:m,height:f}}function Ll(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}function kl(t,e,i,n){const{x:o,width:r}=n,a=i.caretSize+i.caretPadding;return"left"===t&&o+r+a>e.width||("right"===t&&o-r-a<0||void 0)}function Pl(t,e,i,n){const{x:o,width:r}=i,{width:a,chartArea:{left:s,right:l}}=t;let h="center";return"center"===n?h=o<=(s+l)/2?"left":"right":o<=r/2?h="left":o>=a-r/2&&(h="right"),kl(h,t,e,i)&&(h="center"),h}function Ol(t,e,i){const n=i.yAlign||e.yAlign||Ll(t,i);return{xAlign:i.xAlign||e.xAlign||Pl(t,e,i,n),yAlign:n}}function Nl(t,e){let{x:i,width:n}=t;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}function Rl(t,e,i){let{y:n,height:o}=t;return"top"===e?n+=i:n-="bottom"===e?o+i:o/2,n}function El(t,e,i,n){const{caretSize:o,caretPadding:r,cornerRadius:a}=t,{xAlign:s,yAlign:l}=i,h=o+r,{topLeft:u,topRight:c,bottomLeft:d,bottomRight:p}=li(a);let g=Nl(e,s);const f=Rl(e,l,h);return"center"===l?"left"===s?g+=h:"right"===s&&(g-=h):"left"===s?g-=Math.max(u,d)+o:"right"===s&&(g+=Math.max(c,p)+o),{x:qt(g,0,n.width-e.width),y:qt(f,0,n.height-e.height)}}function zl(t,e,i){const n=hi(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function Vl(t){return Al([],Cl(t))}function Bl(t,e,i){return pi(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function Fl(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Wl={beforeTitle:J,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:J,beforeBody:J,beforeLabel:J,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return tt(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),i=e.controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),i=e.controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:J,afterBody:J,beforeFooter:J,footer:J,afterFooter:J};function Gl(t,e,i,n){const o=t[e].call(i,n);return"undefined"===typeof o?Wl[e].call(i,n):o}class Hl extends Ir{static positioners=Il;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,o=new Pn(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Bl(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,n=Gl(i,"beforeTitle",this,t),o=Gl(i,"title",this,t),r=Gl(i,"afterTitle",this,t);let a=[];return a=Al(a,Cl(n)),a=Al(a,Cl(o)),a=Al(a,Cl(r)),a}getBeforeBody(t,e){return Vl(Gl(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return ht(t,(t=>{const e={before:[],lines:[],after:[]},o=Fl(i,t);Al(e.before,Cl(Gl(o,"beforeLabel",this,t))),Al(e.lines,Gl(o,"label",this,t)),Al(e.after,Cl(Gl(o,"afterLabel",this,t))),n.push(e)})),n}getAfterBody(t,e){return Vl(Gl(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=Gl(i,"beforeFooter",this,t),o=Gl(i,"footer",this,t),r=Gl(i,"afterFooter",this,t);let a=[];return a=Al(a,Cl(n)),a=Al(a,Cl(o)),a=Al(a,Cl(r)),a}_createItems(t){const e=this._active,i=this.chart.data,n=[],o=[],r=[];let a,s,l=[];for(a=0,s=e.length;a<s;++a)l.push(Tl(this.chart,e[a]));return t.filter&&(l=l.filter(((e,n,o)=>t.filter(e,n,o,i)))),t.itemSort&&(l=l.sort(((e,n)=>t.itemSort(e,n,i)))),ht(l,(e=>{const i=Fl(t.callbacks,e);n.push(Gl(i,"labelColor",this,e)),o.push(Gl(i,"labelPointStyle",this,e)),r.push(Gl(i,"labelTextColor",this,e))})),this.labelColors=n,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let o,r=[];if(n.length){const t=Il[i.position].call(this,n,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const e=this._size=Dl(this,i),a=Object.assign({},t,e),s=Ol(this.chart,i,a),l=El(i,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,o={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const o=this.getCaretPosition(t,i,n);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:o}=this,{caretSize:r,cornerRadius:a}=i,{topLeft:s,topRight:l,bottomLeft:h,bottomRight:u}=li(a),{x:c,y:d}=t,{width:p,height:g}=e;let f,m,y,v,x,_;return"center"===o?(x=d+g/2,"left"===n?(f=c,m=f-r,v=x+r,_=x-r):(f=c+p,m=f+r,v=x-r,_=x+r),y=f):(m="left"===n?c+Math.max(s,h)+r:"right"===n?c+p-Math.max(l,u)-r:this.caretX,"top"===o?(v=d,x=v-r,f=m-r,y=m+r):(v=d+g,x=v+r,f=m+r,y=m-r),_=v),{x1:f,x2:m,x3:y,y1:v,y2:x,y3:_}}drawTitle(t,e,i){const n=this.title,o=n.length;let r,a,s;if(o){const l=dn(i.rtl,this.x,this.width);for(t.x=zl(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",r=ui(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=r.string,s=0;s<o;++s)e.fillText(n[s],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,s+1===o&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,n,o){const r=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:s,boxWidth:l}=o,h=ui(o.bodyFont),u=zl(this,"left",o),c=n.x(u),d=s<h.lineHeight?(h.lineHeight-s)/2:0,p=e.y+d;if(o.usePointStyle){const e={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},i=n.leftForLtr(c,l)+l/2,h=p+s/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Xe(t,e,i,h),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Xe(t,e,i,h)}else{t.lineWidth=it(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=n.leftForLtr(c,l),i=n.leftForLtr(n.xPlus(c,1),l-2),a=li(r.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ei(t,{x:e,y:p,w:l,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),ei(t,{x:i,y:p+1,w:l-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(e,p,l,s),t.strokeRect(e,p,l,s),t.fillStyle=r.backgroundColor,t.fillRect(i,p+1,l-2,s-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:h}=i,u=ui(i.bodyFont);let c=u.lineHeight,d=0;const p=dn(i.rtl,this.x,this.width),g=function(i){e.fillText(i,p.x(t.x+d),t.y+c/2),t.y+=c+o},f=p.textAlign(r);let m,y,v,x,_,b,w;for(e.textAlign=r,e.textBaseline="middle",e.font=u.string,t.x=zl(this,f,i),e.fillStyle=i.bodyColor,ht(this.beforeBody,g),d=a&&"right"!==f?"center"===r?l/2+h:l+2+h:0,x=0,b=n.length;x<b;++x){for(m=n[x],y=this.labelTextColors[x],e.fillStyle=y,ht(m.before,g),v=m.lines,a&&v.length&&(this._drawColorBox(e,t,x,p,i),c=Math.max(u.lineHeight,s)),_=0,w=v.length;_<w;++_)g(v[_]),c=u.lineHeight;ht(m.after,g)}d=0,c=u.lineHeight,ht(this.afterBody,g),t.y-=o}drawFooter(t,e,i){const n=this.footer,o=n.length;let r,a;if(o){const s=dn(i.rtl,this.x,this.width);for(t.x=zl(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=s.textAlign(i.footerAlign),e.textBaseline="middle",r=ui(i.footerFont),e.fillStyle=i.footerColor,e.font=r.string,a=0;a<o;++a)e.fillText(n[a],s.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:o,yAlign:r}=this,{x:a,y:s}=t,{width:l,height:h}=i,{topLeft:u,topRight:c,bottomLeft:d,bottomRight:p}=li(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(a+u,s),"top"===r&&this.drawCaret(t,e,i,n),e.lineTo(a+l-c,s),e.quadraticCurveTo(a+l,s,a+l,s+c),"center"===r&&"right"===o&&this.drawCaret(t,e,i,n),e.lineTo(a+l,s+h-p),e.quadraticCurveTo(a+l,s+h,a+l-p,s+h),"bottom"===r&&this.drawCaret(t,e,i,n),e.lineTo(a+d,s+h),e.quadraticCurveTo(a,s+h,a,s+h-d),"center"===r&&"left"===o&&this.drawCaret(t,e,i,n),e.lineTo(a,s+u),e.quadraticCurveTo(a,s,a+u,s),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,o=i&&i.y;if(n||o){const i=Il[t.position].call(this,this._active,this._eventPosition);if(!i)return;const r=this._size=Dl(this,t),a=Object.assign({},i,this._size),s=Ol(e,t,a),l=El(t,a,s,e);n._to===l.x&&o._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=r.width,this.height=r.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=hi(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,n,e),pn(t,e.textDirection),o.y+=r.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),gn(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),o=!ut(i,n),r=this._positionChanged(n,e);(o||r)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,o=this._active||[],r=this._getActiveElements(t,o,e,i),a=this._positionChanged(r,t),s=e||!ut(r,o)||a;return s&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,i,n){const o=this.options;if("mouseout"===t.type)return[];if(!n)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const r=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:i,caretY:n,options:o}=this,r=Il[o.position].call(this,t,e);return!1!==r&&(i!==r.x||n!==r.y)}}var Xl={id:"tooltip",_element:Hl,positioners:Il,afterInit(t,e,i){i&&(t.tooltip=new Hl({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Wl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},jl=Object.freeze({__proto__:null,Colors:Ts,Decimation:Ns,Filler:ul,Legend:xl,SubTitle:Sl,Title:wl,Tooltip:Xl});const Yl=(t,e,i,n)=>("string"===typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function $l(t,e,i,n){const o=t.indexOf(e);if(-1===o)return Yl(t,e,i,n);const r=t.lastIndexOf(e);return o!==r?i:o}const Ul=(t,e)=>null===t?null:qt(Math.round(t),0,e);function Zl(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ql extends jr{static id="category";static defaults={ticks:{callback:Zl}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(tt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:$l(i,t,rt(e,t),this._addedLabels),Ul(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=t;r<=e;r++)n.push({value:r});return n}getLabelForValue(t){return Zl.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Kl(t,e){const i=[],n=1e-14,{bounds:o,step:r,min:a,max:s,precision:l,count:h,maxTicks:u,maxDigits:c,includeBounds:d}=t,p=r||1,g=u-1,{min:f,max:m}=e,y=!tt(a),v=!tt(s),x=!tt(h),_=(m-f)/(c+1);let b,w,M,S,I=zt((m-f)/g/p)*p;if(I<n&&!y&&!v)return[{value:f},{value:m}];S=Math.ceil(m/I)-Math.floor(f/I),S>g&&(I=zt(S*I/g/p)*p),tt(l)||(b=Math.pow(10,l),I=Math.ceil(I*b)/b),"ticks"===o?(w=Math.floor(f/I)*I,M=Math.ceil(m/I)*I):(w=f,M=m),y&&v&&r&&Ft((s-a)/r,I/1e3)?(S=Math.round(Math.min((s-a)/I,u)),I=(s-a)/S,w=a,M=s):x?(w=y?a:w,M=v?s:M,S=h-1,I=(M-w)/S):(S=(M-w)/I,S=Et(S,Math.round(S),I/1e3)?Math.round(S):Math.ceil(S));const A=Math.max(Xt(I),Xt(w));b=Math.pow(10,tt(l)?A:l),w=Math.round(w*b)/b,M=Math.round(M*b)/b;let C=0;for(y&&(d&&w!==a?(i.push({value:a}),w<a&&C++,Et(Math.round((w+C*I)*b)/b,a,Jl(a,_,t))&&C++):w<a&&C++);C<S;++C){const t=Math.round((w+C*I)*b)/b;if(v&&t>s)break;i.push({value:t})}return v&&d&&M!==s?i.length&&Et(i[i.length-1].value,s,Jl(s,_,t))?i[i.length-1].value=s:i.push({value:s}):v&&M!==s||i.push({value:M}),i}function Jl(t,e,{horizontal:i,minRotation:n}){const o=Gt(n),r=(i?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class Ql extends jr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return tt(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:o}=this;const r=t=>n=e?n:t,a=t=>o=i?o:t;if(t){const t=Rt(n),e=Rt(o);t<0&&e<0?a(0):t>0&&e>0&&r(0)}if(n===o){let e=0===o?1:Math.abs(.05*o);a(o+e),t||r(n-e)}this.min=n,this.max=o}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:n}=t;return n?(e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},o=this._range||this,r=Kl(n,o);return"ticks"===t.bounds&&Wt(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Te(t,this.chart.options.locale,this.options.ticks.format)}}class th extends Ql{static id="linear";static defaults={ticks:{callback:ke.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=nt(t)?t:0,this.max=nt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Gt(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const eh=t=>Math.floor(Nt(t)),ih=(t,e)=>Math.pow(10,eh(t)+e);function nh(t){const e=t/Math.pow(10,eh(t));return 1===e}function oh(t,e,i){const n=Math.pow(10,i),o=Math.floor(t/n),r=Math.ceil(e/n);return r-o}function rh(t,e){const i=e-t;let n=eh(i);while(oh(t,e,n)>10)n++;while(oh(t,e,n)<10)n--;return Math.min(n,eh(t))}function ah(t,{min:e,max:i}){e=ot(t.min,e);const n=[],o=eh(e);let r=rh(e,i),a=r<0?Math.pow(10,Math.abs(r)):1;const s=Math.pow(10,r),l=o>r?Math.pow(10,o):0,h=Math.round((e-l)*a)/a,u=Math.floor((e-l)/s/10)*s*10;let c=Math.floor((h-u)/Math.pow(10,r)),d=ot(t.min,Math.round((l+u+c*Math.pow(10,r))*a)/a);while(d<i)n.push({value:d,major:nh(d),significand:c}),c>=10?c=c<15?15:20:c++,c>=20&&(r++,c=2,a=r>=0?1:a),d=Math.round((l+u+c*Math.pow(10,r))*a)/a;const p=ot(t.max,d);return n.push({value:p,major:nh(p),significand:c}),n}class sh extends jr{static id="logarithmic";static defaults={ticks:{callback:ke.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Ql.prototype.parse.apply(this,[t,e]);if(0!==i)return nt(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=nt(t)?Math.max(0,t):null,this.max=nt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!nt(this._userMin)&&(this.min=t===ih(this.min,0)?ih(this.min,-1):ih(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const o=e=>i=t?i:e,r=t=>n=e?n:t;i===n&&(i<=0?(o(1),r(10)):(o(ih(i,-1)),r(ih(n,1)))),i<=0&&o(ih(n,-1)),n<=0&&r(ih(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=ah(e,this);return"ticks"===t.bounds&&Wt(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Te(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Nt(t),this._valueRange=Nt(this.max)-Nt(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Nt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function lh(t){const e=t.ticks;if(e.display&&t.display){const t=hi(e.backdropPadding);return rt(e.font&&e.font.size,Ve.font.size)+t.height}return 0}function hh(t,e,i){return i=et(i)?i:[i],{w:We(t,e.string,i),h:i.length*e.lineHeight}}function uh(t,e,i,n,o){return t===n||t===o?{start:e-i/2,end:e+i/2}:t<n||t>o?{start:e-i,end:e}:{start:e,end:e+i}}function ch(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],o=[],r=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?At/r:0;for(let l=0;l<r;l++){const r=a.setContext(t.getPointLabelContext(l));o[l]=r.padding;const h=t.getPointPosition(l,t.drawingArea+o[l],s),u=ui(r.font),c=hh(t.ctx,u,t._pointLabels[l]);n[l]=c;const d=Ut(t.getIndexAngle(l)+s),p=Math.round(Ht(d)),g=uh(p,h.x,c.w,0,180),f=uh(p,h.y,c.h,90,270);dh(i,e,d,g,f)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=fh(t,n,o)}function dh(t,e,i,n,o){const r=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let s=0,l=0;n.start<e.l?(s=(e.l-n.start)/r,t.l=Math.min(t.l,e.l-s)):n.end>e.r&&(s=(n.end-e.r)/r,t.r=Math.max(t.r,e.r+s)),o.start<e.t?(l=(e.t-o.start)/a,t.t=Math.min(t.t,e.t-l)):o.end>e.b&&(l=(o.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function ph(t,e,i){const n=t.drawingArea,{extra:o,additionalAngle:r,padding:a,size:s}=i,l=t.getPointPosition(e,n+o+a,r),h=Math.round(Ht(Ut(l.angle+kt))),u=vh(l.y,s.h,h),c=mh(h),d=yh(l.x,s.w,c);return{visible:!0,x:l.x,y:u,textAlign:c,left:d,top:u,right:d+s.w,bottom:u+s.h}}function gh(t,e){if(!e)return!0;const{left:i,top:n,right:o,bottom:r}=t,a=Ye({x:i,y:n},e)||Ye({x:i,y:r},e)||Ye({x:o,y:n},e)||Ye({x:o,y:r},e);return!a}function fh(t,e,i){const n=[],o=t._pointLabels.length,r=t.options,{centerPointLabels:a,display:s}=r.pointLabels,l={extra:lh(r)/2,additionalAngle:a?At/o:0};let h;for(let u=0;u<o;u++){l.padding=i[u],l.size=e[u];const o=ph(t,u,l);n.push(o),"auto"===s&&(o.visible=gh(o,h),o.visible&&(h=o))}return n}function mh(t){return 0===t||180===t?"center":t<180?"left":"right"}function yh(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function vh(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}function xh(t,e,i){const{left:n,top:o,right:r,bottom:a}=i,{backdropColor:s}=e;if(!tt(s)){const i=li(e.borderRadius),l=hi(e.backdropPadding);t.fillStyle=s;const h=n-l.left,u=o-l.top,c=r-n+l.width,d=a-o+l.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),ei(t,{x:h,y:u,w:c,h:d,radius:i}),t.fill()):t.fillRect(h,u,c,d)}}function _h(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let o=e-1;o>=0;o--){const e=t._pointLabelItems[o];if(!e.visible)continue;const r=n.setContext(t.getPointLabelContext(o));xh(i,r,e);const a=ui(r.font),{x:s,y:l,textAlign:h}=e;ti(i,t._pointLabels[o],s,l+a.lineHeight/2,a,{color:r.color,textAlign:h,textBaseline:"middle"})}}function bh(t,e,i,n){const{ctx:o}=t;if(i)o.arc(t.xCenter,t.yCenter,e,0,Ct);else{let i=t.getPointPosition(0,e);o.moveTo(i.x,i.y);for(let r=1;r<n;r++)i=t.getPointPosition(r,e),o.lineTo(i.x,i.y)}}function wh(t,e,i,n,o){const r=t.ctx,a=e.circular,{color:s,lineWidth:l}=e;!a&&!n||!s||!l||i<0||(r.save(),r.strokeStyle=s,r.lineWidth=l,r.setLineDash(o.dash),r.lineDashOffset=o.dashOffset,r.beginPath(),bh(t,i,a,n),r.closePath(),r.stroke(),r.restore())}function Mh(t,e,i){return pi(t,{label:i,index:e,type:"pointLabel"})}class Sh extends Ql{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ke.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=hi(lh(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=nt(t)&&!isNaN(t)?t:0,this.max=nt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/lh(this.options))}generateTickLabels(t){Ql.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=lt(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?ch(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){const e=Ct/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ut(t*e+Gt(i))}getDistanceFromCenterForValue(t){if(tt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(tt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return Mh(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-kt+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),bh(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:o}=e,r=this._pointLabels.length;let a,s,l;if(e.pointLabels.display&&_h(this,r),n.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){s=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),a=n.setContext(i),l=o.setContext(i);wh(this,a,s,r,l)}})),i.display){for(t.save(),a=r-1;a>=0;a--){const n=i.setContext(this.getPointLabelContext(a)),{color:o,lineWidth:r}=n;r&&o&&(t.lineWidth=r,t.strokeStyle=o,t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,s=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((n,a)=>{if(0===a&&this.min>=0&&!e.reverse)return;const s=i.setContext(this.getContext(a)),l=ui(s.font);if(o=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){t.font=l.string,r=t.measureText(n.label).width,t.fillStyle=s.backdropColor;const e=hi(s.backdropPadding);t.fillRect(-r/2-e.left,-o-l.size/2-e.top,r+e.width,l.size+e.height)}ti(t,n.label,0,-o,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),t.restore()}drawTitle(){}}const Ih={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ah=Object.keys(Ih);function Ch(t,e){return t-e}function Th(t,e){if(tt(e))return null;const i=t._adapter,{parser:n,round:o,isoWeekday:r}=t._parseOpts;let a=e;return"function"===typeof n&&(a=n(a)),nt(a)||(a="string"===typeof n?i.parse(a,n):i.parse(a)),null===a?null:(o&&(a="week"!==o||!Bt(r)&&!0!==r?i.startOf(a,o):i.startOf(a,"isoWeek",r)),+a)}function Dh(t,e,i,n){const o=Ah.length;for(let r=Ah.indexOf(t);r<o-1;++r){const t=Ih[Ah[r]],o=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(o*t.size))<=n)return Ah[r]}return Ah[o-1]}function Lh(t,e,i,n,o){for(let r=Ah.length-1;r>=Ah.indexOf(i);r--){const i=Ah[r];if(Ih[i].common&&t._adapter.diff(o,n,i)>=e-1)return i}return Ah[i?Ah.indexOf(i):0]}function kh(t){for(let e=Ah.indexOf(t)+1,i=Ah.length;e<i;++e)if(Ih[Ah[e]].common)return Ah[e]}function Ph(t,e,i){if(i){if(i.length){const{lo:n,hi:o}=Qt(i,e),r=i[n]>=e?i[n]:i[o];t[r]=!0}}else t[e]=!0}function Oh(t,e,i,n){const o=t._adapter,r=+o.startOf(e[0].value,n),a=e[e.length-1].value;let s,l;for(s=r;s<=a;s=+o.add(s,1,n))l=i[s],l>=0&&(e[l].major=!0);return e}function Nh(t,e,i){const n=[],o={},r=e.length;let a,s;for(a=0;a<r;++a)s=e[a],o[s]=a,n.push({value:s,major:!1});return 0!==r&&i?Oh(t,n,o,i):n}class Rh extends jr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new Do._date(t.adapters.date);n.init(e),ft(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Th(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function s(t){r||isNaN(t.min)||(n=Math.min(n,t.min)),a||isNaN(t.max)||(o=Math.max(o,t.max))}r&&a||(s(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||s(this.getMinMax(!1))),n=nt(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),o=nt(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,o-1),this.max=Math.max(n+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const o=this.min,r=this.max,a=ie(n,o,r);return this._unit=e.unit||(i.autoSkip?Dh(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Lh(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?kh(this._unit):void 0,this.initOffsets(n),t.reverse&&a.reverse(),Nh(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,n=0,o=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),o=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;n=qt(n,0,r),o=qt(o,0,r),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,o=n.time,r=o.unit||Dh(o.minUnit,e,i,this._getLabelCapacity(e)),a=rt(n.ticks.stepSize,1),s="week"===r&&o.isoWeekday,l=Bt(s)||!0===s,h={};let u,c,d=e;if(l&&(d=+t.startOf(d,"isoWeek",s)),d=+t.startOf(d,l?"day":r),t.diff(i,e,r)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+r);const p="data"===n.ticks.source&&this.getDataTimestamps();for(u=d,c=0;u<i;u=+t.add(u,a,r),c++)Ph(h,u,p);return u!==i&&"ticks"!==n.bounds&&1!==c||Ph(h,u,p),Object.keys(h).sort(Ch).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options,n=i.time.displayFormats,o=this._unit,r=e||n[o];return this._adapter.format(t,r)}_tickFormatFunction(t,e,i,n){const o=this.options,r=o.ticks.callback;if(r)return lt(r,[t,e,i],this);const a=o.time.displayFormats,s=this._unit,l=this._majorUnit,h=s&&a[s],u=l&&a[l],c=i[e],d=l&&u&&c&&c.major;return this._adapter.format(t,n||(d?u:h))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=Gt(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(n),r=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*o+a*r,h:i*r+a*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Nh(this,[t],this._majorUnit),n),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(Th(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ae(t.sort(Ch))}}function Eh(t,e,i){let n,o,r,a,s=0,l=t.length-1;i?(e>=t[s].pos&&e<=t[l].pos&&({lo:s,hi:l}=te(t,"pos",e)),({pos:n,time:r}=t[s]),({pos:o,time:a}=t[l])):(e>=t[s].time&&e<=t[l].time&&({lo:s,hi:l}=te(t,"time",e)),({time:n,pos:r}=t[s]),({time:o,pos:a}=t[l]));const h=o-n;return h?r+(a-r)*(e-n)/h:r}class zh extends Rh{static id="timeseries";static defaults=Rh.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Eh(e,this.min),this._tableRange=Eh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],o=[];let r,a,s,l,h;for(r=0,a=t.length;r<a;++r)l=t[r],l>=e&&l<=i&&n.push(l);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(r=0,a=n.length;r<a;++r)h=n[r+1],s=n[r-1],l=n[r],Math.round((h+s)/2)!==l&&o.push({time:l,pos:r/(a-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Eh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Eh(this._table,i*this._tableRange+this._minPos,!0)}}var Vh=Object.freeze({__proto__:null,CategoryScale:ql,LinearScale:th,LogarithmicScale:sh,RadialLinearScale:Sh,TimeScale:Rh,TimeSeriesScale:zh});const Bh=[Ao,ys,jl,Vh];Ea.register(...Bh);var Fh={mounted(){this.fetchDataAndRenderChart(),this.dataRefreshInterval=setInterval((()=>{this.fetchDataAndRenderChart()}),3e4)},beforeDestroy(){clearInterval(this.dataRefreshInterval)},data(){return{devices:[],chart:null,dataRefreshInterval:null}},methods:{async fetchDataAndRenderChart(){try{const t=await fetch("http://127.0.0.1:5000/devices"),e=await t.json();this.devices=e.map((t=>({...t,reading_time:new Date(t.reading_time).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai",hour12:!1})})));const i=this.devices.map((t=>t.监测时间)),n=this.devices.map((t=>t.温度水平)),o=this.devices.map((t=>t.湿度水平)),r=document.getElementById("lineChart").getContext("2d");this.chart&&this.chart.destroy(),this.chart=new Ea(r,{type:"line",data:{labels:i,datasets:[{label:"温度值",data:n,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:3},{label:"湿度值",data:o,borderColor:"rgba(255, 206, 86, 1)",backgroundColor:"rgba(255, 206, 86, 0.2)",borderWidth:3}]},options:{scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}}})}catch(t){console.error("Error fetching data:",t)}}},created(){this.fetchDataAndRenderChart()}},Wh=Fh,Gh=i(1656),Hh=i(630),Xh=i.n(Hh),jh=i(8560),Yh=i.n(jh),$h=(0,Gh.A)(Wh,r,a,!1,null,null,null);"function"===typeof Xh()&&Xh()($h),"function"===typeof Yh()&&Yh()($h);var Uh=$h.exports,Zh={name:"DataView",components:{app:Uh}},qh=Zh,Kh=(0,Gh.A)(qh,n,o,!1,null,null,null),Jh=Kh.exports},2793:function(t,e,i){"use strict";i.r(e);var n,o,r=i(1656),a={},s=(0,r.A)(a,n,o,!1,null,null,null);e["default"]=s.exports},630:function(){},8560:function(){},4782:function(t,e,i){"use strict";t.exports=i.p+"img/11.2f734be1.jpg"},6196:function(t,e,i){"use strict";t.exports=i.p+"img/22.b7738f83.jpg"},8002:function(t,e,i){"use strict";t.exports=i.p+"img/33.0735bd2f.jpg"},7812:function(t,e,i){"use strict";t.exports=i.p+"img/44.8d417b7f.jpg"}}]);
//# sourceMappingURL=about.adfc4897.js.map